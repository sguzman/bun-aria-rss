<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	xmlns:georss="http://www.georss.org/georss" xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#" xmlns:media="http://search.yahoo.com/mrss/"
	>

<channel>
	<title>Mathematica for prediction algorithms</title>
	<atom:link href="https://mathematicaforprediction.wordpress.com/feed/" rel="self" type="application/rss+xml" />
	<link>https://mathematicaforprediction.wordpress.com</link>
	<description>Using Mathematica implementations of machine learning algorithms</description>
	<lastBuildDate>Mon, 31 Oct 2022 18:28:49 +0000</lastBuildDate>
	<language>en</language>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>http://wordpress.com/</generator>
<cloud domain='mathematicaforprediction.wordpress.com' port='80' path='/?rsscloud=notify' registerProcedure='' protocol='http-post' />
<image>
		<url>https://s0.wp.com/i/buttonw-com.png</url>
		<title>Mathematica for prediction algorithms</title>
		<link>https://mathematicaforprediction.wordpress.com</link>
	</image>
	<atom:link rel="search" type="application/opensearchdescription+xml" href="https://mathematicaforprediction.wordpress.com/osd.xml" title="Mathematica for prediction algorithms" />
	<atom:link rel='hub' href='https://mathematicaforprediction.wordpress.com/?pushpress=hub'/>
	<item>
		<title>Halloween Rorschach animations</title>
		<link>https://mathematicaforprediction.wordpress.com/2022/10/31/halloween-rorschach-animations/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2022/10/31/halloween-rorschach-animations/#respond</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Mon, 31 Oct 2022 18:28:49 +0000</pubDate>
				<category><![CDATA[Image processing]]></category>
		<category><![CDATA[Latent Semantic Analysis]]></category>
		<category><![CDATA[Machine learning]]></category>
		<category><![CDATA[video processing]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1269</guid>

					<description><![CDATA[In this post we discuss a method to make animations of Rorschach images and project those animations over 3D surfaces. The work is inspired by the visual effects of Rorschach's mask in the 2009 movie "Watchmen".
See the Imgur gallery "Attempts to recreate Rorschach's mask" for examples.]]></description>
										<content:encoded><![CDATA[
<p>Last weekend I made and uploaded to YouTube a <a href="https://www.youtube.com/watch?v=-INMkfjLPQE" target="_blank" rel="noreferrer noopener">presentation</a> discussing the making of Rorschach mask animations in both 2D and 3D:</p>



<figure class="wp-block-image size-large"><a href="https://www.youtube.com/watch?v=-INMkfjLPQE" target="_blank" rel="https://www.youtube.com/watch?v=-INMkfjLPQE"><img data-attachment-id="1272" data-permalink="https://mathematicaforprediction.wordpress.com/2022/10/31/halloween-rorschach-animations/screenshot-2022-10-31-at-11-37-17-am/#main" data-orig-file="https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png" data-orig-size="1823,1301" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="Screenshot 2022-10-31 at 11.37.17 AM" data-image-description="" data-image-caption="" data-medium-file="https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=300" data-large-file="https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=630" src="https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=1024" alt="" class="wp-image-1272" srcset="https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=1024 1024w, https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=150 150w, https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=300 300w, https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=768 768w, https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png 1823w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></figure>



<p>Here are Mathematica notebooks discussing the process in detail:</p>



<ul>
<li><a rel="noreferrer noopener" href="https://community.wolfram.com/groups/-/m/t/2679219" target="_blank">&#8220;Making Rorschach mask animations presentation&#8221;</a></li>
</ul>



<ul>
<li><a rel="noreferrer noopener" href="https://community.wolfram.com/groups/-/m/t/2518279" target="_blank">&#8220;Rorschach mask animations projected over 3D surfaces&#8221;</a></li>
</ul>



<p>Here is the link to the Imgur gallery of animations: <a rel="noreferrer noopener" href="https://imgur.com/a/tzuzcWu" target="_blank">&#8220;Attempts to recreate Rorschach&#8217;s mask&#8221;</a>.</p>



<p>Here is the Halloween animation I made today:</p>



<figure class="wp-block-image size-large"><a href="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-46-07.gif"><img data-attachment-id="1273" data-permalink="https://mathematicaforprediction.wordpress.com/2022/10/31/halloween-rorschach-animations/motionrorschach-2022-10-31t13-46-07/#main" data-orig-file="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-46-07.gif" data-orig-size="572,288" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MotionRorschach-2022-10-31T13-46-07" data-image-description="" data-image-caption="" data-medium-file="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-46-07.gif?w=300" data-large-file="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-46-07.gif?w=572" src="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-46-07.gif?w=572" alt="" class="wp-image-1273" /></a></figure>



<p>Here is the black-&amp;-white version:</p>



<figure class="wp-block-image size-large"><a href="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-45-27.gif"><img data-attachment-id="1279" data-permalink="https://mathematicaforprediction.wordpress.com/2022/10/31/halloween-rorschach-animations/motionrorschach-2022-10-31t13-45-27/#main" data-orig-file="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-45-27.gif" data-orig-size="572,288" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="MotionRorschach-2022-10-31T13-45-27" data-image-description="" data-image-caption="" data-medium-file="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-45-27.gif?w=300" data-large-file="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-45-27.gif?w=572" src="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-45-27.gif?w=572" alt="" class="wp-image-1279" /></a></figure>



<p>Here is a collage of the &#8220;guiding images&#8221; for the animations above:</p>



<figure class="wp-block-image size-large"><a href="https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg"><img data-attachment-id="1281" data-permalink="https://mathematicaforprediction.wordpress.com/2022/10/31/halloween-rorschach-animations/halloweenanimationguidecollage/#main" data-orig-file="https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg" data-orig-size="1145,344" data-comments-opened="1" data-image-meta="{&quot;aperture&quot;:&quot;0&quot;,&quot;credit&quot;:&quot;&quot;,&quot;camera&quot;:&quot;&quot;,&quot;caption&quot;:&quot;&quot;,&quot;created_timestamp&quot;:&quot;0&quot;,&quot;copyright&quot;:&quot;&quot;,&quot;focal_length&quot;:&quot;0&quot;,&quot;iso&quot;:&quot;0&quot;,&quot;shutter_speed&quot;:&quot;0&quot;,&quot;title&quot;:&quot;&quot;,&quot;orientation&quot;:&quot;0&quot;}" data-image-title="HalloweenAnimationGuideCollage" data-image-description="" data-image-caption="" data-medium-file="https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=300" data-large-file="https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=630" src="https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=1024" alt="" class="wp-image-1281" srcset="https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=1024 1024w, https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=150 150w, https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=300 300w, https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=768 768w, https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg 1145w" sizes="(max-width: 1024px) 100vw, 1024px" /></a></figure>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2022/10/31/halloween-rorschach-animations/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-04-24-clipped-unitized-oiled.gif" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-04-24-clipped-unitized-oiled.gif" medium="image">
			<media:title type="html">MotionRorschach-2022-04-24-clipped-unitized-oiled</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/10/screenshot-2022-10-31-at-11.37.17-am.png?w=1024" medium="image" />

		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-46-07.gif?w=572" medium="image" />

		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/10/motionrorschach-2022-10-31t13-45-27.gif?w=572" medium="image" />

		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/10/halloweenanimationguidecollage.jpeg?w=1024" medium="image" />
	</item>
		<item>
		<title>Trie based classifiers evaluation</title>
		<link>https://mathematicaforprediction.wordpress.com/2022/08/25/trie-based-classifiers-evaluation/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2022/08/25/trie-based-classifiers-evaluation/#respond</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Thu, 25 Aug 2022 19:52:43 +0000</pubDate>
				<category><![CDATA[Mathematica]]></category>
		<category><![CDATA[Naive Bayesian Classifier]]></category>
		<category><![CDATA[Tries (Prefix Trees)]]></category>
		<category><![CDATA[Classification]]></category>
		<category><![CDATA[ROC]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1261</guid>

					<description><![CDATA[In this notebook we show how to evaluate Machine Learning (ML) classifiers based on Tries with frequencies created over a well known ML dataset. The computations are done with packages and functions from the Wolfram Language (WL) ecosystem.]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>In this notebook we show how to evaluate Machine Learning (ML)&nbsp;classifiers based on <a href="https://en.wikipedia.org/wiki/Trie">Tries</a> with frequencies, [AA1,&nbsp;AA2, AAp1], created&nbsp;over a well known ML&nbsp;dataset. The computations are done with packages&nbsp;and functions from the Wolfram Language (WL) ecosystem.</p>
<p>The classifiers based on <a href="https://mathematicaforprediction.wordpress.com/2013/12/06/tries-with-frequencies-for-data-mining/">Tries with frequencies</a> can be seen as&nbsp;generalized <a href="https://mathematicaforprediction.wordpress.com/2013/10/18/generation-of-naive-bayesian-classifiers/">Naive&nbsp;Bayesian Classifiers (NBCs)</a>.</p>
<p>We use the workflow summarized in this flowchart:</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1"><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MarkdownDocuments/Diagrams/A-monad-for-classification-workflows/Classification-workflow-horizontal-layout.jpg"</span><span class="op">]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/08tac97m1v31b.png"></p>
<p>For more details on classification workflows see the article <a href="https://mathematicaforprediction.wordpress.com/2018/05/15/a-monad-for-classification-workflows/">“A&nbsp;monad&nbsp;for classification workflows”</a>, [AA3].</p>
<p><strong>Remark:</strong> This notebook is the Mathematica counterpart&nbsp;of the Raku computable Markdown document with the same name [AA7,&nbsp;AA6].</p>
<p><strong>Remark:</strong> Mathematica and WL are used as synonyms in&nbsp;this notebook.</p>
<hr>
<h2 id="data">Data</h2>
<p>In this section we obtain a dataset to make classification&nbsp;experiments with.</p>
<p>Through the Wolfram Function Repository (WFR) function <a href="https://resources.wolframcloud.com/FunctionRepository/resources/ExampleDataset/">ExampleDataset </a>we can get data for <a href="https://en.wikipedia.org/wiki/Wreck_of_the_Titanic">the Titanic&nbsp;ship wreck</a>:</p>
<div id="cb2" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1">dsTitanic0 <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"ExampleDataset"</span><span class="op">][{</span><span class="st">"MachineLearning"</span><span class="op">,</span> <span class="st">"Titanic"</span><span class="op">}]</span>;</span>
<span id="cb2-2">dsTitanic0<span class="op">[[</span><span class="dv">1</span> ;; <span class="dv">4</span><span class="op">]]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0m4somgwuj73s.png"></p>
<p><strong>Remark:</strong> ExampleDataset uses <a href="https://reference.wolfram.com/language/ref/ExampleData.html">ExampleData</a>.&nbsp;Datasets from the ExampleData’s “MachineLearning” and “Statistics”&nbsp;collections are processed in order to obtain Dataset objects.</p>
<p>Instead of using the built-in Titanic data we use a version of it&nbsp;(which is used in <a href="https://github.com/antononcube/MathematicaVsR">Mathematica-vs-R&nbsp;comparisons</a>, [AAr1]):</p>
<div id="cb3" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1">dsTitanic<span class="op">[[</span><span class="dv">1</span> ;; <span class="dv">4</span><span class="op">]]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0yvrxcu8fjfuv.png"></p>
<p>Here is a summary of the data:</p>
<div id="cb4" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb4-1">ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>dsTitanic<span class="op">]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/1jqv1g8o5a2uw.png"></p>
<hr>
<h2 id="make-tries">Make tries</h2>
<p>In this section for demonstration purposes let us create a&nbsp;<em>shorter</em> trie and&nbsp;display it in tree form.</p>
<p>Here we drop the identifier column and take the record fields in a&nbsp;particular order, in which “passengerSurvival” is the last field:</p>
<div id="cb5" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb5-1">lsRecords <span class="ex">=</span> Normal@dsTitanic<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="fu">Prepend</span><span class="op">[</span>KeyDrop<span class="op">[</span>#<span class="op">,</span> <span class="st">"id"</span><span class="op">],</span> <span class="st">"passengerAge"</span> <span class="ot">-&gt;</span> <span class="fu">ToString</span><span class="op">[</span>#passengerAge<span class="op">]]</span> &amp;<span class="op">][</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="st">"passengerClass"</span><span class="op">,</span> <span class="st">"passengerSex"</span><span class="op">,</span> <span class="st">"passengerAge"</span><span class="op">,</span> <span class="st">"passengerSurvival"</span><span class="op">}][</span>Values<span class="op">]</span>;</span></code></pre>
</div>
<p>Here is a sample:</p>
<div id="cb6" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb6-1"><span class="fu">RandomSample</span><span class="op">[</span>lsRecords<span class="op">,</span> <span class="dv">3</span><span class="op">]</span></span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co">(*{{"3rd", "female", "-1", "died"}, {"1st", "female", "50", "survived"}, {"3rd", "male", "30", "died"}}*)</span></span></code></pre>
</div>
<p>Here make a trie <em>without</em> the field “passengerAge”:</p>
<div id="cb7" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb7-1">trTitanic <span class="ex">=</span> TrieCreate<span class="op">[</span>lsRecords<span class="op">[[</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">}]]]</span>;</span>
<span id="cb7-2">TrieForm<span class="op">[</span>trTitanic<span class="op">,</span> <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">900</span><span class="op">]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0aczl0mnjpi4x.png"></p>
<p>Here is a corresponding mosaic plot, [AA4, AAp3]:</p>
<div id="cb8" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb8-1">MosaicPlot<span class="op">[</span>lsRecords<span class="op">[[</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">4</span><span class="op">}]]]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/157jxydgclea9.png"></p>
<p><strong>Remark:</strong> The function MosaicPlot uses tries with&nbsp;frequencies in its implementation. Observing and reasoning with mosaic&nbsp;plots should make it clear that tries with frequencies are (some sort&nbsp;of) generalized Naive Bayesian classifiers.</p>
<hr>
<h2 id="trie-classifier">Trie classifier</h2>
<p>In this section we create a Trie-based classifier.</p>
<p>In order to make certain reproducibility statements for the kind&nbsp;of&nbsp;experiments shown here, we use random seeding (with&nbsp;SeedRandom)&nbsp;before any computations that use pseudo-random numbers.&nbsp;Meaning, one&nbsp;would expect WL code that starts with a SeedRandom&nbsp;statement&nbsp;(e.g.&nbsp;SeedRandom[89]) to produce the same pseudo random&nbsp;numbers&nbsp;if it is executed multiple times (without changing it.)</p>
<div id="cb9" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb9-1"><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">12</span><span class="op">]</span>;</span></code></pre>
</div>
<p>Here we split the data into training and testing data in a stratified manner (a split for each label):</p>
<div id="cb10" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb10-1">aSplit1 <span class="ex">=</span> GroupBy<span class="op">[</span>lsRecords<span class="op">,</span> #<span class="op">[[</span><span class="sc">-</span><span class="dv">1</span><span class="op">]]</span> &amp;<span class="op">,</span> AssociationThread<span class="op">[{</span><span class="st">"training"</span><span class="op">,</span> <span class="st">"testing"</span><span class="op">},</span> TakeDrop<span class="op">[</span><span class="fu">RandomSample</span><span class="op">[</span>#<span class="op">],</span> <span class="fu">Round</span><span class="op">[</span><span class="fl">0.75</span><span class="sc">*</span><span class="fu">Length</span><span class="op">[</span>#<span class="op">]]]]</span> &amp;<span class="op">]</span>;</span>
<span id="cb10-2"><span class="fu">Map</span><span class="op">[</span><span class="fu">Length</span><span class="op">,</span> aSplit1<span class="op">,</span> <span class="op">{</span><span class="dv">2</span><span class="op">}]</span></span>
<span id="cb10-3"></span>
<span id="cb10-4"><span class="co">(*&lt;|"survived" -&gt; &lt;|"training" -&gt; 375, "testing" -&gt; 125|&gt;, "died" -&gt; &lt;|"training" -&gt; 607, "testing" -&gt; 202|&gt;|&gt;*)</span></span></code></pre>
</div>
<p>Here we aggregate training and testing data (and show the&nbsp;corresponding sizes):</p>
<div id="cb11" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb11-1">aSplit2 <span class="ex">=</span> &lt;<span class="sc">|</span></span>
<span id="cb11-2">    <span class="st">"training"</span> <span class="ot">-&gt;</span> <span class="fu">Join</span> @@ <span class="fu">Map</span><span class="op">[</span>#training &amp;<span class="op">,</span> aSplit1<span class="op">],</span> </span>
<span id="cb11-3">    <span class="st">"testing"</span> <span class="ot">-&gt;</span> <span class="fu">Join</span> @@ <span class="fu">Map</span><span class="op">[</span>#testing &amp;<span class="op">,</span> aSplit1<span class="op">]</span><span class="sc">|</span>&gt;;</span>
<span id="cb11-4"><span class="fu">Length</span> <span class="sc">/</span>@ aSplit2</span>
<span id="cb11-5"></span>
<span id="cb11-6"><span class="co">(*&lt;|"training" -&gt; 982, "testing" -&gt; 327|&gt;*)</span></span></code></pre>
</div>
<p>Here we make a trie with the training data (and show the node&nbsp;counts):</p>
<div id="cb12" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb12-1">trTitanic <span class="ex">=</span> TrieNodeProbabilities<span class="op">[</span>TrieCreate<span class="op">[</span>aSplit2<span class="op">[</span><span class="st">"training"</span><span class="op">]]]</span>;</span>
<span id="cb12-2">TrieNodeCounts<span class="op">[</span>trTitanic<span class="op">]</span></span>
<span id="cb12-3"></span>
<span id="cb12-4"><span class="co">(*&lt;|"total" -&gt; 142, "internal" -&gt; 60, "leaves" -&gt; 82|&gt;*)</span></span></code></pre>
</div>
<p>Here is the trie in tree form:<br />
<img src="https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/1hdocpn5z00u2.png"></p>
<p>Here is an example <em>decision</em>-classification:</p>
<div id="cb13" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb13-1">TrieClassify<span class="op">[</span>trTitanic<span class="op">,</span> <span class="op">{</span><span class="st">"1st"</span><span class="op">,</span> <span class="st">"female"</span><span class="op">}]</span></span>
<span id="cb13-2"></span>
<span id="cb13-3"><span class="co">(*"survived"*)</span></span></code></pre>
</div>
<p>Here is an example <em>probabilities</em>-classification:</p>
<div id="cb14" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb14-1">TrieClassify<span class="op">[</span>trTitanic<span class="op">,</span> <span class="op">{</span><span class="st">"1st"</span><span class="op">,</span> <span class="st">"female"</span><span class="op">},</span> <span class="st">"Probabilities"</span><span class="op">]</span></span>
<span id="cb14-2"></span>
<span id="cb14-3"><span class="co">(*&lt;|"survived" -&gt; 0.962264, "died" -&gt; 0.0377358|&gt;*)</span></span></code></pre>
</div>
<p>We want to classify across all testing data, but not all testing&nbsp;data-records might be present in the trie. Let us check that such&nbsp;testing&nbsp;records are few (or none):</p>
<div id="cb15" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb15-1"><span class="fu">Tally</span><span class="op">[</span><span class="fu">Map</span><span class="op">[</span>TrieKeyExistsQ<span class="op">[</span>trTitanic<span class="op">,</span> #<span class="op">]</span> &amp;<span class="op">,</span> aSplit2<span class="op">[</span><span class="st">"testing"</span><span class="op">]]]</span></span>
<span id="cb15-2"></span>
<span id="cb15-3"><span class="co">(*{{True, 321}, {False, 6}}*)</span></span></code></pre>
</div>
<p>Let us remove the records that cannot be classified:</p>
<div id="cb16" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb16-1">lsTesting <span class="ex">=</span> <span class="fu">Pick</span><span class="op">[</span>aSplit2<span class="op">[</span><span class="st">"testing"</span><span class="op">],</span> <span class="fu">Map</span><span class="op">[</span>TrieKeyExistsQ<span class="op">[</span>trTitanic<span class="op">,</span> #<span class="op">]</span> &amp;<span class="op">,</span> aSplit2<span class="op">[</span><span class="st">"testing"</span><span class="op">]]]</span>;</span>
<span id="cb16-2"><span class="fu">Length</span><span class="op">[</span>lsTesting<span class="op">]</span></span>
<span id="cb16-3"></span>
<span id="cb16-4"><span class="co">(*321*)</span></span></code></pre>
</div>
<p>Here we classify all testing records and show a sample of the&nbsp;obtained actual-predicted pairs:</p>
<div id="cb17" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb17-1">lsClassRes <span class="ex">=</span> <span class="op">{</span><span class="fu">Last</span><span class="op">[</span>#<span class="op">],</span> TrieClassify<span class="op">[</span>trTitanic<span class="op">,</span> <span class="fu">Most</span><span class="op">[</span>#<span class="op">]]}</span> &amp; <span class="sc">/</span>@ lsTesting;</span>
<span id="cb17-2"><span class="fu">RandomSample</span><span class="op">[</span>lsClassRes<span class="op">,</span> <span class="dv">6</span><span class="op">]</span></span>
<span id="cb17-3"></span>
<span id="cb17-4"><span class="co">(*{{"survived", "survived"}, {"died", "survived"}, {"died", "died"}, {"survived", "survived"}, {"survived", "died"}, {"survived", "survived"}}*)</span></span></code></pre>
</div>
<p>Here we cross tabulate the actual vs predicted labels using WFR’s <a href="https://resources.wolframcloud.com/FunctionRepository/resources/CrossTabulate">CrossTabulate</a>:</p>
<div id="cb18" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb18-1">ResourceFunction<span class="op">[</span><span class="st">"CrossTabulate"</span><span class="op">][</span>lsClassRes<span class="op">]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/192nfe8h97k9k.png"></p>
<p>The cross-tabulation results look bad because the default decision&nbsp;threshold is used. We get better results by selecting a decision&nbsp;threshold via <a href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic">Receiver&nbsp;Operating Characteristic (ROC)</a> plots.</p>
<hr>
<h2 id="trie-classification-with-roc-plots">Trie classification with ROC&nbsp;plots</h2>
<p>In this section we systematically evaluate the Trie-based classifier&nbsp;using the <a href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic">Receiver&nbsp;Operating Characteristic (ROC) framework</a>.</p>
<p>Here we classify all testing data records. For each&nbsp;record:</p>
<ul>
<li>Get probabilities association</li>
<li>Add to that association the actual label</li>
<li>Make sure the association has both survival labels</li>
</ul>
<div id="cb19" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb19-1">lsClassRes <span class="ex">=</span> <span class="fu">Map</span><span class="op">[</span><span class="fu">Join</span><span class="op">[</span>&lt;<span class="sc">|</span><span class="st">"survived"</span> <span class="ot">-&gt;</span> <span class="dv">0</span><span class="op">,</span> <span class="st">"died"</span> <span class="ot">-&gt;</span> <span class="dv">0</span><span class="op">,</span> <span class="st">"actual"</span> <span class="ot">-&gt;</span> #<span class="op">[[</span><span class="sc">-</span><span class="dv">1</span><span class="op">]]</span><span class="sc">|</span>&gt;<span class="op">,</span> TrieClassify<span class="op">[</span>trTitanic<span class="op">,</span> #<span class="op">[[</span><span class="dv">1</span> ;; <span class="sc">-</span><span class="dv">2</span><span class="op">]],</span> <span class="st">"Probabilities"</span><span class="op">]]</span> &amp;<span class="op">,</span> lsTesting<span class="op">]</span>;</span></code></pre>
</div>
<p>Here we make a ROC record, [AA5, AAp4]:</p>
<div id="cb20" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb20-1">ToROCAssociation<span class="op">[{</span><span class="st">"survived"</span><span class="op">,</span> <span class="st">"died"</span><span class="op">},</span> #actual &amp; <span class="sc">/</span>@ lsClassRes<span class="op">,</span> <span class="fu">Map</span><span class="op">[</span><span class="fu">If</span><span class="op">[</span>#survived &gt;<span class="ex">=</span> <span class="fl">0.5</span><span class="op">,</span> <span class="st">"survived"</span><span class="op">,</span> <span class="st">"died"</span><span class="op">]</span> &amp;<span class="op">,</span> lsClassRes<span class="op">]]</span></span>
<span id="cb20-2"></span>
<span id="cb20-3"><span class="co">(*&lt;|"TruePositive" -&gt; 71, "FalsePositive" -&gt; 14, "TrueNegative" -&gt; 184, "FalseNegative" -&gt; 52|&gt;*)</span></span></code></pre>
</div>
<p>Here we obtain the range of the label “survived”:</p>
<div id="cb21" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb21-1">lsVals <span class="ex">=</span> <span class="fu">Map</span><span class="op">[</span>#survived &amp;<span class="op">,</span> lsClassRes<span class="op">]</span>;</span>
<span id="cb21-2">MinMax<span class="op">[</span>lsVals<span class="op">]</span></span>
<span id="cb21-3"></span>
<span id="cb21-4"><span class="co">(*{0, 1.}*)</span></span></code></pre>
</div>
<p>Here we make list of decision thresholds:</p>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0n9qun2v81o7r.png"></p>
<p>In the following code cell for each threshold:</p>
<ul>
<li>For each classification association decide on “survived” if the&nbsp;corresponding value is greater or equal to the threshold</li>
<li>Make threshold’s ROC-association</li>
</ul>
<div id="cb22" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb22-1">lsROCs <span class="ex">=</span> <span class="fu">Table</span><span class="op">[</span></span>
<span id="cb22-2">    ToROCAssociation<span class="op">[{</span><span class="st">"survived"</span><span class="op">,</span> <span class="st">"died"</span><span class="op">},</span> #actual &amp; <span class="sc">/</span>@ lsClassRes<span class="op">,</span> <span class="fu">Map</span><span class="op">[</span><span class="fu">If</span><span class="op">[</span>#survived &gt;<span class="ex">=</span> th<span class="op">,</span> <span class="st">"survived"</span><span class="op">,</span> <span class="st">"died"</span><span class="op">]</span> &amp;<span class="op">,</span> lsClassRes<span class="op">]],</span> </span>
<span id="cb22-3">    <span class="op">{</span>th<span class="op">,</span> lsThresholds<span class="op">}]</span>;</span></code></pre>
</div>
<p>Here is the obtained ROCs dataset:</p>
<div id="cb23" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb23-1">Dataset<span class="op">[</span><span class="fu">MapThread</span><span class="op">[</span><span class="fu">Prepend</span><span class="op">[</span>#<span class="dv">1</span><span class="op">,</span> <span class="st">"Threshold"</span> <span class="ot">-&gt;</span> #<span class="dv">2</span><span class="op">]</span> &amp;<span class="op">,</span> <span class="op">{</span>lsROCs<span class="op">,</span> lsThresholds<span class="op">}]]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/1xlmbkphhwhsf.png"></p>
<p>Here is the corresponding ROC plot:</p>
<div id="cb24" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb24-1">ROCPlot<span class="op">[</span><span class="st">"FPR"</span><span class="op">,</span> <span class="st">"TPR"</span><span class="op">,</span> lsThresholds<span class="op">,</span> lsROCs<span class="op">,</span> <span class="fu">GridLines</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Large</span><span class="op">]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0jlvgunwaouqi.png"></p>
<p>We can see the Trie-based classifier has reasonable prediction&nbsp;abilities –&nbsp;we get ≈ 80% True Positive Rate (TPR) for a relatively small&nbsp;False&nbsp;Positive Rate (FPR), ≈ 20%.</p>
<hr>
<h2 id="confusion-matrices">Confusion matrices</h2>
<p>Using ClassifierMeasurements we can produce the corresponding&nbsp;confusion matrix plots (using “made on the spot” <a href="https://reference.wolfram.com/language/ref/Manipulate.html">Manipulate </a>interface):</p>
<div id="cb25" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb25-1"><span class="fu">DynamicModule</span><span class="op">[{</span>lsThresholds <span class="ex">=</span> lsThresholds<span class="op">,</span> lsClassRes <span class="ex">=</span> lsClassRes<span class="op">,</span> lsClassRes2<span class="op">},</span> </span>
<span id="cb25-2">  <span class="fu">Manipulate</span><span class="op">[</span></span>
<span id="cb25-3">   lsClassRes2 <span class="ex">=</span> <span class="fu">Map</span><span class="op">[{</span>#actual<span class="op">,</span> <span class="fu">If</span><span class="op">[</span>#survived &gt;<span class="ex">=</span> lsThresholds<span class="op">[[</span><span class="fu">i</span><span class="op">]],</span> <span class="st">"survived"</span><span class="op">,</span> <span class="st">"died"</span><span class="op">]}</span> &amp;<span class="op">,</span> lsClassRes<span class="op">]</span>; </span>
<span id="cb25-4">   <span class="fu">Append</span><span class="op">[</span><span class="fu">DeleteCases</span><span class="op">[</span>ClassifierMeasurements<span class="op">[</span>lsClassRes2<span class="op">[[</span><span class="cn">All</span><span class="op">,</span> <span class="dv">1</span><span class="op">]],</span> lsClassRes2<span class="op">[[</span><span class="cn">All</span><span class="op">,</span> <span class="dv">2</span><span class="op">]],</span> <span class="st">"ConfusionMatrixPlot"</span><span class="op">],</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> _<span class="op">],</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Medium</span><span class="op">],</span> </span>
<span id="cb25-5">   <span class="op">{{</span><span class="fu">i</span><span class="op">,</span> <span class="fu">Flatten</span><span class="op">[</span><span class="fu">Position</span><span class="op">[</span>lsThresholds<span class="op">,</span> <span class="fu">Nearest</span><span class="op">[</span>lsThresholds<span class="op">,</span> <span class="fl">0.3</span><span class="op">][[</span><span class="dv">1</span><span class="op">]]]][[</span><span class="dv">1</span><span class="op">]],</span> <span class="st">"index:"</span><span class="op">},</span> <span class="dv">1</span><span class="op">,</span> <span class="fu">Length</span><span class="op">[</span>lsThresholds<span class="op">],</span> <span class="dv">1</span><span class="op">,</span> <span class="fu">Appearance</span> <span class="ot">-&gt;</span> <span class="st">"Open"</span><span class="op">},</span> </span>
<span id="cb25-6">   <span class="op">{{</span>normalizeQ<span class="op">,</span> <span class="cn">False</span><span class="op">,</span> <span class="st">"normalize?:"</span><span class="op">},</span> <span class="op">{</span><span class="cn">False</span><span class="op">,</span> <span class="cn">True</span><span class="op">}}</span> </span>
<span id="cb25-7">  <span class="op">]</span> </span>
<span id="cb25-8"> <span class="op">]</span></span></code></pre>
</div>
<p><img src="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0e2tg6vw1ssh1.png"></p>
<hr>
<h2 id="references">References</h2>
<h3 id="articles">Articles</h3>
<p>[AA1] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2013/12/06/tries-with-frequencies-for-data-mining/">“Tries&nbsp;with frequencies for data&nbsp;mining”</a>, (2013), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction&nbsp;at WordPress</a>.</p>
<p>[AA2] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2017/01/31/tries-with-frequencies-in-java/">“Tries&nbsp;with frequencies in Java”</a>, (2017), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction&nbsp;at WordPress</a>.</p>
<p>[AA3] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2018/05/15/a-monad-for-classification-workflows/">“A&nbsp;monad for classification&nbsp;workflows”</a>, (2018), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction&nbsp;at WordPress</a>.</p>
<p>[AA4] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2014/03/17/mosaic-plots-for-data-visualization/">“Mosaic&nbsp;plots for data visualization”</a>, (2014), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction&nbsp;at WordPress</a>.</p>
<p>[AA5] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2016/10/12/basic-example-of-using-roc-with-linear-regression/">“Basic&nbsp;example of using ROC with Linear regression”</a>, (2016), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction&nbsp;at WordPress</a>.</p>
<p>[AA6] Anton Antonov, <a href="https://github.com/antononcube/RakuForPrediction-book/blob/main/Articles/Trie-based-classifiers-evaluation.md">“Trie&nbsp;based classifiers evaluation”</a>, (2022), <a href="https://github.com/antononcube/RakuForPrediction-book">RakuForPrediction-book&nbsp;at GitHub/antononcube</a>.</p>
<p>[AA7] Anton Antonov, <a href="https://rakuforprediction.wordpress.com/2022/07/07/trie-based-classifiers-evaluation/">“Trie&nbsp;based classifiers evaluation”</a>, (2022), <a href="https://rakuforprediction.wordpress.com">RakuForPrediction at&nbsp;WordPress</a>.</p>
<h3 id="packages">Packages</h3>
<p>[AAp1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/TriesWithFrequencies.m">TriesWithFrequencies&nbsp;Mathematica package</a>, (2014-2022), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction&nbsp;at GitHub/antononcube</a>.</p>
<p>[AAp2] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/ROCFunctions.m">ROCFunctions&nbsp;Mathematica package</a>, (2016), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction&nbsp;at GitHub/antononcube</a>.</p>
<p>[AAp3] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MosaicPlot.m">MosaicPlot&nbsp;Mathematica package</a>, (2014), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction&nbsp;at GitHub/antononcube</a>.</p>
<h3 id="repositories">Repositories</h3>
<p>[AAr1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaVsR">Mathematica vs.&nbsp;R&nbsp;project</a>, (2018-2022), <a href="https://github.com/antononcube">GitHub/antononcube</a>.</p>
<hr>
<h2 id="setup">Setup</h2>
<div id="cb26" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb26-1"><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/TriesWithFrequencies.m"</span><span class="op">]</span>;</span>
<span id="cb26-2"><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/ROCFunctions.m"</span><span class="op">]</span>;</span>
<span id="cb26-3"><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MosaicPlot.m"</span><span class="op">]</span>;</span></code></pre>
</div>
<div id="cb27" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb27-1">dsTitanic <span class="ex">=</span> <span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Data/MathematicaVsR-Data-Titanic.csv"</span><span class="op">,</span> <span class="st">"Dataset"</span><span class="op">,</span> HeaderLines <span class="ot">-&gt;</span> <span class="dv">1</span><span class="op">]</span>;</span></code></pre>
</div>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2022/08/25/trie-based-classifiers-evaluation/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2022/08/0aczl0mnjpi4x.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/08/0aczl0mnjpi4x.png" medium="image">
			<media:title type="html">0aczl0mnjpi4x</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/08tac97m1v31b.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0m4somgwuj73s.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0yvrxcu8fjfuv.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/1jqv1g8o5a2uw.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0aczl0mnjpi4x.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/157jxydgclea9.png" medium="image" />

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/1hdocpn5z00u2.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/192nfe8h97k9k.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0n9qun2v81o7r.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/1xlmbkphhwhsf.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0jlvgunwaouqi.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForPrediction/raw/master/MarkdownDocuments/Diagrams/Trie-based-classifiers-evaluation/0e2tg6vw1ssh1.png" medium="image" />
	</item>
		<item>
		<title>Nightcore &#8220;Schweine&#8221; video making</title>
		<link>https://mathematicaforprediction.wordpress.com/2022/05/09/nightcore-schweine-video-making/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2022/05/09/nightcore-schweine-video-making/#respond</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Mon, 09 May 2022 11:58:12 +0000</pubDate>
				<category><![CDATA[Image processing]]></category>
		<category><![CDATA[video processing]]></category>
		<category><![CDATA[glukoza]]></category>
		<category><![CDATA[music]]></category>
		<category><![CDATA[nightcore]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1244</guid>

					<description><![CDATA[This post shows how to make Nightcore modifications to a song video. We use Glukoza's song "Schweine". The song "Schweine" became popular via the radio station Vladivostok FM of the game "Grand Theft Auto IV".]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>This notebook/document shows how to make <a href="https://en.wikipedia.org/wiki/Nightcore">Nightcore</a> modifications to a song video. We use <a href="http://www.glukoza.com">Glukoza’s</a> song “Schweine”. The song “Schweine” became popular via the <a href="https://gta.fandom.com/wiki/Radio_Stations_in_GTA_IV#Vladivostok_FM">radio station Vladivostok FM</a> of the game <a href="https://en.wikipedia.org/wiki/Grand_Theft_Auto_IV">“Grand Theft Auto IV”</a>.</p>
<p><strong>Remark:</strong> We use Schweine since its licencing allows copies of it to be (publicly) played <a href="https://www.youtube.com/watch?v=8UsR9L3KPIU">via YouTube</a>.</p>
<p>The Nightcore transformation of the song was fairly straightforward with Mathematica / WL. The video transformation and combination are also fairly straightforward or easy.</p>
<p><strong>Remark:</strong> Here is the final result uploaded to YouTube (<a href="https://www.youtube.com/watch?v=8UsR9L3KPIU" rel="nofollow">https://www.youtube.com/watch?v=8UsR9L3KPIU</a>):</p>
<p><a href="https://www.youtube.com/watch?v=8UsR9L3KPIU"><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0ffx6fronoawk.png" /></a></p>
<h2 id="get-movies">Get movies</h2>
<p>Here is a link to the official video: <a href="https://www.youtube.com/watch?v=Ue5ZBe-GzSM" rel="nofollow">https://www.youtube.com/watch?v=Ue5ZBe-GzSM</a> .</p>
<p>Here is a link to a version with English subtitles: <a href="https://www.youtube.com/watch?v=9Es1nPWzJ-0" rel="nofollow">https://www.youtube.com/watch?v=9Es1nPWzJ-0</a> .</p>
<p>Download at least one of the videos. (Use a Firefox or Google Chrome plugin; use <a href="https://www.videolan.org/vlc/">VLC</a>; or utilize the paclet described in the post <a href="https://b3m2a1.github.io/playing-with-youtube-from-mathematica.html">“Playing with YouTube from Mathematica”</a>, [BMI1].)</p>
<p>Here we import the downloaded video:</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1">vdSubSchweine <span class="ex">=</span> <span class="fu">Import</span><span class="op">[</span><span class="st">"~/Downloads/Glukoza Nostra - Schweine -subtitled-.mp4"</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1ow21rc06glgb.png" alt="1ow21rc06glgb" /></figure>
<h2 id="make-nightcore-audio">Make Nightcore audio</h2>
<p>The process for making a song Nightcore is described in Wikipedia, [Wk1]. Basically, we just make the tempo 20-30% faster and raise the pitch with, ≈5.5 semitones.</p>
<p><strong>Remark:</strong> An alternative of the process shown in this section is to use audio transformation programs like <a href="https://www.audacityteam.org">Audacity</a> and <a href="https://apps.apple.com/us/app/amadeus-pro/id438292371?mt=12">AmadeusPro</a>.</p>
<p>Here we get the audio from the video:</p>
<div id="cb2" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1">auSchweine <span class="ex">=</span> Audio<span class="op">[</span>vdSubSchweine<span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1uuz3gsogs93f.png" alt="1uuz3gsogs93f" /><figcaption aria-hidden="true">1uuz3gsogs93f</figcaption></figure>
<p>Here we change the tempo to be 20% faster:</p>
<div id="cb3" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1"><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb3-2">  auSchweineFaster <span class="ex">=</span> AudioTimeStretch<span class="op">[</span>auSchweine<span class="op">,</span> <span class="dv">1</span><span class="sc">/</span><span class="fl">1.2</span><span class="op">]</span> </span>
<span id="cb3-3"> <span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1n7u00nxdhs7q.png" alt="1n7u00nxdhs7q" /><figcaption aria-hidden="true">1n7u00nxdhs7q</figcaption></figure>
<p>Here we raise the pitch with <span class="math inline">5.5</span> semitones:</p>
<div id="cb4" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb4-1"><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb4-2">  auSchweineNightcore <span class="ex">=</span> AudioPitchShift<span class="op">[</span>auSchweineFaster<span class="op">,</span> Quantity<span class="op">[</span><span class="fl">5.5</span><span class="op">,</span> <span class="st">"Semitones"</span><span class="op">]]</span> </span>
<span id="cb4-3"> <span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/005j44hxpz7h0.png" alt="005j44hxpz7h0" /><figcaption aria-hidden="true">005j44hxpz7h0</figcaption></figure>
<h2 id="get-lyrics">Get lyrics</h2>
<p>Although, we have a video with English subtitles, it would be interesting to experiment with adding subtitles to the video or “discovering” the subtitles in the video frames.</p>
<p>Instead of just copy-&amp;-pasting the text I took screenshot of lyrics here:<br />
<a href="https://lyrics-on.net/en/1023698-schweine-shvajjne-lyrics.html" rel="nofollow">https://lyrics-on.net/en/1023698-schweine-shvajjne-lyrics.html</a> .</p>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0jnweyevtrddx.png" alt="0jnweyevtrddx" /></figure>
<p>Here the image above is split into two halves and they displayed in a grid:</p>
<div id="cb5" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb5-1">imgLyrics1 <span class="ex">=</span> <span class="fu">ImageTake</span><span class="op">[</span>imgLyrics<span class="op">,</span> <span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="dv">1</span><span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>imgLyrics<span class="op">][[</span><span class="dv">2</span><span class="op">]]</span><span class="sc">/</span><span class="dv">2</span><span class="op">}]</span>;</span>
<span id="cb5-2">imgLyrics2 <span class="ex">=</span> <span class="fu">ImageTake</span><span class="op">[</span>imgLyrics<span class="op">,</span> <span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="fu">ImageDimensions</span><span class="op">[</span>imgLyrics<span class="op">][[</span><span class="dv">2</span><span class="op">]]</span><span class="sc">/</span><span class="dv">2</span><span class="op">,</span> <span class="sc">-</span><span class="dv">1</span><span class="op">}]</span>;</span>
<span id="cb5-3"><span class="fu">GraphicsGrid</span><span class="op">[{{</span>imgLyrics1<span class="op">,</span> imgLyrics2<span class="op">}},</span> <span class="fu">Dividers</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">700</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0nok801otpf32.png" alt="0nok801otpf32" /></figure>
<p>Here we recognize the lyrics within each half:</p>
<div id="cb6" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb6-1"><span class="fu">Grid</span><span class="op">[{{</span><span class="fu">TextRecognize</span><span class="op">[</span>imgLyrics1<span class="op">,</span> Language <span class="ot">-&gt;</span> <span class="st">"Russian"</span><span class="op">],</span> <span class="fu">TextRecognize</span><span class="op">[</span>imgLyrics2<span class="op">,</span> Language <span class="ot">-&gt;</span> <span class="st">"English"</span><span class="op">]}},</span> <span class="fu">Dividers</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/07s8wyhharkul.png" alt="07s8wyhharkul" /></figure>
<p><strong>Remark:</strong> Because we found a video with subtitles, we do not use further the extracted lyrics in this notebook.</p>
<h2 id="direct-video-styling">Direct video styling</h2>
<p>If we only wanted to change how the video <em>looks</em> we can directly manipulate the video frames with VideoFrameMap, [WRI6] :</p>
<div id="cb7" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb7-1"><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb7-2">  <span class="fu">k</span> <span class="ex">=</span> <span class="dv">0</span>; </span>
<span id="cb7-3">  vdSchweine4 <span class="ex">=</span> VideoFrameMap<span class="op">[</span><span class="fu">Switch</span><span class="op">[</span><span class="fu">Mod</span><span class="op">[</span><span class="fu">k</span><span class="sc">++</span><span class="op">,</span> <span class="dv">500</span><span class="op">]</span> &lt; <span class="dv">250</span><span class="op">,</span> <span class="cn">True</span><span class="op">,</span> <span class="fu">EdgeDetect</span><span class="op">[</span>#<span class="op">],</span> <span class="cn">False</span><span class="op">,</span> <span class="fu">ImageEffect</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"EdgeStylization"</span><span class="op">]]</span> &amp;<span class="op">,</span> vdSubSchweine<span class="op">]</span>; </span>
<span id="cb7-4"> <span class="op">]</span></span></code></pre>
</div>
<div id="cb8" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb8-1">vdSchweine4</span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1x9obucooutc8.png" alt="1x9obucooutc8" /></figure>
<p><strong>Remark:</strong> Since we want to make both the audio and video shorter we have to use video frames.</p>
<h2 id="make-nightcore-video">Make Nightcore video</h2>
<p>Get the frames of the video:</p>
<div id="cb9" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb9-1"><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb9-2">  lsFrames <span class="ex">=</span> VideoExtractFrames<span class="op">[</span>vdSubSchweine<span class="op">,</span> <span class="cn">All</span><span class="op">]</span>; </span>
<span id="cb9-3"> <span class="op">]</span></span>
<span id="cb9-4"></span>
<span id="cb9-5"><span class="co">(*{11.5501, Null}*)</span></span></code></pre>
</div>
<p>Show the number of frames:</p>
<div id="cb10" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb10-1"><span class="fu">Length</span><span class="op">[</span>lsFrames<span class="op">]</span></span>
<span id="cb10-2"></span>
<span id="cb10-3"><span class="co">(*9041*)</span></span></code></pre>
</div>
<p>Change all the frames to have the “Sepia” image effect:</p>
<div id="cb11" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb11-1"><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb11-2">  lsFramesSepia <span class="ex">=</span> <span class="fu">ParallelMap</span><span class="op">[</span><span class="fu">ImageEffect</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"Sepia"</span><span class="op">]</span> &amp;<span class="op">,</span> lsFrames<span class="op">]</span>; </span>
<span id="cb11-3"> <span class="op">]</span></span>
<span id="cb11-4"></span>
<span id="cb11-5"><span class="co">(*{124.898, Null}*)</span></span></code></pre>
</div>
<p>Generate (audio-less) video from the list of frames that have the same length as the generated audio:</p>
<div id="cb12" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb12-1"><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb12-2">  vdSubSchweineNew <span class="ex">=</span> VideoGenerator<span class="op">[</span>lsFramesSepia<span class="op">,</span> Duration<span class="op">[</span>auSchweineNightcore<span class="op">]]</span>; </span>
<span id="cb12-3"> <span class="op">]</span></span>
<span id="cb12-4"></span>
<span id="cb12-5"><span class="co">(*{115.34, Null}*)</span></span></code></pre>
</div>
<p>Combine the video and audio (into a new video):</p>
<div id="cb13" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb13-1"><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb13-2">  vdSubSchweineNightcore <span class="ex">=</span> VideoCombine<span class="op">[{</span>vdSubSchweineNew<span class="op">,</span> auSchweineNightcore<span class="op">}]</span>; </span>
<span id="cb13-3"> <span class="op">]</span></span>
<span id="cb13-4"></span>
<span id="cb13-5"><span class="co">(*{0.576532, Null}*)</span></span></code></pre>
</div>
<div id="cb14" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb14-1">vdSubSchweineNightcore</span></code></pre>
</div>
<figure><img src="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0ffx6fronoawk.png" alt="0ffx6fronoawk" /></figure>
<p><strong>Remark:</strong> Here we do not export the video, since Mathematica saves it in a “standard” location of the host operating system.</p>
<h2 id="references">References</h2>
<p>[BMA1] b3m2ma1, <a href="https://community.wolfram.com/groups/-/m/t/1484511">“Playing with<br />
YouTube from Mathematica”</a>, (2018), Wolfram Community. (<a href="https://b3m2a1.github.io/playing-with-youtube-from-mathematica.html">GitHub<br />
link</a>.)</p>
<p>[Wk1] Wikipedia entry, <a href="https://en.wikipedia.org/wiki/Nightcore">“Nightcore”</a>.</p>
<p>[WRI1] Wolfram Research (2010), TextRecognize, Wolfram Language<br />
function, <a href="https://reference.wolfram.com/language/ref/TextRecognize.html" rel="nofollow">https://reference.wolfram.com/language/ref/TextRecognize.html</a><br />
(updated 2020).</p>
<p>[WRI2] Wolfram Research (2016), Audio, Wolfram Language function,<br />
<a href="https://reference.wolfram.com/language/ref/Audio.html" rel="nofollow">https://reference.wolfram.com/language/ref/Audio.html</a> (updated<br />
2020).</p>
<p>[WRI3] Wolfram Research (2016), AudioTimeStretch, Wolfram Language<br />
function,<br />
<a href="https://reference.wolfram.com/language/ref/AudioTimeStretch.html" rel="nofollow">https://reference.wolfram.com/language/ref/AudioTimeStretch.html</a><br />
(updated 2020).</p>
<p>[WRI4] Wolfram Research (2016), AudioPitchShift, Wolfram Language<br />
function,<br />
<a href="https://reference.wolfram.com/language/ref/AudioPitchShift.html" rel="nofollow">https://reference.wolfram.com/language/ref/AudioPitchShift.html</a> (updated<br />
2020).</p>
<p>[WRI5] Wolfram Research (2020), VideoExtractFrames, Wolfram Language<br />
function,<br />
<a href="https://reference.wolfram.com/language/ref/VideoExtractFrames.html" rel="nofollow">https://reference.wolfram.com/language/ref/VideoExtractFrames.html</a>.</p>
<p>[WRI6] Wolfram Research (2020), VideoFrameMap, Wolfram Language<br />
function, <a href="https://reference.wolfram.com/language/ref/VideoFrameMap.html" rel="nofollow">https://reference.wolfram.com/language/ref/VideoFrameMap.html</a><br />
(updated 2021).</p>
<p>[WRI7] Wolfram Research (2008), ImageEffect, Wolfram Language<br />
function, <a href="https://reference.wolfram.com/language/ref/ImageEffect.html" rel="nofollow">https://reference.wolfram.com/language/ref/ImageEffect.html</a><br />
(updated 13).</p>
<p>[WRI8] Wolfram Research (2020), VideoGenerator, Wolfram Language<br />
function, <a href="https://reference.wolfram.com/language/ref/VideoGenerator.html" rel="nofollow">https://reference.wolfram.com/language/ref/VideoGenerator.html</a><br />
(updated 2021).</p>
<p>[WRI9] Wolfram Research (2020), VideoCombine, Wolfram Language<br />
function,<br />
<a href="https://reference.wolfram.com/language/ref/VideoCombine.html" rel="nofollow">https://reference.wolfram.com/language/ref/VideoCombine.html</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2022/05/09/nightcore-schweine-video-making/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2022/05/0ffx6fronoawk.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/05/0ffx6fronoawk.png" medium="image">
			<media:title type="html">0ffx6fronoawk</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0ffx6fronoawk.png" medium="image" />

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1ow21rc06glgb.png" medium="image">
			<media:title type="html">1ow21rc06glgb</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1uuz3gsogs93f.png" medium="image">
			<media:title type="html">1uuz3gsogs93f</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1n7u00nxdhs7q.png" medium="image">
			<media:title type="html">1n7u00nxdhs7q</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/005j44hxpz7h0.png" medium="image">
			<media:title type="html">005j44hxpz7h0</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0jnweyevtrddx.png" medium="image">
			<media:title type="html">0jnweyevtrddx</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0nok801otpf32.png" medium="image">
			<media:title type="html">0nok801otpf32</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/07s8wyhharkul.png" medium="image">
			<media:title type="html">07s8wyhharkul</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/1x9obucooutc8.png" medium="image">
			<media:title type="html">1x9obucooutc8</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/MathematicaForMusic/raw/master/Documents/Diagrams/Nightcore-Schweine-video-making/0ffx6fronoawk.png" medium="image">
			<media:title type="html">0ffx6fronoawk</media:title>
		</media:content>
	</item>
		<item>
		<title>Re-exploring the structure of Chinese character images</title>
		<link>https://mathematicaforprediction.wordpress.com/2022/05/03/re-exploring-the-structure-of-chinese-character-images/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2022/05/03/re-exploring-the-structure-of-chinese-character-images/#respond</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Tue, 03 May 2022 14:51:02 +0000</pubDate>
				<category><![CDATA[Data Science]]></category>
		<category><![CDATA[Data visualization]]></category>
		<category><![CDATA[Latent Semantic Analysis]]></category>
		<category><![CDATA[Mathematica]]></category>
		<category><![CDATA[Non-negative matrix factorization]]></category>
		<category><![CDATA[Recommender Systems]]></category>
		<category><![CDATA[SVD]]></category>
		<category><![CDATA[data visualization]]></category>
		<category><![CDATA[Natural language Processing]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1236</guid>

					<description><![CDATA[In this post we show information retrieval and clustering techniques over images of Unicode collection of Chinese characters. Here is the outline of notebook's exposition:

Get Chinese character images.

Cluster "image vectors" and demonstrate that the obtained clusters have certain explainability elements.

Apply Latent Semantic Analysis (LSA) workflow to the character set.

Show visual thesaurus through a recommender system. (That uses Cosine similarity.)

Discuss graph and hierarchical clustering using LSA matrix factors.

Demonstrate approximation of "unseen" character images with an image basis obtained through LSA over a small set of (simple) images.

Redo character approximation with more "interpretable" image basis.

Remark: This notebook started as an (extended) comment for the Community discussion "Exploring structure of Chinese characters through image processing", [SH1]. (Hence the title.)]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>In this notebook we show information retrieval and clustering<br />
techniques over images of Unicode collection of Chinese characters. Here<br />
is the outline of notebook’s exposition:</p>
<ol type="1">
<li>Get Chinese character images.</li>
<li>Cluster “image vectors” and demonstrate that the obtained<br />
clusters have certain explainability elements.</li>
<li>Apply Latent Semantic Analysis (LSA) workflow to the character<br />
set.</li>
<li>Show visual thesaurus through a recommender system. (That uses<br />
Cosine similarity.)</li>
<li>Discuss graph and hierarchical clustering using LSA matrix<br />
factors.</li>
<li>Demonstrate approximation of “unseen” character images with an<br />
image basis obtained through LSA over a small set of (simple)<br />
images.</li>
<li>Redo character approximation with more “interpretable” image<br />
basis.</li>
</ol>
<p><strong>Remark:</strong> This notebook started as an (extended)<br />
comment for the Community discussion <a href="https://community.wolfram.com/groups/-/m/t/2509775">“Exploring<br />
structure of Chinese characters through image processing”</a>, [SH1].<br />
(Hence the title.)</p>
<h2 id="get-chinese-character-images">Get Chinese character images</h2>
<p>This code is a copy of the code in the <a href="https://community.wolfram.com/groups/-/m/t/2509775">original<br />
Community post by Silvia Hao</a>, [SH1]:</p>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0zu4hv95x0jjf.png" alt="0zu4hv95x0jjf"><figcaption aria-hidden="true">0zu4hv95x0jjf</figcaption></figure>
<div class="sourceCode" id="cb1">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="fu">Module</span><span class="op">[{</span>fsize <span class="ex">=</span> <span class="dv">50</span><span class="op">,</span> width <span class="ex">=</span> <span class="dv">64</span><span class="op">,</span> height <span class="ex">=</span> <span class="dv">64</span><span class="op">},</span> </span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>  lsCharIDs <span class="ex">=</span> <span class="fu">Map</span><span class="op">[</span><span class="fu">FromCharacterCode</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"Unicode"</span><span class="op">]</span> &amp;<span class="op">,</span> <span class="dv">16</span><span class="sc">^^</span><span class="fl">4E00</span> <span class="sc">-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fu">Range</span><span class="op">[</span>width height<span class="op">]]</span>; </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a> <span class="op">]</span></span></code></pre>
</div>
<div class="sourceCode" id="cb2">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>charPage <span class="ex">=</span> <span class="fu">Module</span><span class="op">[{</span>fsize <span class="ex">=</span> <span class="dv">50</span><span class="op">,</span> width <span class="ex">=</span> <span class="dv">64</span><span class="op">,</span> height <span class="ex">=</span> <span class="dv">64</span><span class="op">},</span> </span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>    <span class="dv">16</span><span class="sc">^^</span><span class="fl">4E00</span> <span class="sc">-</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fu">Range</span><span class="op">[</span>width height<span class="op">]</span> <span class="sc">//</span> pipe<span class="op">[</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a>      <span class="fu">FromCharacterCode</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"Unicode"</span><span class="op">]</span> &amp; </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a>      <span class="op">,</span> <span class="fu">Characters</span><span class="op">,</span> <span class="fu">Partition</span><span class="op">[</span>#<span class="op">,</span> width<span class="op">]</span> &amp; </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a>      <span class="op">,</span> <span class="fu">Grid</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">Background</span> <span class="ot">-&gt;</span> <span class="fu">Black</span><span class="op">,</span> <span class="fu">Spacings</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">},</span> <span class="fu">ItemSize</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fl">1.5</span><span class="op">,</span> <span class="fl">1.2</span><span class="op">},</span> <span class="fu">Alignment</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fu">Center</span><span class="op">,</span> <span class="fu">Center</span><span class="op">},</span> <span class="fu">Frame</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> <span class="fu">FrameStyle</span> <span class="ot">-&gt;</span> <span class="fu">Directive</span><span class="op">[</span><span class="fu">Red</span><span class="op">,</span> <span class="fu">AbsoluteThickness</span><span class="op">[</span><span class="dv">3</span> <span class="sc">\</span><span class="op">[</span>Lambda<span class="op">]]]]</span> &amp; </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a>      <span class="op">,</span> <span class="fu">Style</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">White</span><span class="op">,</span> fsize<span class="op">,</span> <span class="fu">FontFamily</span> <span class="ot">-&gt;</span> <span class="st">"Source Han Sans CN"</span><span class="op">,</span> <span class="fu">FontWeight</span> <span class="ot">-&gt;</span> <span class="st">"ExtraLight"</span><span class="op">]</span> &amp; </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a>      <span class="op">,</span> <span class="fu">Rasterize</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">Background</span> <span class="ot">-&gt;</span> <span class="fu">Black</span><span class="op">]</span> &amp; </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true"></a>     <span class="op">]</span> </span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true"></a>   <span class="op">]</span>;</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true"></a>chargrid <span class="ex">=</span> charPage <span class="sc">//</span> ColorDistance<span class="op">[</span>#<span class="op">,</span> <span class="fu">Red</span><span class="op">]</span> &amp; <span class="sc">//</span> <span class="fu">Image</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"Byte"</span><span class="op">]</span> &amp; <span class="sc">//</span> <span class="fu">Sign</span> <span class="sc">//</span><span class="fu">Erosion</span><span class="op">[</span>#<span class="op">,</span> <span class="dv">5</span><span class="op">]</span> &amp;;</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true"></a>lmat <span class="ex">=</span> chargrid <span class="sc">//</span> <span class="fu">MorphologicalComponents</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">Method</span> <span class="ot">-&gt;</span> <span class="st">"BoundingBox"</span><span class="op">,</span> <span class="fu">CornerNeighbors</span> <span class="ot">-&gt;</span> <span class="cn">False</span><span class="op">]</span> &amp;;</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true"></a>chars <span class="ex">=</span> <span class="fu">ComponentMeasurements</span><span class="op">[{</span>charPage <span class="sc">//</span> <span class="fu">ColorConvert</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"Grayscale"</span><span class="op">]</span> &amp;<span class="op">,</span> lmat<span class="op">},</span> <span class="st">"MaskedImage"</span><span class="op">,</span> #Width &gt; <span class="dv">10</span> &amp;<span class="op">]</span> <span class="sc">//</span> Values <span class="sc">//</span> Map@RemoveAlphaChannel;</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true"></a>chars <span class="ex">=</span> <span class="fu">Module</span><span class="op">[{</span>size <span class="ex">=</span> chars <span class="sc">//</span> Map@ImageDimensions <span class="sc">//</span> <span class="fu">Max</span><span class="op">},</span> <span class="fu">ImageCrop</span><span class="op">[</span>#<span class="op">,</span> <span class="op">{</span>size<span class="op">,</span> size<span class="op">}]</span> &amp; <span class="sc">/</span>@ chars<span class="op">]</span>;</span></code></pre>
</div>
<p>Here is a sample of the obtained images:</p>
<div class="sourceCode" id="cb3">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">33</span><span class="op">]</span>;</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="fu">RandomSample</span><span class="op">[</span>chars<span class="op">,</span> <span class="dv">5</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1jy9voh5c01lt.png" alt="1jy9voh5c01lt"><figcaption aria-hidden="true">1jy9voh5c01lt</figcaption></figure>
<h2 id="vector-representation-of-images">Vector representation of<br />
images</h2>
<p>Define a function that represents an image into a linear vector space<br />
(of pixels):</p>
<div class="sourceCode" id="cb4">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a><span class="fu">Clear</span><span class="op">[</span>ImageToVector<span class="op">]</span>;</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true"></a>ImageToVector<span class="op">[</span><span class="at">img_</span>Image<span class="op">]</span> <span class="ex">:=</span> <span class="fu">Flatten</span><span class="op">[</span><span class="fu">ImageData</span><span class="op">[</span><span class="fu">ColorConvert</span><span class="op">[</span>img<span class="op">,</span> <span class="st">"Grayscale"</span><span class="op">]]]</span>;</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true"></a>ImageToVector<span class="op">[</span><span class="at">img_</span>Image<span class="op">,</span> <span class="at">imgSize_</span><span class="op">]</span> <span class="ex">:=</span> <span class="fu">Flatten</span><span class="op">[</span><span class="fu">ImageData</span><span class="op">[</span><span class="fu">ColorConvert</span><span class="op">[</span><span class="fu">ImageResize</span><span class="op">[</span>img<span class="op">,</span> imgSize<span class="op">],</span> <span class="st">"Grayscale"</span><span class="op">]]]</span>;</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true"></a>ImageToVector<span class="op">[</span><span class="at">___</span><span class="op">]</span> <span class="ex">:=</span> <span class="va">$Failed</span>;</span></code></pre>
</div>
<p>Show how vector represented images look like:</p>
<div class="sourceCode" id="cb5">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="fu">Table</span><span class="op">[</span><span class="fu">BlockRandom</span><span class="op">[</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>   img <span class="ex">=</span> <span class="fu">RandomChoice</span><span class="op">[</span>chars<span class="op">]</span>; </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>   <span class="fu">ListPlot</span><span class="op">[</span>ImageToVector<span class="op">[</span>img<span class="op">],</span> <span class="fu">Filling</span> <span class="ot">-&gt;</span> <span class="fu">Axis</span><span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> img<span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Medium</span><span class="op">,</span> <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">6</span><span class="op">],</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>   RandomSeeding <span class="ot">-&gt;</span> rs<span class="op">],</span> <span class="op">{</span>rs<span class="op">,</span> <span class="op">{</span><span class="dv">33</span><span class="op">,</span> <span class="dv">998</span><span class="op">}}]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0cobk7b0m9xcn.png" alt="0cobk7b0m9xcn"><figcaption aria-hidden="true">0cobk7b0m9xcn</figcaption></figure>
<div class="sourceCode" id="cb6">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="sc">\</span><span class="op">[</span>AliasDelimiter<span class="op">]</span></span></code></pre>
</div>
<h2 id="data-preparation">Data preparation</h2>
<p>In this section we represent the images into a linear vector space.<br />
(In which each pixel is a basis vector.)</p>
<p>Make an association with images:</p>
<div class="sourceCode" id="cb7">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a>aCImages <span class="ex">=</span> AssociationThread<span class="op">[</span>lsCharIDs <span class="ot">-&gt;</span> chars<span class="op">]</span>;</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a><span class="fu">Length</span><span class="op">[</span>aCImages<span class="op">]</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true"></a><span class="co">(*4096*)</span></span></code></pre>
</div>
<p>Make flat vectors with the images:</p>
<div class="sourceCode" id="cb8">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>  aCImageVecs <span class="ex">=</span> <span class="fu">ParallelMap</span><span class="op">[</span>ImageToVector<span class="op">,</span> aCImages<span class="op">]</span>; </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a> <span class="op">]</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a><span class="co">(*{0.998162, Null}*)</span></span></code></pre>
</div>
<p>Do matrix plots a random sample of the image vectors:</p>
<div class="sourceCode" id="cb9">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">32</span><span class="op">]</span>;</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a><span class="fu">MatrixPlot</span><span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">2</span><span class="op">]]]]</span> &amp; <span class="sc">/</span>@ <span class="fu">RandomSample</span><span class="op">[</span>aCImageVecs<span class="op">,</span> <span class="dv">6</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/07tn6wh5t97j4.png" alt="07tn6wh5t97j4"><figcaption aria-hidden="true">07tn6wh5t97j4</figcaption></figure>
<h2 id="clustering-over-the-image-vectors">Clustering over the image<br />
vectors</h2>
<p>In this section we cluster “image vectors” and demonstrate that the<br />
obtained clusters have certain explainability elements. Expected Chinese<br />
character radicals are observed using image multiplication.</p>
<p>Cluster the image vectors and show summary of the clusters<br />
lengths:</p>
<div class="sourceCode" id="cb10">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a><span class="fu">SparseArray</span><span class="op">[</span>Values@aCImageVecs<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1n5cwcrgj2d3m.png" alt="1n5cwcrgj2d3m"><figcaption aria-hidden="true">1n5cwcrgj2d3m</figcaption></figure>
<div class="sourceCode" id="cb11">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">334</span><span class="op">]</span>;</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a>  lsClusters <span class="ex">=</span> <span class="fu">FindClusters</span><span class="op">[</span><span class="fu">SparseArray</span><span class="op">[</span>Values@aCImageVecs<span class="op">]</span> <span class="ot">-&gt;</span> Keys<span class="op">[</span>aCImageVecs<span class="op">],</span> <span class="dv">35</span><span class="op">,</span> <span class="fu">Method</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="st">"KMeans"</span><span class="op">}]</span>; </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a> <span class="op">]</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a>Length@lsClusters</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a>ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span><span class="fu">Length</span> <span class="sc">/</span>@ lsClusters<span class="op">]</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a><span class="co">(*{24.6383, Null}*)</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a><span class="co">(*35*)</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0lvt8mcfzpvhg.png" alt="0lvt8mcfzpvhg"><figcaption aria-hidden="true">0lvt8mcfzpvhg</figcaption></figure>
<p>For each cluster:</p>
<ul>
<li>Take 30 different small samples of 7 images</li>
<li>Multiply the images in each small sample</li>
<li>Show three “most black” the multiplication results</li>
</ul>
<div class="sourceCode" id="cb12">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">33</span><span class="op">]</span>;</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true"></a><span class="fu">Table</span><span class="op">[</span><span class="fu">i</span> <span class="ot">-&gt;</span> TakeLargestBy<span class="op">[</span><span class="fu">Table</span><span class="op">[</span><span class="fu">ImageMultiply</span> @@ <span class="fu">RandomSample</span><span class="op">[</span>KeyTake<span class="op">[</span>aCImages<span class="op">,</span> lsClusters<span class="op">[[</span><span class="fu">i</span><span class="op">]]],</span> UpTo<span class="op">[</span><span class="dv">7</span><span class="op">]],</span> <span class="dv">30</span><span class="op">],</span> Total@ImageToVector<span class="op">[</span>#<span class="op">]</span> &amp;<span class="op">,</span> <span class="dv">3</span><span class="op">],</span> <span class="op">{</span><span class="fu">i</span><span class="op">,</span> <span class="fu">Length</span><span class="op">[</span>lsClusters<span class="op">]}]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0erc719h7lnzi.png" alt="0erc719h7lnzi"><figcaption aria-hidden="true">0erc719h7lnzi</figcaption></figure>
<p><strong>Remark:</strong> We can see that the clustering above<br />
produced “semantic” clusters – most of the multiplied images show<br />
meaningful Chinese characters radicals and their “expected<br />
positions.”</p>
<p>Here is one of the clusters with the radical “mouth”:</p>
<div class="sourceCode" id="cb13">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>KeyTake<span class="op">[</span>aCImages<span class="op">,</span> lsClusters<span class="op">[[</span><span class="dv">26</span><span class="op">]]]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/131vpq9dabrjo.png" alt="131vpq9dabrjo"><figcaption aria-hidden="true">131vpq9dabrjo</figcaption></figure>
<h2 id="lsamon-application">LSAMon application</h2>
<p>In this section we apply the “standard” LSA workflow, [AA1, AA4].</p>
<p>Make a matrix with named rows and columns from the image vectors:</p>
<div class="sourceCode" id="cb14">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>mat <span class="ex">=</span> ToSSparseMatrix<span class="op">[</span><span class="fu">SparseArray</span><span class="op">[</span>Values@aCImageVecs<span class="op">],</span> <span class="st">"RowNames"</span> <span class="ot">-&gt;</span> Keys<span class="op">[</span>aCImageVecs<span class="op">],</span> <span class="st">"ColumnNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0jdmyfb9rsobz.png" alt="0jdmyfb9rsobz"><figcaption aria-hidden="true">0jdmyfb9rsobz</figcaption></figure>
<p>The following Latent Semantic Analysis (LSA) monadic pipeline is used<br />
in [AA2, AA2]:</p>
<div class="sourceCode" id="cb15">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">77</span><span class="op">]</span>;</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a>  lsaAllObj <span class="ex">=</span> </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true"></a>    LSAMonUnit<span class="op">[]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true"></a>     LSAMonSetDocumentTermMatrix<span class="op">[</span>mat<span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true"></a>     LSAMonApplyTermWeightFunctions<span class="op">[</span><span class="st">"None"</span><span class="op">,</span> <span class="st">"None"</span><span class="op">,</span> <span class="st">"Cosine"</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true"></a>     LSAMonExtractTopics<span class="op">[</span><span class="st">"NumberOfTopics"</span> <span class="ot">-&gt;</span> <span class="dv">60</span><span class="op">,</span> <span class="fu">Method</span> <span class="ot">-&gt;</span> <span class="st">"SVD"</span><span class="op">,</span> <span class="st">"MaxSteps"</span> <span class="ot">-&gt;</span> <span class="dv">15</span><span class="op">,</span> <span class="st">"MinNumberOfDocumentsPerTerm"</span> <span class="ot">-&gt;</span> <span class="dv">0</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true"></a>     LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true"></a>     LSAMonEcho<span class="op">[</span><span class="fu">Style</span><span class="op">[</span><span class="st">"Obtained basis:"</span><span class="op">,</span> <span class="fu">Bold</span><span class="op">,</span> <span class="fu">Purple</span><span class="op">]]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true"></a>     LSAMonEchoFunctionContext<span class="op">[</span><span class="fu">ImageAdjust</span><span class="op">[</span><span class="fu">Image</span><span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">1</span><span class="op">]]]]]</span> &amp; <span class="sc">/</span>@SparseArray<span class="op">[</span>#H<span class="op">]</span> &amp;<span class="op">]</span>; </span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true"></a> <span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/088nutsaye7yl.png" alt="088nutsaye7yl"><figcaption aria-hidden="true">088nutsaye7yl</figcaption></figure>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0j7joulwrnj30.png" alt="0j7joulwrnj30"><figcaption aria-hidden="true">0j7joulwrnj30</figcaption></figure>
<pre><code>(*{7.60828, Null}*)</code></pre>
<p><strong>Remark:</strong> LSAMon’s corresponding theory and design are<br />
discussed in [AA1, AA4]:</p>
<p>Get the representation matrix:</p>
<div class="sourceCode" id="cb17">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>W2 <span class="ex">=</span> lsaAllObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonTakeW</span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1nno5c4wmc83q.png" alt="1nno5c4wmc83q"><figcaption aria-hidden="true">1nno5c4wmc83q</figcaption></figure>
<p>Get the topics matrix:</p>
<div class="sourceCode" id="cb18">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="fu">H</span> <span class="ex">=</span> lsaAllObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonTakeH</span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1gtqe0ihshi9s.png" alt="1gtqe0ihshi9s"><figcaption aria-hidden="true">1gtqe0ihshi9s</figcaption></figure>
<p>Cluster the <strong><em>reduced dimension<br />
representations</em></strong> and show summary of the clusters<br />
lengths:</p>
<div class="sourceCode" id="cb19">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true"></a>  lsClusters <span class="ex">=</span> <span class="fu">FindClusters</span><span class="op">[</span><span class="fu">Normal</span><span class="op">[</span><span class="fu">SparseArray</span><span class="op">[</span>W2<span class="op">]]</span> <span class="ot">-&gt;</span> RowNames<span class="op">[</span>W2<span class="op">],</span> <span class="dv">40</span><span class="op">,</span> <span class="fu">Method</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="st">"KMeans"</span><span class="op">}]</span>; </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true"></a> <span class="op">]</span></span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true"></a>Length@lsClusters</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true"></a>ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span><span class="fu">Length</span> <span class="sc">/</span>@ lsClusters<span class="op">]</span></span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true"></a></span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true"></a><span class="co">(*{2.33331, Null}*)</span></span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true"></a></span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true"></a><span class="co">(*40*)</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1bu5h88uiet3e.png" alt="1bu5h88uiet3e"><figcaption aria-hidden="true">1bu5h88uiet3e</figcaption></figure>
<p>Show cluster interpretations:</p>
<div class="sourceCode" id="cb20">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span>aAutoRadicals <span class="ex">=</span> Association@Table<span class="op">[</span><span class="fu">i</span> <span class="ot">-&gt;</span> TakeLargestBy<span class="op">[</span><span class="fu">Table</span><span class="op">[</span><span class="fu">ImageMultiply</span> @@ <span class="fu">RandomSample</span><span class="op">[</span>KeyTake<span class="op">[</span>aCImages<span class="op">,</span> lsClusters<span class="op">[[</span><span class="fu">i</span><span class="op">]]],</span> UpTo<span class="op">[</span><span class="dv">8</span><span class="op">]],</span> <span class="dv">30</span><span class="op">],</span> Total@ImageToVector<span class="op">[</span>#<span class="op">]</span> &amp;<span class="op">,</span> <span class="dv">3</span><span class="op">],</span> <span class="op">{</span><span class="fu">i</span><span class="op">,</span> <span class="fu">Length</span><span class="op">[</span>lsClusters<span class="op">]}]</span>; </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a> <span class="op">]</span></span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true"></a>aAutoRadicals</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true"></a></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true"></a><span class="co">(*{0.878406, Null}*)</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/05re59k8t4u4u.png" alt="05re59k8t4u4u"><figcaption aria-hidden="true">05re59k8t4u4u</figcaption></figure>
<h3 id="using-featureextraction">Using FeatureExtraction</h3>
<p>I experimented with clustering and approximation using WL’s function<br />
<a href="https://reference.wolfram.com/language/ref/FeatureExtraction.html.en">FeatureExtraction</a>.<br />
Result are fairly similar as the above; timings a different (a few times<br />
slower.)</p>
<h2 id="visual-thesaurus">Visual thesaurus</h2>
<p>In this section we use Cosine similarity to find visual nearest<br />
neighbors of Chinese character images.</p>
<div class="sourceCode" id="cb21">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a>matPixels <span class="ex">=</span> WeightTermsOfSSparseMatrix<span class="op">[</span>lsaAllObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonTakeWeightedDocumentTermMatrix<span class="op">,</span> <span class="st">"IDF"</span><span class="op">,</span> <span class="st">"None"</span><span class="op">,</span> <span class="st">"Cosine"</span><span class="op">]</span>;</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a>matTopics <span class="ex">=</span> WeightTermsOfSSparseMatrix<span class="op">[</span>lsaAllObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Left</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonTakeW<span class="op">,</span> <span class="st">"None"</span><span class="op">,</span> <span class="st">"None"</span><span class="op">,</span> <span class="st">"Cosine"</span><span class="op">]</span>;</span></code></pre>
</div>
<div class="sourceCode" id="cb22">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a>smrObj <span class="ex">=</span> SMRMonUnit<span class="op">[]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>SMRMonCreate<span class="op">[</span>&lt;<span class="sc">|</span><span class="st">"Topic"</span> <span class="ot">-&gt;</span> matTopics<span class="op">,</span> <span class="st">"Pixel"</span> <span class="ot">-&gt;</span> matPixels<span class="sc">|</span>&gt;<span class="op">]</span>;</span></code></pre>
</div>
<p>Consider the character “團”:</p>
<div class="sourceCode" id="cb23">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a>aCImages<span class="op">[</span><span class="st">"團"</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0pi2u9ejqv9wd.png" alt="0pi2u9ejqv9wd"><figcaption aria-hidden="true">0pi2u9ejqv9wd</figcaption></figure>
<p>Here are the nearest neighbors for that character found by using both<br />
image topics and image pixels:</p>
<div class="sourceCode" id="cb24">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="co">(*focusItem=RandomChoice[Keys@aCImages];*)</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true"></a>  focusItem <span class="ex">=</span> <span class="op">{</span><span class="st">"團"</span><span class="op">,</span> <span class="st">"仼"</span><span class="op">,</span> <span class="st">"呔"</span><span class="op">}[[</span><span class="dv">1</span><span class="op">]]</span>; </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true"></a>   smrObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true"></a>     SMRMonEcho<span class="op">[</span><span class="fu">Style</span><span class="op">[</span><span class="st">"Nearest neighbors by pixel topics:"</span><span class="op">,</span> <span class="fu">Bold</span><span class="op">,</span> <span class="fu">Purple</span><span class="op">]]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true"></a>     SMRMonSetTagTypeWeights<span class="op">[</span>&lt;<span class="sc">|</span><span class="st">"Topic"</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="op">,</span> <span class="st">"Pixel"</span> <span class="ot">-&gt;</span> <span class="dv">0</span><span class="sc">|</span>&gt;<span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true"></a>     SMRMonRecommend<span class="op">[</span>focusItem<span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="st">"RemoveHistory"</span> <span class="ot">-&gt;</span> <span class="cn">False</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true"></a>     SMRMonEchoValue<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true"></a>     SMRMonEchoFunctionValue<span class="op">[</span>AssociationThread<span class="op">[</span>Values@KeyTake<span class="op">[</span>aCImages<span class="op">,</span> Keys<span class="op">[</span>#<span class="op">]],</span> Values<span class="op">[</span>#<span class="op">]]</span> &amp;<span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true"></a>     SMRMonEcho<span class="op">[</span><span class="fu">Style</span><span class="op">[</span><span class="st">"Nearest neighbors by pixels:"</span><span class="op">,</span> <span class="fu">Bold</span><span class="op">,</span> <span class="fu">Purple</span><span class="op">]]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-10"><a href="#cb24-10" aria-hidden="true"></a>     SMRMonSetTagTypeWeights<span class="op">[</span>&lt;<span class="sc">|</span><span class="st">"Topic"</span> <span class="ot">-&gt;</span> <span class="dv">0</span><span class="op">,</span> <span class="st">"Pixel"</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">|</span>&gt;<span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-11"><a href="#cb24-11" aria-hidden="true"></a>     SMRMonRecommend<span class="op">[</span>focusItem<span class="op">,</span> <span class="dv">8</span><span class="op">,</span> <span class="st">"RemoveHistory"</span> <span class="ot">-&gt;</span> <span class="cn">False</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb24-12"><a href="#cb24-12" aria-hidden="true"></a>     SMRMonEchoFunctionValue<span class="op">[</span>AssociationThread<span class="op">[</span>Values@KeyTake<span class="op">[</span>aCImages<span class="op">,</span> Keys<span class="op">[</span>#<span class="op">]],</span> Values<span class="op">[</span>#<span class="op">]]</span> &amp;<span class="op">]</span>;</span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1l9yz2e8pvlyl.png" alt="1l9yz2e8pvlyl"><figcaption aria-hidden="true">1l9yz2e8pvlyl</figcaption></figure>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/03bc668vzyh4v.png" alt="03bc668vzyh4v"><figcaption aria-hidden="true">03bc668vzyh4v</figcaption></figure>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/00ecjkyzm4e2s.png" alt="00ecjkyzm4e2s"><figcaption aria-hidden="true">00ecjkyzm4e2s</figcaption></figure>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1wsyx76kjba1g.png" alt="1wsyx76kjba1g"><figcaption aria-hidden="true">1wsyx76kjba1g</figcaption></figure>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/18wdi99m1k99j.png" alt="18wdi99m1k99j"><figcaption aria-hidden="true">18wdi99m1k99j</figcaption></figure>
<p><strong>Remark:</strong> Of course, in the recommender pipeline above<br />
we can use both pixels and pixels topics. (With their contributions<br />
being weighted.)</p>
<h2 id="graph-clustering">Graph clustering</h2>
<p>In this section we demonstrate the use of graph communities to find<br />
similar groups of Chinese characters.</p>
<p>Here we take a sub-matrix of the reduced dimension matrix computed<br />
above:</p>
<div class="sourceCode" id="cb25">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="fu">W</span> <span class="ex">=</span> lsaAllObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonTakeW;</span></code></pre>
</div>
<p>Here we find the similarity matrix between the characters and remove<br />
entries corresponding to “small” similarities:</p>
<div class="sourceCode" id="cb26">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a>matSym <span class="ex">=</span> <span class="fu">Clip</span><span class="op">[</span><span class="fu">W</span> . <span class="fu">Transpose</span><span class="op">[</span><span class="fu">W</span><span class="op">],</span> <span class="op">{</span><span class="fl">0.78</span><span class="op">,</span> <span class="dv">1</span><span class="op">},</span> <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">}]</span>;</span></code></pre>
</div>
<p>Here we plot the obtained (clipped) similarity matrix:</p>
<div class="sourceCode" id="cb27">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a><span class="fu">MatrixPlot</span><span class="op">[</span>matSym<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1nvdb26265li6.png" alt="1nvdb26265li6"><figcaption aria-hidden="true">1nvdb26265li6</figcaption></figure>
<p>Here we:</p>
<ul>
<li>Take array rules of the sparse similarity matrix</li>
<li>Drop the rules corresponding to the diagonal elements</li>
<li>Convert the keys of rules into uni-directed graph edges</li>
<li>Make the corresponding graph</li>
<li>Find graph’s connected components</li>
<li>Show the number of connected components</li>
<li>Show a tally of the number of nodes in the components</li>
</ul>
<div class="sourceCode" id="cb28">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a>gr <span class="ex">=</span> <span class="fu">Graph</span><span class="op">[</span><span class="fu">UndirectedEdge</span> @@@ <span class="fu">DeleteCases</span><span class="op">[</span><span class="fu">Union</span><span class="op">[</span><span class="fu">Sort</span> <span class="sc">/</span>@ Keys<span class="op">[</span>SSparseMatrixAssociation<span class="op">[</span>matSym<span class="op">]]],</span> <span class="op">{</span><span class="at">x_</span><span class="op">,</span> <span class="at">x_</span><span class="op">}]]</span>;</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a>lsComps <span class="ex">=</span> <span class="fu">ConnectedComponents</span><span class="op">[</span>gr<span class="op">]</span>;</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true"></a><span class="fu">Length</span><span class="op">[</span>lsComps<span class="op">]</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true"></a>ReverseSortBy<span class="op">[</span><span class="fu">Tally</span><span class="op">[</span><span class="fu">Length</span> <span class="sc">/</span>@ lsComps<span class="op">],</span> <span class="fu">First</span><span class="op">]</span></span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true"></a><span class="co">(*138*)</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true"></a></span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true"></a><span class="co">(*{{1839, 1}, {31, 1}, {27, 1}, {16, 1}, {11, 2}, {9, 2}, {8, 1}, {7, 1}, {6, 5}, {5, 3}, {4, 8}, {3, 14}, {2, 98}}*)</span></span></code></pre>
</div>
<p>Here we demonstrate the clusters of Chinese characters make<br />
sense:</p>
<div class="sourceCode" id="cb29">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a>aPrettyRules <span class="ex">=</span> <span class="fu">Dispatch</span><span class="op">[</span><span class="fu">Map</span><span class="op">[</span># <span class="ot">-&gt;</span> <span class="fu">Style</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">FontSize</span> <span class="ot">-&gt;</span> <span class="dv">36</span><span class="op">]</span> &amp;<span class="op">,</span> Keys<span class="op">[</span>aCImages<span class="op">]]]</span>; CommunityGraphPlot<span class="op">[</span><span class="fu">Subgraph</span><span class="op">[</span>gr<span class="op">,</span> TakeLargestBy<span class="op">[</span>lsComps<span class="op">,</span> <span class="fu">Length</span><span class="op">,</span> <span class="dv">10</span><span class="op">][[</span><span class="dv">2</span><span class="op">]]],</span> <span class="fu">Method</span> <span class="ot">-&gt;</span> <span class="st">"SpringElectrical"</span><span class="op">,</span> <span class="fu">VertexLabels</span> <span class="ot">-&gt;</span> <span class="fu">Placed</span><span class="op">[</span><span class="st">"Name"</span><span class="op">,</span> Above<span class="op">],</span><span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">1000</span><span class="op">]</span> <span class="ot">/.</span> aPrettyRules</span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1c0w4uhnyn2jx.png" alt="1c0w4uhnyn2jx"><figcaption aria-hidden="true">1c0w4uhnyn2jx</figcaption></figure>
<p><strong>Remark:</strong> By careful observation of the clusters and<br />
graph connections we can convince ourselves that the similarities are<br />
based on pictorial sub-elements (i.e.&nbsp;radicals) of the characters.</p>
<h2 id="hierarchical-clustering">Hierarchical clustering</h2>
<p>In this section we apply hierarchical clustering to the reduced<br />
dimension representation of the Chinese character images.</p>
<p>Here we pick a cluster:</p>
<div class="sourceCode" id="cb30">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a>lsFocusIDs <span class="ex">=</span> lsClusters<span class="op">[[</span><span class="dv">12</span><span class="op">]]</span>;</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true"></a><span class="fu">Magnify</span><span class="op">[</span>ImageCollage<span class="op">[</span>Values<span class="op">[</span>KeyTake<span class="op">[</span>aCImages<span class="op">,</span> lsFocusIDs<span class="op">]]],</span> <span class="fl">0.4</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/14cnicsw2rvrt.png" alt="14cnicsw2rvrt"><figcaption aria-hidden="true">14cnicsw2rvrt</figcaption></figure>
<p>Here is how we can make a dendrogram plot (not that useful here):</p>
<div class="sourceCode" id="cb31">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a><span class="co">(*smat=W2\[LeftDoubleBracket]lsClusters\[LeftDoubleBracket]13\[RightDoubleBracket],All\[RightDoubleBracket];</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true"></a><span class="co">Dendrogram[Thread[Normal[SparseArray[smat]]-&gt;Map[Style[#,FontSize-&gt;16]&amp;,RowNames[smat]]],Top,DistanceFunction-&gt;EuclideanDistance]*)</span></span></code></pre>
</div>
<p>Here is a heat-map plot with hierarchical clustering dendrogram (with<br />
tool-tips):</p>
<div class="sourceCode" id="cb32">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a>gr <span class="ex">=</span> HeatmapPlot<span class="op">[</span>W2<span class="op">[[</span>lsFocusIDs<span class="op">,</span> <span class="cn">All</span><span class="op">]],</span> <span class="fu">DistanceFunction</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fu">CosineDistance</span><span class="op">,</span> <span class="cn">None</span><span class="op">},</span> Dendrogram <span class="ot">-&gt;</span> <span class="op">{</span><span class="cn">True</span><span class="op">,</span> <span class="cn">False</span><span class="op">}]</span>;</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true"></a>gr <span class="ot">/.</span> <span class="fu">Map</span><span class="op">[</span># <span class="ot">-&gt;</span> <span class="fu">Tooltip</span><span class="op">[</span><span class="fu">Style</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">FontSize</span> <span class="ot">-&gt;</span> <span class="dv">16</span><span class="op">],</span> <span class="fu">Style</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">Bold</span><span class="op">,</span> <span class="fu">FontSize</span> <span class="ot">-&gt;</span> <span class="dv">36</span><span class="op">]]</span> &amp;<span class="op">,</span> lsFocusIDs<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0vz82un57054q.png" alt="0vz82un57054q"><figcaption aria-hidden="true">0vz82un57054q</figcaption></figure>
<p><strong>Remark:</strong> The plot above has tooltips with larger<br />
character images.</p>
<h2 id="representing-all-characters-with-smaller-set-of-basic-ones">Representing<br />
all characters with smaller set of basic ones</h2>
<p>In this section we demonstrate that a relatively small set of simpler<br />
Chinese character images can be used to represent (or approxumate) the<br />
rest of the images.</p>
<p><strong>Remark:</strong> We use the following heuristic: the simpler<br />
Chinese characters have the smallest amount of white pixels.</p>
<p>Obtain a training set of images – that are the darkest – and show a<br />
sample of that set :</p>
<div class="sourceCode" id="cb33">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true"></a><span class="op">{</span>trainingInds<span class="op">,</span> testingInds<span class="op">}</span> <span class="ex">=</span> TakeDrop<span class="op">[</span>Keys<span class="op">[</span><span class="fu">SortBy</span><span class="op">[</span>aCImages<span class="op">,</span> <span class="fu">Total</span><span class="op">[</span>ImageToVector<span class="op">[</span>#<span class="op">]]</span> &amp;<span class="op">]],</span> <span class="dv">800</span><span class="op">]</span>;</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">3</span><span class="op">]</span>;</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true"></a><span class="fu">RandomSample</span><span class="op">[</span>KeyTake<span class="op">[</span>aCImages<span class="op">,</span> trainingInds<span class="op">],</span> <span class="dv">12</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/10275rv8gn1qt.png" alt="10275rv8gn1qt"><figcaption aria-hidden="true">10275rv8gn1qt</figcaption></figure>
<p>Show all training characters with an image collage:</p>
<div class="sourceCode" id="cb34">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a><span class="fu">Magnify</span><span class="op">[</span>ImageCollage<span class="op">[</span>Values<span class="op">[</span>KeyTake<span class="op">[</span>aCImages<span class="op">,</span> trainingInds<span class="op">]],</span> <span class="fu">Background</span> <span class="ot">-&gt;</span> <span class="fu">Gray</span><span class="op">,</span> <span class="fu">ImagePadding</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="op">],</span> <span class="fl">0.4</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/049bs0w0x26jw.png" alt="049bs0w0x26jw"><figcaption aria-hidden="true">049bs0w0x26jw</figcaption></figure>
<p>Apply LSA monadic pipeline with the training characters only:</p>
<div class="sourceCode" id="cb35">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">77</span><span class="op">]</span>;</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true"></a>  lsaPartialObj <span class="ex">=</span> </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true"></a>    LSAMonUnit<span class="op">[]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true"></a>     LSAMonSetDocumentTermMatrix<span class="op">[</span><span class="fu">SparseArray</span><span class="op">[</span>Values@KeyTake<span class="op">[</span>aCImageVecs<span class="op">,</span> trainingInds<span class="op">]]]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true"></a>     LSAMonApplyTermWeightFunctions<span class="op">[</span><span class="st">"None"</span><span class="op">,</span> <span class="st">"None"</span><span class="op">,</span> <span class="st">"Cosine"</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true"></a>     LSAMonExtractTopics<span class="op">[</span><span class="st">"NumberOfTopics"</span> <span class="ot">-&gt;</span> <span class="dv">80</span><span class="op">,</span> <span class="fu">Method</span> <span class="ot">-&gt;</span> <span class="st">"SVD"</span><span class="op">,</span> <span class="st">"MaxSteps"</span> <span class="ot">-&gt;</span> <span class="dv">120</span><span class="op">,</span> <span class="st">"MinNumberOfDocumentsPerTerm"</span> <span class="ot">-&gt;</span> <span class="dv">0</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true"></a>     LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true"></a>     LSAMonEcho<span class="op">[</span><span class="fu">Style</span><span class="op">[</span><span class="st">"Obtained basis:"</span><span class="op">,</span> <span class="fu">Bold</span><span class="op">,</span> <span class="fu">Purple</span><span class="op">]]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true"></a>     LSAMonEchoFunctionContext<span class="op">[</span><span class="fu">ImageAdjust</span><span class="op">[</span><span class="fu">Image</span><span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">1</span><span class="op">]]]]]</span> &amp; <span class="sc">/</span>@SparseArray<span class="op">[</span>#H<span class="op">]</span> &amp;<span class="op">]</span>; </span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true"></a> <span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0i509m9n2d2p8.png" alt="0i509m9n2d2p8"><figcaption aria-hidden="true">0i509m9n2d2p8</figcaption></figure>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1raokwq750nyi.png" alt="1raokwq750nyi"><figcaption aria-hidden="true">1raokwq750nyi</figcaption></figure>
<pre><code>(*{0.826489, Null}*)</code></pre>
<p>Get the matrix and basis interpretation of the extracted image<br />
topics:</p>
<div class="sourceCode" id="cb37">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true"></a><span class="fu">H</span> <span class="ex">=</span> </span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true"></a>   lsaPartialObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true"></a>    LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true"></a>    LSAMonTakeH;</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true"></a>lsBasis <span class="ex">=</span> <span class="fu">ImageAdjust</span><span class="op">[</span><span class="fu">Image</span><span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">1</span><span class="op">]]]]]</span> &amp; <span class="sc">/</span>@ <span class="fu">SparseArray</span><span class="op">[</span><span class="fu">H</span><span class="op">]</span>;</span></code></pre>
</div>
<h3 id="approximation-of-unseen-characters">Approximation of “unseen”<br />
characters</h3>
<p>Pick a Chinese character image as a target image and pre-process<br />
it:</p>
<div class="sourceCode" id="cb38">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true"></a>ind <span class="ex">=</span> <span class="fu">RandomChoice</span><span class="op">[</span>testingInds<span class="op">]</span>;</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true"></a>imgTest <span class="ex">=</span> aCImages<span class="op">[</span>ind<span class="op">]</span>;</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true"></a>matImageTest <span class="ex">=</span> ToSSparseMatrix<span class="op">[</span>SparseArray@List@ImageToVector<span class="op">[</span>imgTest<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]]],</span> <span class="st">"RowNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">,</span> <span class="st">"ColumnNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">]</span>;</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true"></a>imgTest</span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/15qkrj0nw08mv.png" alt="15qkrj0nw08mv"><figcaption aria-hidden="true">15qkrj0nw08mv</figcaption></figure>
<p>Find its representation with the chosen feature extractor (LSAMon<br />
object here):</p>
<div class="sourceCode" id="cb39">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true"></a>matReprsentation <span class="ex">=</span> lsaPartialObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonRepresentByTopics<span class="op">[</span>matImageTest<span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonTakeValue;</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true"></a>lsCoeff <span class="ex">=</span> Normal@SparseArray<span class="op">[</span>matReprsentation<span class="op">[[</span><span class="dv">1</span><span class="op">,</span> <span class="cn">All</span><span class="op">]]]</span>;</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true"></a><span class="fu">ListPlot</span><span class="op">[</span><span class="fu">MapIndexed</span><span class="op">[</span><span class="fu">Tooltip</span><span class="op">[</span>#<span class="dv">1</span><span class="op">,</span> lsBasis<span class="op">[[</span>#<span class="dv">2</span><span class="op">[[</span><span class="dv">1</span><span class="op">]]]]]</span> &amp;<span class="op">,</span> lsCoeff<span class="op">],</span> <span class="fu">Filling</span> <span class="ot">-&gt;</span> <span class="fu">Axis</span><span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0cn7ty6zf3mgo.png" alt="0cn7ty6zf3mgo"><figcaption aria-hidden="true">0cn7ty6zf3mgo</figcaption></figure>
<p>Show representation coefficients outliers:</p>
<div class="sourceCode" id="cb40">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true"></a>lsBasis<span class="op">[[</span>OutlierPosition<span class="op">[</span><span class="fu">Abs</span><span class="op">[</span>lsCoeff<span class="op">],</span> TopOutliers@<span class="sc">*</span>HampelIdentifierParameters<span class="op">]]]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1w6jkhdpxlxw8.png" alt="1w6jkhdpxlxw8"><figcaption aria-hidden="true">1w6jkhdpxlxw8</figcaption></figure>
<p>Show the interpretation of the found representation:</p>
<div class="sourceCode" id="cb41">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true"></a>vecReprsentation <span class="ex">=</span> lsCoeff . <span class="fu">SparseArray</span><span class="op">[</span><span class="fu">H</span><span class="op">]</span>;</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true"></a>reprImg <span class="ex">=</span> <span class="fu">Image</span><span class="op">[</span>Unitize@Clip<span class="op">[</span>#<span class="op">,</span> <span class="op">{</span><span class="fl">0.45</span><span class="op">,</span> <span class="dv">1</span><span class="op">},</span> <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">}]</span> &amp;@Rescale<span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>vecReprsentation<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">1</span><span class="op">]]]]]</span>;</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true"></a><span class="op">{</span>reprImg<span class="op">,</span> imgTest<span class="op">}</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0c84q1hscjubu.png" alt="0c84q1hscjubu"><figcaption aria-hidden="true">0c84q1hscjubu</figcaption></figure>
<p>See the closest characters using image distances:</p>
<div class="sourceCode" id="cb42">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true"></a>KeyMap<span class="op">[</span># <span class="ot">/.</span> aCImages &amp;<span class="op">,</span> TakeSmallest<span class="op">[</span>ImageDistance<span class="op">[</span>reprImg<span class="op">,</span> #<span class="op">]</span> &amp; <span class="sc">/</span>@ aCImages<span class="op">,</span> <span class="dv">4</span><span class="op">]]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1vtcw1dhzlet5.png" alt="1vtcw1dhzlet5"><figcaption aria-hidden="true">1vtcw1dhzlet5</figcaption></figure>
<p><strong>Remark:</strong> By applying the approximation procedure to<br />
all characters in testing set we can convince ourselves that small,<br />
training set provides good retrieval. (Not done here.)</p>
<h2 id="finding-more-interpretable-bases">Finding more interpretable<br />
bases</h2>
<p>In this section we show how to use LSA workflow with <a href="https://resources.wolframcloud.com/FunctionRepository/resources/NonNegativeMatrixFactorization">Non-Negative<br />
Matrix Factorization (NNMF)</a> over an image set extended with already<br />
extracted “topic” images.</p>
<h3 id="cleaner-automatic-radicals">Cleaner automatic radicals</h3>
<div class="sourceCode" id="cb43">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true"></a>aAutoRadicals2 <span class="ex">=</span> <span class="fu">Map</span><span class="op">[</span><span class="fu">Dilation</span><span class="op">[</span><span class="fu">Binarize</span><span class="op">[</span><span class="fu">DeleteSmallComponents</span><span class="op">[</span>#<span class="op">]],</span> <span class="fl">0.5</span><span class="op">]</span> &amp;<span class="op">,</span> <span class="fu">First</span> <span class="sc">/</span>@ aAutoRadicals<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/10eg2eaajgiit.png" alt="10eg2eaajgiit"><figcaption aria-hidden="true">10eg2eaajgiit</figcaption></figure>
<p>Here we take an image union in order to remove the “duplicated”<br />
radicals:</p>
<div class="sourceCode" id="cb44">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true"></a>aAutoRadicals3 <span class="ex">=</span> AssociationThread<span class="op">[</span><span class="fu">Range</span><span class="op">[</span><span class="fu">Length</span><span class="op">[</span>#<span class="op">]],</span> #<span class="op">]</span> &amp;@Union<span class="op">[</span>Values<span class="op">[</span>aAutoRadicals2<span class="op">],</span> <span class="fu">SameTest</span> <span class="ot">-&gt;</span> (ImageDistance<span class="op">[</span>#<span class="dv">1</span><span class="op">,</span> #<span class="dv">2</span><span class="op">]</span> &lt; <span class="fl">14.5</span> &amp;)<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1t09xi5nlycaw.png" alt="1t09xi5nlycaw"><figcaption aria-hidden="true">1t09xi5nlycaw</figcaption></figure>
<h3 id="lsamon-pipeline-with-nnmf">LSAMon pipeline with NNMF</h3>
<p>Make a matrix with named rows and columns from the image vectors:</p>
<div class="sourceCode" id="cb45">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true"></a>mat1 <span class="ex">=</span> ToSSparseMatrix<span class="op">[</span><span class="fu">SparseArray</span><span class="op">[</span>Values@aCImageVecs<span class="op">],</span> <span class="st">"RowNames"</span> <span class="ot">-&gt;</span> Keys<span class="op">[</span>aCImageVecs<span class="op">],</span> <span class="st">"ColumnNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0np1umfcks9hm.png" alt="0np1umfcks9hm"><figcaption aria-hidden="true">0np1umfcks9hm</figcaption></figure>
<p>Enhance the matrix with radicals instances:</p>
<div class="sourceCode" id="cb46">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true"></a>mat2 <span class="ex">=</span> ToSSparseMatrix<span class="op">[</span><span class="fu">SparseArray</span><span class="op">[</span><span class="fu">Join</span> @@ <span class="fu">Map</span><span class="op">[</span><span class="fu">Table</span><span class="op">[</span>ImageToVector<span class="op">[</span>#<span class="op">],</span> <span class="dv">100</span><span class="op">]</span> &amp;<span class="op">,</span> Values<span class="op">[</span>aAutoRadicals3<span class="op">]]],</span> <span class="st">"RowNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">,</span> <span class="st">"ColumnNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">]</span>;</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true"></a>mat3 <span class="ex">=</span> RowBind<span class="op">[</span>mat1<span class="op">,</span> mat2<span class="op">]</span>;</span></code></pre>
</div>
<p>Apply the LSAMon workflow pipeline with NNMF for topic<br />
extraction:</p>
<div class="sourceCode" id="cb47">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">77</span><span class="op">]</span>;</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true"></a>  lsaAllExtendedObj <span class="ex">=</span> </span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true"></a>    LSAMonUnit<span class="op">[]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true"></a>     LSAMonSetDocumentTermMatrix<span class="op">[</span>mat3<span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true"></a>     LSAMonApplyTermWeightFunctions<span class="op">[</span><span class="st">"None"</span><span class="op">,</span> <span class="st">"None"</span><span class="op">,</span> <span class="st">"Cosine"</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true"></a>     LSAMonExtractTopics<span class="op">[</span><span class="st">"NumberOfTopics"</span> <span class="ot">-&gt;</span> <span class="dv">60</span><span class="op">,</span> <span class="fu">Method</span> <span class="ot">-&gt;</span> <span class="st">"NNMF"</span><span class="op">,</span> <span class="st">"MaxSteps"</span> <span class="ot">-&gt;</span> <span class="dv">15</span><span class="op">,</span> <span class="st">"MinNumberOfDocumentsPerTerm"</span> <span class="ot">-&gt;</span> <span class="dv">0</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true"></a>     LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true"></a>     LSAMonEcho<span class="op">[</span><span class="fu">Style</span><span class="op">[</span><span class="st">"Obtained basis:"</span><span class="op">,</span> <span class="fu">Bold</span><span class="op">,</span> <span class="fu">Purple</span><span class="op">]]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true"></a>     LSAMonEchoFunctionContext<span class="op">[</span><span class="fu">ImageAdjust</span><span class="op">[</span><span class="fu">Image</span><span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">1</span><span class="op">]]]]]</span> &amp; <span class="sc">/</span>@SparseArray<span class="op">[</span>#H<span class="op">]</span> &amp;<span class="op">]</span>; </span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true"></a> <span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1mc1fa16ylzcu.png" alt="1mc1fa16ylzcu"><figcaption aria-hidden="true">1mc1fa16ylzcu</figcaption></figure>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1c6p7pzemk6qx.png" alt="1c6p7pzemk6qx"><figcaption aria-hidden="true">1c6p7pzemk6qx</figcaption></figure>
<pre><code>(*{155.289, Null}*)</code></pre>
<p><strong>Remark:</strong> Note that NNMF “found” the interpretable<br />
radical images we enhanced the original image set with.</p>
<p>Get the matrix and basis interpretation of the extracted image<br />
topics:</p>
<div class="sourceCode" id="cb49">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true"></a><span class="fu">H</span> <span class="ex">=</span> </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true"></a>   lsaAllExtendedObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true"></a>    LSAMonNormalizeMatrixProduct<span class="op">[</span>Normalized <span class="ot">-&gt;</span> <span class="fu">Right</span><span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true"></a>    LSAMonTakeH;</span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true"></a>lsBasis <span class="ex">=</span> <span class="fu">ImageAdjust</span><span class="op">[</span><span class="fu">Image</span><span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>#<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">1</span><span class="op">]]]]]</span> &amp; <span class="sc">/</span>@ <span class="fu">SparseArray</span><span class="op">[</span><span class="fu">H</span><span class="op">]</span>;</span></code></pre>
</div>
<h3 id="approximation">Approximation</h3>
<p>Pick a Chinese character image as a target image and pre-process<br />
it:</p>
<div class="sourceCode" id="cb50">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true"></a><span class="fu">SeedRandom</span><span class="op">[</span><span class="dv">43</span><span class="op">]</span>;</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true"></a>ind <span class="ex">=</span> <span class="fu">RandomChoice</span><span class="op">[</span>testingInds<span class="op">]</span>;</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true"></a>imgTest <span class="ex">=</span> aCImages<span class="op">[</span>ind<span class="op">]</span>;</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true"></a>matImageTest <span class="ex">=</span> ToSSparseMatrix<span class="op">[</span>SparseArray@List@ImageToVector<span class="op">[</span>imgTest<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]]],</span> <span class="st">"RowNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">,</span> <span class="st">"ColumnNames"</span> <span class="ot">-&gt;</span> <span class="cn">Automatic</span><span class="op">]</span>;</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true"></a>imgTest</span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1h2aitm71mnl5.png" alt="1h2aitm71mnl5"><figcaption aria-hidden="true">1h2aitm71mnl5</figcaption></figure>
<p>Find its representation with the chosen feature extractor (LSAMon<br />
object here):</p>
<div class="sourceCode" id="cb51">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true"></a>matReprsentation <span class="ex">=</span> lsaAllExtendedObj<span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonRepresentByTopics<span class="op">[</span>matImageTest<span class="op">]</span><span class="sc">\</span><span class="op">[</span><span class="fu">DoubleLongRightArrow</span><span class="op">]</span>LSAMonTakeValue;</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true"></a>lsCoeff <span class="ex">=</span> Normal@SparseArray<span class="op">[</span>matReprsentation<span class="op">[[</span><span class="dv">1</span><span class="op">,</span> <span class="cn">All</span><span class="op">]]]</span>;</span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true"></a><span class="fu">ListPlot</span><span class="op">[</span><span class="fu">MapIndexed</span><span class="op">[</span><span class="fu">Tooltip</span><span class="op">[</span>#<span class="dv">1</span><span class="op">,</span> lsBasis<span class="op">[[</span>#<span class="dv">2</span><span class="op">[[</span><span class="dv">1</span><span class="op">]]]]]</span> &amp;<span class="op">,</span> lsCoeff<span class="op">],</span> <span class="fu">Filling</span> <span class="ot">-&gt;</span> <span class="fu">Axis</span><span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/084vbifk2zvi3.png" alt="084vbifk2zvi3"><figcaption aria-hidden="true">084vbifk2zvi3</figcaption></figure>
<p>Show representation coefficients outliers:</p>
<div class="sourceCode" id="cb52">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true"></a>lsBasis<span class="op">[[</span>OutlierPosition<span class="op">[</span><span class="fu">Abs</span><span class="op">[</span>lsCoeff<span class="op">],</span> TopOutliers@<span class="sc">*</span>QuartileIdentifierParameters<span class="op">]]]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/06xq4p3k31fzt.png" alt="06xq4p3k31fzt"><figcaption aria-hidden="true">06xq4p3k31fzt</figcaption></figure>
<p><strong>Remark:</strong> Note that <strong><em>expected</em></strong><br />
radical images are in the outliers.</p>
<p>Show the interpretation of the found representation:</p>
<div class="sourceCode" id="cb53">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true"></a>vecReprsentation <span class="ex">=</span> lsCoeff . <span class="fu">SparseArray</span><span class="op">[</span><span class="fu">H</span><span class="op">]</span>;</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true"></a>reprImg <span class="ex">=</span> <span class="fu">Image</span><span class="op">[</span>Unitize@Clip<span class="op">[</span>#<span class="op">,</span> <span class="op">{</span><span class="fl">0.45</span><span class="op">,</span> <span class="dv">1</span><span class="op">},</span> <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">}]</span> &amp;@Rescale<span class="op">[</span><span class="fu">Partition</span><span class="op">[</span>vecReprsentation<span class="op">,</span> <span class="fu">ImageDimensions</span><span class="op">[</span>aCImages<span class="op">[[</span><span class="dv">1</span><span class="op">]]][[</span><span class="dv">1</span><span class="op">]]]]]</span>;</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true"></a><span class="op">{</span>reprImg<span class="op">,</span> imgTest<span class="op">}</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/01xeidbc9qme6.png" alt="01xeidbc9qme6"><figcaption aria-hidden="true">01xeidbc9qme6</figcaption></figure>
<p>See the closest characters using image distances:</p>
<div class="sourceCode" id="cb54">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true"></a>KeyMap<span class="op">[</span># <span class="ot">/.</span> aCImages &amp;<span class="op">,</span> TakeSmallest<span class="op">[</span>ImageDistance<span class="op">[</span>reprImg<span class="op">,</span> #<span class="op">]</span> &amp; <span class="sc">/</span>@ aCImages<span class="op">,</span> <span class="dv">4</span><span class="op">]]</span></span></code></pre>
</div>
<figure>
<img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1mrut9izhycrn.png" alt="1mrut9izhycrn"><figcaption aria-hidden="true">1mrut9izhycrn</figcaption></figure>
<h2 id="setup">Setup</h2>
<div class="sourceCode" id="cb55">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true"></a><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MonadicProgramming/MonadicLatentSemanticAnalysis.m"</span><span class="op">]</span>;</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true"></a><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MonadicProgramming/MonadicSparseMatrixRecommender.m"</span><span class="op">]</span>;</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true"></a><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/Misc/HeatmapPlot.m"</span><span class="op">]</span></span></code></pre>
</div>
<h2 id="references">References</h2>
<p>[SH1] Silvia Hao, <a href="https://community.wolfram.com/groups/-/m/t/2509775">“Exploring<br />
structure of Chinese characters through image processing”</a>, (2022),<br />
<a href="https://community.wolfram.com">Wolfram Community</a>.</p>
<p>[AA1] Anton Antonov, <a href="https://community.wolfram.com/groups/-/m/t/1789024">“A monad for<br />
Latent Semantic Analysis workflows”</a>, (2019), <a href="https://community.wolfram.com">Wolfram Community</a>.</p>
<p>[AA2] Anton Antonov, <a href="https://community.wolfram.com/groups/-/m/t/2508248">“LSA methods<br />
comparison over random mandalas deconstruction – WL”</a>, (2022), <a href="https://community.wolfram.com">Wolfram Community</a>.</p>
<p>[AA3] Anton Antonov, <a href="https://community.wolfram.com/groups/-/m/t/2143094">“Bethlehem<br />
stars: classifying randomly generated mandalas”</a>, (2020), <a href="https://community.wolfram.com">Wolfram Community</a>.</p>
<p>[AA4] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2022/03/01/random-mandala-deconstruction-in-r-python-and-mathematica/8">“Random mandalas deconstruction in R, Python, and Mathematica”</a>, (2022), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction at WordPress</a>.</p>
<p>[AAp1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/Misc/LSAMonForImageCollections.m">LSAMon<br />
for Image Collections Mathematica package</a>, (2022), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction<br />
at GitHub</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2022/05/03/re-exploring-the-structure-of-chinese-character-images/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2022/05/1c0w4uhnyn2jx.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/05/1c0w4uhnyn2jx.png" medium="image">
			<media:title type="html">1c0w4uhnyn2jx</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0zu4hv95x0jjf.png" medium="image">
			<media:title type="html">0zu4hv95x0jjf</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1jy9voh5c01lt.png" medium="image">
			<media:title type="html">1jy9voh5c01lt</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0cobk7b0m9xcn.png" medium="image">
			<media:title type="html">0cobk7b0m9xcn</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/07tn6wh5t97j4.png" medium="image">
			<media:title type="html">07tn6wh5t97j4</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1n5cwcrgj2d3m.png" medium="image">
			<media:title type="html">1n5cwcrgj2d3m</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0lvt8mcfzpvhg.png" medium="image">
			<media:title type="html">0lvt8mcfzpvhg</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0erc719h7lnzi.png" medium="image">
			<media:title type="html">0erc719h7lnzi</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/131vpq9dabrjo.png" medium="image">
			<media:title type="html">131vpq9dabrjo</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0jdmyfb9rsobz.png" medium="image">
			<media:title type="html">0jdmyfb9rsobz</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/088nutsaye7yl.png" medium="image">
			<media:title type="html">088nutsaye7yl</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0j7joulwrnj30.png" medium="image">
			<media:title type="html">0j7joulwrnj30</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1nno5c4wmc83q.png" medium="image">
			<media:title type="html">1nno5c4wmc83q</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1gtqe0ihshi9s.png" medium="image">
			<media:title type="html">1gtqe0ihshi9s</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1bu5h88uiet3e.png" medium="image">
			<media:title type="html">1bu5h88uiet3e</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/05re59k8t4u4u.png" medium="image">
			<media:title type="html">05re59k8t4u4u</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0pi2u9ejqv9wd.png" medium="image">
			<media:title type="html">0pi2u9ejqv9wd</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1l9yz2e8pvlyl.png" medium="image">
			<media:title type="html">1l9yz2e8pvlyl</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/03bc668vzyh4v.png" medium="image">
			<media:title type="html">03bc668vzyh4v</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/00ecjkyzm4e2s.png" medium="image">
			<media:title type="html">00ecjkyzm4e2s</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1wsyx76kjba1g.png" medium="image">
			<media:title type="html">1wsyx76kjba1g</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/18wdi99m1k99j.png" medium="image">
			<media:title type="html">18wdi99m1k99j</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1nvdb26265li6.png" medium="image">
			<media:title type="html">1nvdb26265li6</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1c0w4uhnyn2jx.png" medium="image">
			<media:title type="html">1c0w4uhnyn2jx</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/14cnicsw2rvrt.png" medium="image">
			<media:title type="html">14cnicsw2rvrt</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0vz82un57054q.png" medium="image">
			<media:title type="html">0vz82un57054q</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/10275rv8gn1qt.png" medium="image">
			<media:title type="html">10275rv8gn1qt</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/049bs0w0x26jw.png" medium="image">
			<media:title type="html">049bs0w0x26jw</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0i509m9n2d2p8.png" medium="image">
			<media:title type="html">0i509m9n2d2p8</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1raokwq750nyi.png" medium="image">
			<media:title type="html">1raokwq750nyi</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/15qkrj0nw08mv.png" medium="image">
			<media:title type="html">15qkrj0nw08mv</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0cn7ty6zf3mgo.png" medium="image">
			<media:title type="html">0cn7ty6zf3mgo</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1w6jkhdpxlxw8.png" medium="image">
			<media:title type="html">1w6jkhdpxlxw8</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0c84q1hscjubu.png" medium="image">
			<media:title type="html">0c84q1hscjubu</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1vtcw1dhzlet5.png" medium="image">
			<media:title type="html">1vtcw1dhzlet5</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/10eg2eaajgiit.png" medium="image">
			<media:title type="html">10eg2eaajgiit</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1t09xi5nlycaw.png" medium="image">
			<media:title type="html">1t09xi5nlycaw</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0np1umfcks9hm.png" medium="image">
			<media:title type="html">0np1umfcks9hm</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1mc1fa16ylzcu.png" medium="image">
			<media:title type="html">1mc1fa16ylzcu</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1c6p7pzemk6qx.png" medium="image">
			<media:title type="html">1c6p7pzemk6qx</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1h2aitm71mnl5.png" medium="image">
			<media:title type="html">1h2aitm71mnl5</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/084vbifk2zvi3.png" medium="image">
			<media:title type="html">084vbifk2zvi3</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/06xq4p3k31fzt.png" medium="image">
			<media:title type="html">06xq4p3k31fzt</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/01xeidbc9qme6.png" medium="image">
			<media:title type="html">01xeidbc9qme6</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1mrut9izhycrn.png" medium="image">
			<media:title type="html">1mrut9izhycrn</media:title>
		</media:content>
	</item>
		<item>
		<title>Random mandalas deconstruction in R, Python, and Mathematica</title>
		<link>https://mathematicaforprediction.wordpress.com/2022/03/01/random-mandala-deconstruction-in-r-python-and-mathematica/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2022/03/01/random-mandala-deconstruction-in-r-python-and-mathematica/#comments</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Tue, 01 Mar 2022 02:17:59 +0000</pubDate>
				<category><![CDATA[Data Science]]></category>
		<category><![CDATA[Data visualization]]></category>
		<category><![CDATA[dimension reduction]]></category>
		<category><![CDATA[Independent Component Analysis]]></category>
		<category><![CDATA[Latent Semantic Analysis]]></category>
		<category><![CDATA[Machine learning]]></category>
		<category><![CDATA[Mathematica vs R vs Python]]></category>
		<category><![CDATA[Mathematica vs. R]]></category>
		<category><![CDATA[Non-negative matrix factorization]]></category>
		<category><![CDATA[Python]]></category>
		<category><![CDATA[R]]></category>
		<category><![CDATA[SVD]]></category>
		<category><![CDATA[data visualization]]></category>
		<category><![CDATA[dimensions reduction]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1225</guid>

					<description><![CDATA[In this presentation we discuss the application of different dimension reduction algorithms over collections of random mandalas. We discuss and compare the derived image bases and show how those bases explain the underlying collection structure.]]></description>
										<content:encoded><![CDATA[<p>Today (2022-02-28) I gave a presentation <strong><em><a href="https://www.meetup.com/Boston-useR/events/284045968/">Greater Boston useR&nbsp;Meetup</a></em></strong>&nbsp;titled &#8220;Random&nbsp;mandalas deconstruction with R, Python, and Mathematica&#8221;. (<a href="https://youtu.be/nKlcts5aGwY">Link to the video recording</a>.)</p>
<hr>
<p id="abstract">Here is the abstract:</p>
<blockquote><p>In this presentation we discuss the application of different&nbsp;dimension reduction algorithms over collections of random mandalas. We&nbsp;discuss and compare the derived image bases and show how those bases&nbsp;explain the underlying collection structure. The presented techniques&nbsp;and insights (1) are applicable to any collection of images, and (2) can&nbsp;be included in larger, more complicated machine learning workflows. The&nbsp;former is demonstrated with a handwritten digits recognition<br />
application; the latter with the generation of random Bethlehem stars.&nbsp;The (parallel) walk-through of the core demonstration is in all three&nbsp;programming languages: Mathematica, Python, and R.</p></blockquote>
<hr>
<p>Here is the related RStudio project: <a href="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/tree/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/RandomMandalasDeconstruction">“RandomMandalasDeconstruction”</a>.</p>
<p>Here is a link to the R-computations notebook converted to HTML: <a href="https://htmlpreview.github.io/?https://raw.githubusercontent.com/antononcube/SimplifiedMachineLearningWorkflows-book/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/RandomMandalasDeconstruction/notebooks/LSA-methods-comparison-R.nb.html">“LSA&nbsp;methods comparison in R”</a>.</p>
<p>The Mathematica notebooks are placed in project’s folder <a href="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/tree/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/RandomMandalasDeconstruction/notebooks-WL">“notebooks-WL”</a>.</p>
<hr>
<p>See the work plan status in the <a href="https://orgmode.org">org-mode</a> file <a href="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/org/Random-mandalas-deconstruction-presentation-work-plan.org">&#8220;Random-mandalas-deconstruction-presentation-work-plan.org&#8221;</a>.</p>
<p>Here is the mind-map for the presentation:</p>
<p><a href="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/org/Random-mandalas-deconstruction-presentation-mind-map.pdf"><img src="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/org//Random-mandalas-deconstruction-presentation-mind-map.png"></a></p>
<hr>
<p>The comparison workflow implemented in the notebooks of this project&nbsp;is summarized in the following flow chart:</p>
<p><a href="https://raw.githubusercontent.com/antononcube/SimplifiedMachineLearningWorkflows-book/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/RandomMandalasDeconstruction/diagrams/Random-mandalas-deconstruction-in-Mathematica-Python-R.pdf"><img src="https://raw.githubusercontent.com/antononcube/SimplifiedMachineLearningWorkflows-book/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/RandomMandalasDeconstruction/diagrams/Random-mandalas-deconstruction-in-Mathematica-Python-R.png" alt="Random mandalas deconstruction workflow"></a></p>
<hr>
<h2 id="references">References</h2>
<h3 id="articles">Articles</h3>
<p>[AA1] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2017/02/10/comparison-of-dimension-reduction-algorithms-over-mandala-images-generation/">“Comparison&nbsp;of dimension reduction algorithms over mandala images generation”</a>,&nbsp;(2017), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction&nbsp;at WordPress</a>.</p>
<p>[AA2] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2016/11/12/handwritten-digits-recognition-by-matrix-factorization/">“Handwritten&nbsp;digits recognition by matrix factorization”</a>, (2016), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction&nbsp;at WordPress</a>.</p>
<h3 id="mathematica-packages-and-repository-functions">Mathematica&nbsp;packages and repository functions</h3>
<p>[AAp1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/MonadicLatentSemanticAnalysis.m">Monadic&nbsp;Latent Semantic Analysis Mathematica package</a>, (2017), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction&nbsp;at GitHub/antononcube</a>.</p>
<p>[AAf1] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/NonNegativeMatrixFactorization">NonNegativeMatrixFactorization</a>,&nbsp;(2019), <a href="https://resources.wolframcloud.com">Wolfram Function&nbsp;Repository</a>.</p>
<p>[AAf2] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/IndependentComponentAnalysis">IndependentComponentAnalysis</a>,&nbsp;(2019), <a href="https://resources.wolframcloud.com">Wolfram Function&nbsp;Repository</a>.</p>
<p>[AAf3] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/RandomMandala">RandomMandala</a>,&nbsp;(2019), <a href="https://resources.wolframcloud.com">Wolfram Function&nbsp;Repository</a>.</p>
<h3 id="python-packages">Python packages</h3>
<p>[AAp2] Anton Antonov, <a href="https://pypi.org/project/LatentSemanticAnalyzer">LatentSemanticAnalyzer&nbsp;Python package</a> (2021), <a href="https://pypi.org/">PyPI.org</a>.</p>
<p>[AAp3] Anton Antonov, <a href="https://pypi.org/project/RandomMandala">Random Mandala Python&nbsp;package</a>, (2021), <a href="https://pypi.org/">PyPI.org</a>.</p>
<h3 id="r-packages">R packages</h3>
<p>[AAp4] Anton Antonov, <a href="https://github.com/antononcube/R-packages/tree/master/LSAMon-R">Latent&nbsp;Semantic Analysis Monad R package</a>, (2019), <a href="https://github.com/antononcube/R-packages">R-packages at&nbsp;GitHub/antononcube</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2022/03/01/random-mandala-deconstruction-in-r-python-and-mathematica/feed/</wfw:commentRss>
			<slash:comments>2</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2022/03/random-mandalas-desconstruction-python-nnmf.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2022/03/random-mandalas-desconstruction-python-nnmf.png" medium="image">
			<media:title type="html">random-mandalas-desconstruction-python-nnmf</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/org//Random-mandalas-deconstruction-presentation-mind-map.png" medium="image" />

		<media:content url="https://raw.githubusercontent.com/antononcube/SimplifiedMachineLearningWorkflows-book/master/Presentations/Greater-Boston-useR-Group-Meetup-2022/RandomMandalasDeconstruction/diagrams/Random-mandalas-deconstruction-in-Mathematica-Python-R.png" medium="image">
			<media:title type="html">Random mandalas deconstruction workflow</media:title>
		</media:content>
	</item>
		<item>
		<title>Cryptocurrencies data explorations</title>
		<link>https://mathematicaforprediction.wordpress.com/2021/06/22/cryptocurrencies-data-explorations/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2021/06/22/cryptocurrencies-data-explorations/#respond</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Tue, 22 Jun 2021 18:16:25 +0000</pubDate>
				<category><![CDATA[Data analysis]]></category>
		<category><![CDATA[Data visualization]]></category>
		<category><![CDATA[Financial Data]]></category>
		<category><![CDATA[Mathematica vs. R]]></category>
		<category><![CDATA[Time series]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1218</guid>

					<description><![CDATA[Introduction The main goal of this notebook is to provide some basic views and insights into the landscape of cryptocurrencies. The “landscape” we consider consists of price action and trading volume time series for cryptocurrencies found in Yahoo Finance. Here is the work plan followed in this notebook: Get cryptocurrency data Do basic data analysis [&#8230;]]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>The main goal of this notebook is to provide some basic views and insights into the landscape of cryptocurrencies. The “landscape” we consider consists of price action and trading volume time series for cryptocurrencies found in <a href="https://finance.yahoo.com/cryptocurrencies">Yahoo Finance</a>.</p>
<p>Here is the work plan followed in this notebook:</p>
<ol type="1">
<li>Get cryptocurrency data</li>
<li>Do basic data analysis over suitable date ranges</li>
<li>Gather important cryptocurrency events</li>
<li>Plot together cryptocurrency prices and trading volume time series together with the events</li>
<li>Make observations and conjectures over the plots</li>
<li>Find “global” correlations between the different cryptocurrencies</li>
<li>Find clusters of cryptocurrencies based on time series correlations</li>
</ol>
<p>Here are some details for the steps above:</p>
<ul>
<li>The procedure of obtaining the cryptocurrencies data, point 1, is explained in detail in [<a href="https://mathematicaforprediction.wordpress.com/2021/06/19/crypto-currencies-data-acquisition-with-visualization/">AA1</a>].
<ul>
<li>There is a dedicated resource object <a href="https://www.wolframcloud.com/obj/antononcube/DeployedResources/Function/CryptocurrencyData">CrypocurrencyData</a> that provides cryptocurrency data and related documentation.</li>
</ul>
</li>
<li>The cryptocurrency events data, point 3, is taken from different news sites.
<ul>
<li>Links are provided in the corresponding dataset.</li>
</ul>
</li>
<li>The points 6 and 7 follow similar explorations (and code) described in [<a href="https://mathematicaforprediction.wordpress.com/2021/01/15/ny-times-covid-19-data-visualization-update/">AA2</a>, <a href="https://mathematicaforprediction.wordpress.com/2020/04/17/apple-mobility-trends-data-visualization-for-covid-19/">AA3</a>].
<ul>
<li>Those two articles deal with COVID-19 time series.</li>
</ul>
</li>
</ul>
<p><strong>Remark:</strong> Note that in this notebook we do not discuss philosophical, macro-economic, and environmental issues with cryptocurrencies. We only discuss financial time series data.</p>
<h2 id="cryptocurrencies-data">Cryptocurrencies data</h2>
<p>The cryptocurrencies data used in this notebook is obtained from found in <a href="https://finance.yahoo.com/cryptocurrencies">Yahoo Finance</a> . The procedure of obtaining the cryptocurrencies data is explained in detail in [<a href="https://mathematicaforprediction.wordpress.com/2021/06/19/crypto-currencies-data-acquisition-with-visualization/">AA1</a>]. There is a dedicated resource object <a href="https://www.wolframcloud.com/obj/antononcube/DeployedResources/Function/CryptocurrencyData">CrypocurrencyData</a> that provides the cryptocurrency data and related documentation.</p>
<p>Here are all cryptocurrencies we have data for:</p>
<div id="cb1" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1">ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span><span class="st">"CryptocurrencyNames"</span><span class="op">]</span></span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="co">(*&lt;|"BTC" -&gt; "Bitcoin", "ETH" -&gt; "Ethereum", "USDT" -&gt; "Tether", "BNB" -&gt; "BinanceCoin", "ADA" -&gt; "Cardano", "XRP" -&gt; "XRP", "USDC" -&gt; "Coin", "DOGE" -&gt; "Dogecoin", "DOT1" -&gt; "Polkadot", "HEX" -&gt; "HEX", "UNI3" -&gt; "Uniswap", "BCH" -&gt; "BitcoinCash", "LTC" -&gt; "Litecoin", "LINK" -&gt; "Chainlink", "SOL1" -&gt; "Solana", "MATIC" -&gt; "MaticNetwork", "THETA" -&gt; "THETA", "XLM" -&gt; "Stellar", "VET" -&gt; "VeChain", "ICP1" -&gt; "InternetComputer", "ETC" -&gt; "EthereumClassic", "TRX" -&gt; "TRON", "FIL" -&gt; "FilecoinFutures", "XMR" -&gt; "Monero", "EOS" -&gt; "EOS"|&gt;*)</span></span></code></pre>
</div>
<p><strong>Remark:</strong> <a href="https://reference.wolfram.com/language/ref/FinancialData.html">FinancialData</a> is “aware” of 10 cryptocurrencies, but that is not documented (as far as I can tell) and only prices are provided. (For more details see the discussion in <a href="https://www.wolframcloud.com/obj/antononcube/DeployedResources/Function/CryptocurrencyData">CrypocurrencyData</a>.) Here are examples:</p>
<div id="cb2" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1"><span class="fu">Row</span><span class="op">[</span><span class="fu">DateListPlot</span><span class="op">[</span><span class="fu">FinancialData</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"Jan 1 2021"</span><span class="op">],</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Medium</span><span class="op">,</span> <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span><span class="op">,</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> #<span class="op">]</span> &amp; <span class="sc">/</span>@ <span class="op">{</span><span class="st">"BTC"</span><span class="op">,</span> <span class="st">"ETH"</span><span class="op">}]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/02bue86eonuo0.png" alt="02bue86eonuo0" /><figcaption aria-hidden="true">02bue86eonuo0</figcaption></figure>
<h2 id="significant-cryptocurrencies">Significant cryptocurrencies</h2>
<p>In this section we analyze the summaries of cryptocurrencies data in order to derive a list of the most significant ones.</p>
<p>We choose the phrase “significant cryptocurrency” to mean “a cryptocurrency with high market capitalization, price, or trading volume.”</p>
<p>Together with the summaries we look into the <a href="https://en.wikipedia.org/wiki/Pareto_principle">Pareto principle</a> adherence of the corresponding values.</p>
<p><strong>Remark:</strong> The Pareto principle adherence should be interpreted carefully here – the cryptocurrencies <em>are not</em> mutually exclusive when in comes to money invested and trading volumes. Nevertheless, we can interpret the corresponding value ratios as indicators of “mind share” or “significance.”</p>
<h3 id="by-summaries">By summaries</h3>
<p>Here is a summary of the cryptocurrencies we consider (from <a href="https://finance.yahoo.com/cryptocurrencies">Yahoo Finance</a>) ordered by “Market Cap” (largest first):</p>
<div id="cb3" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1">dsCCSummary <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span><span class="cn">All</span><span class="op">,</span> <span class="st">"Summary"</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0u3re74xw7086.png" alt="0u3re74xw7086" /><figcaption aria-hidden="true">0u3re74xw7086</figcaption></figure>
<p>Here is the summary of summary dataset above:</p>
<div id="cb4" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb4-1">ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>dsCCSummary<span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/14gue3qibxrf7.png" alt="14gue3qibxrf7" /><figcaption aria-hidden="true">14gue3qibxrf7</figcaption></figure>
<p>Here is a Pareto principle adherence plot for the cryptocurrency market caps:</p>
<div id="cb5" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb5-1">aMCaps <span class="ex">=</span> <span class="fu">Normal</span><span class="op">[</span>dsCCSummary<span class="op">[</span>Association<span class="op">,</span> <span class="fu">StringSplit</span><span class="op">[</span>#Symbol<span class="op">,</span> <span class="st">"-"</span><span class="op">][[</span><span class="dv">1</span><span class="op">]]</span> <span class="ot">-&gt;</span> #<span class="op">[</span><span class="st">"Market Cap"</span><span class="op">]</span> &amp;<span class="op">]]</span>; ResourceFunction<span class="op">[</span><span class="st">"ParetoPrinciplePlot"</span><span class="op">][</span>aMCaps<span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"Pareto principle for cryptocurrency market caps"</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0xgj73uot9hb1.png" alt="0xgj73uot9hb1" /><figcaption aria-hidden="true">0xgj73uot9hb1</figcaption></figure>
<p>Here is the Pareto statistic for the top 12 cryptocurrencies:</p>
<div id="cb6" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb6-1"><span class="fu">Take</span><span class="op">[</span>AssociationThread<span class="op">[</span>Keys@aMCaps<span class="op">,</span> <span class="fu">Accumulate</span><span class="op">[</span>Values@aMCaps<span class="op">]]</span><span class="sc">/</span><span class="fu">Total</span><span class="op">[</span>aMCaps<span class="op">],</span> <span class="dv">12</span><span class="op">]</span></span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co">(*&lt;|"BTC" -&gt; 0.521221, "ETH" -&gt; 0.71188, "USDT" -&gt; 0.765931, "BNB" -&gt; 0.800902, "ADA" -&gt; 0.833777, "XRP" -&gt; 0.856467, "USDC" -&gt; 0.878274, "DOGE" -&gt; 0.899587, "DOT1" -&gt; 0.9121, "HEX" -&gt; 0.924055, "UNI3" -&gt; 0.932218, "BCH" -&gt; 0.939346|&gt;*)</span></span></code></pre>
</div>
<h3 id="by-price">By price</h3>
<p>Get the mean daily closing prices data for the last two weeks and show the corresponding data summary:</p>
<div id="cb7" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb7-1">startDate <span class="ex">=</span> <span class="fu">DatePlus</span><span class="op">[</span>Now<span class="op">,</span> <span class="sc">-</span>Quantity<span class="op">[</span><span class="dv">2</span><span class="op">,</span> <span class="st">"Weeks"</span><span class="op">]]</span>; aMeans <span class="ex">=</span> ReverseSort<span class="op">[</span>Association<span class="op">[</span># <span class="ot">-&gt;</span> <span class="fu">Mean</span><span class="op">[</span>ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span>#<span class="op">,</span> <span class="st">"Close"</span><span class="op">,</span> startDate<span class="op">][</span><span class="st">"Values"</span><span class="op">]]</span> &amp; <span class="sc">/</span>@ ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span><span class="st">"Cryptocurrencies"</span><span class="op">]]]</span>;</span>
<span id="cb7-2">ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>aMeans<span class="op">,</span> <span class="fu">Thread</span> <span class="ot">-&gt;</span> <span class="cn">True</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1rpeb683tls42.png" alt="1rpeb683tls42" /><figcaption aria-hidden="true">1rpeb683tls42</figcaption></figure>
<p>Pareto principle adherence plot:</p>
<div id="cb8" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb8-1">ResourceFunction<span class="op">[</span><span class="st">"ParetoPrinciplePlot"</span><span class="op">][</span>aMeans<span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"Pareto principle for cryptocurrency closing prices"</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1a9fsea677xld.png" alt="1a9fsea677xld" /><figcaption aria-hidden="true">1a9fsea677xld</figcaption></figure>
<p>Here are the Pareto statistic values for the top 12 cryptocurrencies:</p>
<div id="cb9" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb9-1">aCCTop <span class="ex">=</span> <span class="fu">Take</span><span class="op">[</span>AssociationThread<span class="op">[</span>Keys@aMeans<span class="op">,</span> <span class="fu">Accumulate</span><span class="op">[</span>Values@aMeans<span class="op">]]</span><span class="sc">/</span><span class="fu">Total</span><span class="op">[</span>aMeans<span class="op">],</span> <span class="dv">12</span><span class="op">]</span></span>
<span id="cb9-2"></span>
<span id="cb9-3"><span class="co">(*&lt;|"BTC" -&gt; 0.902595, "ETH" -&gt; 0.959915, "BCH" -&gt; 0.974031, "BNB" -&gt; 0.982414, "XMR" -&gt; 0.988689, "LTC" -&gt; 0.992604, "FIL" -&gt; 0.99426, "ICP1" -&gt; 0.995683, "ETC" -&gt; 0.997004, "SOL1" -&gt; 0.997906, "LINK" -&gt; 0.998449, "UNI3" -&gt; 0.998987|&gt;*)</span></span></code></pre>
</div>
<p>Plot the daily closing prices of top cryptocurrencies since January 2018:</p>
<div id="cb10" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb10-1"><span class="fu">DateListPlot</span><span class="op">[</span><span class="fu">Log10</span> <span class="sc">/</span>@ Association<span class="op">[</span># <span class="ot">-&gt;</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span>#<span class="op">,</span> <span class="st">"Close"</span><span class="op">,</span> <span class="st">"Jan 1, 2018"</span><span class="op">]</span> &amp; <span class="sc">/</span>@ Keys<span class="op">[</span>aCCTop<span class="op">]],</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"lg of crytocurrencies daily closing prices, USD"</span><span class="op">,</span> PlotTheme <span class="ot">-&gt;</span> <span class="st">"Detailed"</span><span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/19tfy1oj2yrs7.png" alt="19tfy1oj2yrs7" /><figcaption aria-hidden="true">19tfy1oj2yrs7</figcaption></figure>
<h3 id="by-trading-volume">By trading volume</h3>
<p>Get the mean daily trading volumes data for the last two weeks and show the corresponding data summary:</p>
<div id="cb11" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb11-1">startDate <span class="ex">=</span> <span class="fu">DatePlus</span><span class="op">[</span>Now<span class="op">,</span> <span class="sc">-</span>Quantity<span class="op">[</span><span class="dv">2</span><span class="op">,</span> <span class="st">"Weeks"</span><span class="op">]]</span>; aMeans <span class="ex">=</span> ReverseSort<span class="op">[</span>Association<span class="op">[</span># <span class="ot">-&gt;</span> <span class="fu">Mean</span><span class="op">[</span>ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span>#<span class="op">,</span> <span class="st">"Volume"</span><span class="op">,</span> startDate<span class="op">][</span><span class="st">"Values"</span><span class="op">]]</span> &amp; <span class="sc">/</span>@ ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span><span class="st">"Cryptocurrencies"</span><span class="op">]]]</span>;</span>
<span id="cb11-2">ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>aMeans<span class="op">,</span> <span class="fu">Thread</span> <span class="ot">-&gt;</span> <span class="cn">True</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1lnrdt94mofry.png" alt="1lnrdt94mofry" /><figcaption aria-hidden="true">1lnrdt94mofry</figcaption></figure>
<p>Pareto principle adherence plot:</p>
<div id="cb12" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb12-1">ResourceFunction<span class="op">[</span><span class="st">"ParetoPrinciplePlot"</span><span class="op">][</span>aMeans<span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="fl">1.1</span><span class="op">},</span><span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"Pareto principle for cryptocurrency trading volumes"</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0nvcws0qh5hum.png" alt="0nvcws0qh5hum" /><figcaption aria-hidden="true">0nvcws0qh5hum</figcaption></figure>
<p>Here are the Pareto statistic values for the top 12 cryptocurrencies:</p>
<div id="cb13" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb13-1">aCCTop <span class="ex">=</span> N@Take<span class="op">[</span>AssociationThread<span class="op">[</span>Keys@aMeans<span class="op">,</span> <span class="fu">Accumulate</span><span class="op">[</span>Values@aMeans<span class="op">]]</span><span class="sc">/</span><span class="fu">Total</span><span class="op">[</span>aMeans<span class="op">],</span> <span class="dv">12</span><span class="op">]</span></span>
<span id="cb13-2"></span>
<span id="cb13-3"><span class="co">(*&lt;|"USDT" -&gt; 0.405697, "BTC" -&gt; 0.657918, "ETH" -&gt; 0.817959, "XRP" -&gt; 0.836729, "ADA" -&gt; 0.853317, "ETC" -&gt; 0.868084, "LTC" -&gt; 0.882358, "DOGE" -&gt; 0.896621, "BNB" -&gt; 0.910013, "USDC" -&gt; 0.923379, "BCH" -&gt; 0.933938, "DOT1" -&gt; 0.944249|&gt;*)</span></span></code></pre>
</div>
<p>Plot the daily closing prices of top cryptocurrencies since January 2018:</p>
<div id="cb14" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb14-1"><span class="fu">DateListPlot</span><span class="op">[</span><span class="fu">Log10</span> <span class="sc">/</span>@ Association<span class="op">[</span># <span class="ot">-&gt;</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span>#<span class="op">,</span> <span class="st">"Volume"</span><span class="op">,</span> <span class="st">"Jan 1, 2018"</span><span class="op">]</span> &amp; <span class="sc">/</span>@ Keys<span class="op">[</span>aCCTop<span class="op">]],</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"lg of cryptocurrencies trading volumes"</span><span class="op">,</span> PlotTheme <span class="ot">-&gt;</span> <span class="st">"Detailed"</span><span class="op">,</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="dv">5</span><span class="op">,</span> <span class="cn">Automatic</span><span class="op">}]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1tns5zrq560q7.png" alt="1tns5zrq560q7" /><figcaption aria-hidden="true">1tns5zrq560q7</figcaption></figure>
<h2 id="related-events">Related events</h2>
<p>In this section we make a dataset that has the dates of certain cryptocurrency related events and links to their news announcements.</p>
<p>The events were taken by observing cryptocurrency board stories in the news aggregation site <a href="https://slashdot.org/index2.pl?fhfilter=bitcoin">slashdot.org</a>.</p>
<div id="cb15" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb15-1">lsEventData <span class="ex">=</span> <span class="op">{</span></span>
<span id="cb15-2">    <span class="op">{</span><span class="st">"Jun 18, 2021"</span><span class="op">,</span> <span class="st">"China to shut down over 90% of its Bitcoin mining capacity after local bans"</span><span class="op">,</span> <span class="st">"https://www.globaltimes.cn/page/202106/1226598.shtml"</span><span class="op">},</span> </span>
<span id="cb15-3">    <span class="op">{</span><span class="st">"Jun 10, 2021"</span><span class="op">,</span> <span class="st">"Global banking regulators call for toughest rules for cryptocurrencies"</span><span class="op">,</span> <span class="st">"https://www.theguardian.com/technology/2021/jun/10/global-banking-regulators-cryptocurrencies-bitcoin"</span><span class="op">},</span> </span>
<span id="cb15-4">    <span class="op">{</span><span class="st">"June 10, 2021"</span><span class="op">,</span> <span class="st">"IMF sees legal, economic issues with El Salvador's bitcoin move"</span><span class="op">,</span><span class="st">"https://www.reuters.com/business/finance/imf-sees-legal-economic-issues-with-el-salvador-bitcoin-move-2021-06-10/"</span><span class="op">},</span> </span>
<span id="cb15-5">    <span class="op">{</span><span class="st">"June 8, 2021"</span><span class="op">,</span> <span class="st">"El Salvador Becomes First Country To Adopt Bitcoin as Legal Tender After Passing Law"</span><span class="op">,</span> <span class="st">"https://www.cnbc.com/2021/06/09/el-salvador-proposes-law-to-make-bitcoin-legal-tender.html"</span><span class="op">},</span> </span>
<span id="cb15-6">    <span class="op">{</span><span class="st">"June 8, 2021"</span><span class="op">,</span> <span class="st">"US recovers millions in cryptocurrency paid to Colonial Pipeline ransomware hackers"</span><span class="op">,</span> <span class="st">"https://edition.cnn.com/2021/06/07/politics/colonial-pipeline-ransomware-recovered/"</span><span class="op">},</span> </span>
<span id="cb15-7">    <span class="op">{</span><span class="st">"June 4, 2021"</span><span class="op">,</span> <span class="st">"Start of Bitcoin 2021: World</span><span class="sc">\[</span><span class="st">CloseCurlyQuote]s Largest Cryptocurrency Conference Coming To Wynwood"</span><span class="op">,</span> <span class="st">"https://miami.cbslocal.com/2021/06/04/bitcoin-2021-worlds-largest-cryptocurrency-conference-coming-to-wynwood/"</span><span class="op">},</span> </span>
<span id="cb15-8">    <span class="op">{</span><span class="st">"June 6, 2021"</span><span class="op">,</span> <span class="st">"End of Bitcoin 2021: World</span><span class="sc">\[</span><span class="st">CloseCurlyQuote]s Largest Cryptocurrency Conference Coming To Wynwood"</span><span class="op">,</span> <span class="st">"https://miami.cbslocal.com/2021/06/04/bitcoin-2021-worlds-largest-cryptocurrency-conference-coming-to-wynwood/"</span><span class="op">},</span> </span>
<span id="cb15-9">    <span class="op">{</span><span class="st">"May 28, 2021"</span><span class="op">,</span> <span class="st">"Iran Bans Crypto Mining After Months of Blackouts"</span><span class="op">,</span> <span class="st">"https://gizmodo.com/iran-bans-crypto-mining-after-months-of-blackouts-1846991039"</span><span class="op">},</span> </span>
<span id="cb15-10">    <span class="op">{</span><span class="st">"May 19, 2021"</span><span class="op">,</span> <span class="st">"Bitcoin, Ethereum prices in free fall as China plans crackdown on mining and trading"</span><span class="op">,</span> <span class="st">"https://www.cnet.com/news/bitcoin-ethereum-prices-in-freefall-as-china-plans-crackdown-on-mining-and-trading/#ftag=CAD590a51e"</span><span class="op">}</span> </span>
<span id="cb15-11">   <span class="op">}</span>;</span>
<span id="cb15-12">dsEventData <span class="ex">=</span> Dataset<span class="op">[</span>lsEventData<span class="op">][</span><span class="cn">All</span><span class="op">,</span> AssociationThread<span class="op">[{</span><span class="st">"Date"</span><span class="op">,</span> <span class="st">"Event"</span><span class="op">,</span> <span class="st">"URL"</span><span class="op">},</span> #<span class="op">]</span> &amp;<span class="op">]</span>;</span>
<span id="cb15-13">dsEventData <span class="ex">=</span> dsEventData<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="fu">Join</span><span class="op">[</span><span class="fu">Prepend</span><span class="op">[</span>#<span class="op">,</span> <span class="st">"DateObject"</span> <span class="ot">-&gt;</span> DateObject<span class="op">[</span>#Date<span class="op">]],</span> &lt;<span class="sc">|</span><span class="st">"URL"</span> <span class="ot">-&gt;</span> URL<span class="op">[</span>#URL<span class="op">]</span><span class="sc">|</span>&gt;<span class="op">]</span> &amp;<span class="op">]</span>;</span>
<span id="cb15-14">dsEventData <span class="ex">=</span> dsEventData<span class="op">[</span><span class="fu">SortBy</span><span class="op">[</span>#DateObject &amp;<span class="op">]]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1qjdxqriy9jbj.png" alt="1qjdxqriy9jbj" /><figcaption aria-hidden="true">1qjdxqriy9jbj</figcaption></figure>
<h2 id="cryptocurrency-time-series-with-events">Cryptocurrency time series with events</h2>
<p>In this section we discuss possible correlation and causation effects of reported cryptocurrency events.</p>
<p><strong>Remark:</strong> The discussion is based on time series and events only, without considering other operational properties of the cryptocurrencies.</p>
<p>Here is a date range:</p>
<div id="cb16" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb16-1">dateRange <span class="ex">=</span> <span class="op">{</span><span class="st">"May 15 2021"</span><span class="op">,</span> <span class="st">"Jun 21 2021"</span><span class="op">}</span>;</span></code></pre>
</div>
<p>Here get time series for the daily opening and closing prices for the selected date range:</p>
<div id="cb17" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb17-1">aBTCPrices <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span><span class="st">"BTC"</span><span class="op">,</span> <span class="op">{</span><span class="st">"Open"</span><span class="op">,</span> <span class="st">"Close"</span><span class="op">},</span> dateRange<span class="op">]</span>;</span>
<span id="cb17-2">aETHPrices <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span><span class="st">"ETH"</span><span class="op">,</span> <span class="op">{</span><span class="st">"Open"</span><span class="op">,</span> <span class="st">"Close"</span><span class="op">},</span> dateRange<span class="op">]</span>;</span>
<span id="cb17-3">aCCVolume <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][{</span><span class="st">"BTC"</span><span class="op">,</span> <span class="st">"ETH"</span><span class="op">},</span> <span class="st">"Volume"</span><span class="op">,</span> dateRange<span class="op">]</span>;</span></code></pre>
</div>
<p>Here are the summaries for prices:</p>
<div id="cb18" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb18-1">ResourceFunction<span class="op">[</span><span class="st">"GridTableForm"</span><span class="op">][</span><span class="fu">Map</span><span class="op">[</span>ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>#<span class="op">[</span><span class="st">"Values"</span><span class="op">],</span> <span class="st">"USD"</span><span class="op">]</span> &amp;<span class="op">,</span> #<span class="op">]</span> &amp; <span class="sc">/</span>@ &lt;<span class="sc">|</span><span class="st">"BTC"</span> <span class="ot">-&gt;</span> aBTCPrices<span class="op">,</span> <span class="st">"ETH"</span> <span class="ot">-&gt;</span> aETHPrices<span class="sc">|</span>&gt;<span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0klkuvia1jexo.png" alt="0klkuvia1jexo" /><figcaption aria-hidden="true">0klkuvia1jexo</figcaption></figure>
<p>Here are the summaries for trading volumes:</p>
<div id="cb19" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb19-1">ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>#<span class="op">[</span><span class="st">"Values"</span><span class="op">],</span> <span class="st">"USD"</span><span class="op">]</span> &amp; <span class="sc">/</span>@ aCCVolume</span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/10xmepjcwrxdn.png" alt="10xmepjcwrxdn" /><figcaption aria-hidden="true">10xmepjcwrxdn</figcaption></figure>
<p>Here we plot the cryptocurrency events with together with the Bitcoin (BTC) price time series:</p>
<div id="cb20" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb20-1">CryptocurrencyPlot<span class="op">[{</span>aBTCPrices<span class="op">,</span> dsEventData<span class="op">},</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"BTC daily prices"</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">1200</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0gnba7mxklpo0.png" alt="0gnba7mxklpo0" /><figcaption aria-hidden="true">0gnba7mxklpo0</figcaption></figure>
<p>Here we plot the cryptocurrency events with together with the Ether (ETH) price time series:</p>
<div id="cb21" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb21-1">CryptocurrencyPlot<span class="op">[{</span>aETHPrices<span class="op">,</span> dsEventData<span class="op">},</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fl">0.95</span><span class="op">,</span> <span class="fl">1.05</span><span class="op">}</span> MinMax<span class="op">[</span>aETHPrices<span class="op">[[</span><span class="dv">1</span><span class="op">]][</span><span class="st">"Values"</span><span class="op">]],</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"BTC daily prices"</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">1200</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0dfaqwvvggjcf.png" alt="0dfaqwvvggjcf" /><figcaption aria-hidden="true">0dfaqwvvggjcf</figcaption></figure>
<p>Here we plot the cryptocurrency events with together with the BTC trading volume time series:</p>
<div id="cb22" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb22-1">CryptocurrencyPlot<span class="op">[{</span>aCCVolume<span class="op">,</span> dsEventData<span class="op">},</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"BTC and ETH trading volumes"</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">1200</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1ltpksb32ajim.png" alt="1ltpksb32ajim" /><figcaption aria-hidden="true">1ltpksb32ajim</figcaption></figure>
<h3 id="observations">Observations</h3>
<h4 id="going-down">Going down</h4>
<p>We can see that opening prices and volume going down correlate with:</p>
<ol type="1">
<li>The news announcement that China plans to crackdown on mining and trading</li>
<li>The news announcement Iran bans crypto mining</li>
<li>The Sichuan Provincial Development and Reform Commission and the Sichuan Energy Bureau issue of a joint notice, ordering local electricity companies to “screen, clean up and terminate” mining operations</li>
<li>The start of the “Bitcoin 2021” conference</li>
</ol>
<p>Related conjectures:</p>
<ul>
<li>We can easily conjecture that 1 and 2 made cryptocurrencies (Bitcoin) less attractive to miners or traders in China and Iran, hence the price and the volume went down.</li>
<li>The most active Bitcoin traders were attending the “Bitcoin 2021” conference, hence the price and volume went down.</li>
</ul>
<h4 id="going-up">Going up</h4>
<p>We can see the prices and volume going up correlate with:</p>
<ol type="1">
<li>The news announcement of El Salvador adopting BTC as legal tender currency</li>
<li>The news announcement that US Justice Department recovered most of the ransom paid to the Colonial Pipeline hackers</li>
<li>The end of the “Bitcoin 2021” conference</li>
</ol>
<p>Related conjectures:</p>
<ul>
<li>Of course, a country deciding to use BTC as legal tender would make (some) traders willing to invest in BTC.</li>
<li>The announcement that USA Justice Department, have made (some) traders to more confidently invest in BTC.
<ul>
<li>Although, the opposite could also happen – for some people if BTC can be recovered by law enforcement, then BTC is less attractive for financial transactions.</li>
</ul>
</li>
<li>After the end of “Bitcoin 2021” conference the attending traders resumed their usual activity.
<ul>
<li>That conjecture and the “start of Bitcoin 2021” conjecture above support each other.</li>
<li>The same pattern is observed for both BTC and ETH trading volumes.</li>
</ul>
</li>
</ul>
<h2 id="time-series-correlations">Time series correlations</h2>
<p>In this section we compute and visualize correlations between the time series of a set of cryptocurrencies.</p>
<h3 id="getting-time-series-data">Getting time series data</h3>
<p>Here are the cryptocurrencies we consider:</p>
<div id="cb23" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb23-1">lsCCFocus <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span><span class="st">"Cryptocurrencies"</span><span class="op">]</span></span>
<span id="cb23-2"></span>
<span id="cb23-3"><span class="co">(*{"ADA", "BCH", "BNB", "BTC", "DOGE", "DOT1", "EOS", "ETC", "ETH", "FIL", "HEX", "ICP1", "LINK", "LTC", "MATIC", "SOL1", "THETA", "TRX", "UNI3", "USDC", "USDT", "VET", "XLM", "XMR", "XRP"}*)</span></span></code></pre>
</div>
<p>The start date we use is the one that was <span class="math inline">90</span> days ago:</p>
<div id="cb24" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb24-1">startDate <span class="ex">=</span> <span class="fu">DatePlus</span><span class="op">[</span>Date<span class="op">[],</span> <span class="sc">-</span>Quantity<span class="op">[</span><span class="dv">90</span><span class="op">,</span> <span class="st">"Days"</span><span class="op">]]</span></span>
<span id="cb24-2"></span>
<span id="cb24-3"><span class="co">(*{2021, 3, 24, 13, 24, 42.303}*)</span></span></code></pre>
</div>
<div id="cb25" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb25-1">aTSOpen <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span>lsCCFocus<span class="op">,</span> <span class="st">"Open"</span><span class="op">,</span> startDate<span class="op">]</span>;</span>
<span id="cb25-2">aTSVolume <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span>lsCCFocus<span class="op">,</span> <span class="st">"Volume"</span><span class="op">,</span> startDate<span class="op">]</span>;</span></code></pre>
</div>
<div id="cb26" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb26-1">dateRange <span class="ex">=</span> <span class="op">{</span>startDate<span class="op">,</span> Date<span class="op">[]}</span>;</span>
<span id="cb26-2">aTSOpen2 <span class="ex">=</span> Quiet@TimeSeriesResample<span class="op">[</span>#<span class="op">,</span> <span class="fu">Append</span><span class="op">[</span>dateRange<span class="op">,</span> <span class="st">"Day"</span><span class="op">]]</span> &amp; <span class="sc">/</span>@ aTSOpen;</span>
<span id="cb26-3">aTSVolume2 <span class="ex">=</span> Quiet@TimeSeriesResample<span class="op">[</span>#<span class="op">,</span> <span class="fu">Append</span><span class="op">[</span>dateRange<span class="op">,</span> <span class="st">"Day"</span><span class="op">]]</span> &amp; <span class="sc">/</span>@ aTSVolume;</span></code></pre>
</div>
<h3 id="opening-price-time-series">Opening price time series</h3>
<p>Show heat-map plot corresponding to the max-normalized time series with clustering:</p>
<div id="cb27" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb27-1">matVals <span class="ex">=</span> Association<span class="op">[</span><span class="st">"SparseMatrix"</span> <span class="ot">-&gt;</span> <span class="fu">SparseArray</span><span class="op">[</span>Values@Map<span class="op">[</span>#<span class="op">[</span><span class="st">"Values"</span><span class="op">]</span><span class="sc">/</span><span class="fu">Max</span><span class="op">[</span>#<span class="op">[</span><span class="st">"Values"</span><span class="op">]]</span> &amp;<span class="op">,</span> aTSOpen2<span class="op">]],</span><span class="st">"RowNames"</span> <span class="ot">-&gt;</span> Keys<span class="op">[</span>aTSOpen2<span class="op">],</span> <span class="st">"ColumnNames"</span> <span class="ot">-&gt;</span> <span class="fu">Range</span><span class="op">[</span><span class="fu">Length</span><span class="op">[</span>aTSOpen2<span class="op">[[</span><span class="dv">1</span><span class="op">]][</span><span class="st">"Times"</span><span class="op">]]]]</span>;</span>
<span id="cb27-2">HeatmapPlot<span class="op">[</span><span class="fu">Map</span><span class="op">[</span># <span class="ot">/.</span> <span class="at">x_</span>Association :&gt; Keys<span class="op">[</span><span class="fu">x</span><span class="op">]</span> &amp;<span class="op">,</span> matVals<span class="op">],</span> Dendrogram <span class="ot">-&gt;</span> <span class="op">{</span><span class="cn">True</span><span class="op">,</span> <span class="cn">False</span><span class="op">},</span> <span class="fu">DistanceFunction</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fu">CosineDistance</span><span class="op">,</span> <span class="cn">None</span><span class="op">},</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">1200</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1uktoasdy8urt.png" alt="1uktoasdy8urt" /><figcaption aria-hidden="true">1uktoasdy8urt</figcaption></figure>
<p>Derive correlation triplets using SpearmanRho :</p>
<div id="cb28" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb28-1">lsCorTriplets <span class="ex">=</span> <span class="fu">Flatten</span><span class="op">[</span><span class="fu">Outer</span><span class="op">[{</span>#<span class="dv">1</span><span class="op">,</span> #<span class="dv">2</span><span class="op">,</span> SpearmanRho<span class="op">[</span>aTSOpen2<span class="op">[</span>#<span class="dv">1</span><span class="op">][</span><span class="st">"Values"</span><span class="op">],</span> aTSOpen2<span class="op">[</span>#<span class="dv">2</span><span class="op">][</span><span class="st">"Values"</span><span class="op">]]}</span> &amp;<span class="op">,</span> Keys@aTSOpen2<span class="op">,</span> Keys@aTSOpen2<span class="op">],</span> <span class="dv">1</span><span class="op">]</span>;</span>
<span id="cb28-2">dsCorTriplets <span class="ex">=</span> Dataset<span class="op">[</span>lsCorTriplets<span class="op">][</span><span class="cn">All</span><span class="op">,</span> AssociationThread<span class="op">[{</span><span class="st">"TS1"</span><span class="op">,</span> <span class="st">"TS2"</span><span class="op">,</span> <span class="st">"Correlation"</span><span class="op">},</span> #<span class="op">]</span> &amp;<span class="op">]</span>;</span>
<span id="cb28-3">dsCorTriplets <span class="ex">=</span> dsCorTriplets<span class="op">[</span><span class="fu">Select</span><span class="op">[</span>#TS1 !<span class="ex">=</span> #TS2 &amp;<span class="op">]]</span>;</span></code></pre>
</div>
<p>Show summary of the correlation triplets:</p>
<div id="cb29" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb29-1">ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>dsCorTriplets<span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0zhrnqlozgni6.png" alt="0zhrnqlozgni6" /><figcaption aria-hidden="true">0zhrnqlozgni6</figcaption></figure>
<p>Show correlations that too high or too low:</p>
<div id="cb30" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb30-1">Dataset<span class="op">[</span><span class="fu">Union</span><span class="op">[</span>Normal@dsCorTriplets<span class="op">[</span><span class="fu">Select</span><span class="op">[</span><span class="fu">Abs</span><span class="op">[</span>#Correlation<span class="op">]</span> &gt; <span class="fl">0.85</span> &amp;<span class="op">]],</span> <span class="st">"SameTest"</span> <span class="ot">-&gt;</span> (<span class="fu">Sort</span><span class="op">[</span>Values@#<span class="dv">1</span><span class="op">]</span> <span class="ex">==</span> <span class="fu">Sort</span><span class="op">[</span>Values@#<span class="dv">2</span><span class="op">]</span> &amp;)<span class="op">]][</span>ReverseSortBy<span class="op">[</span>#Correlation &amp;<span class="op">]]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1g8hz1lewgpx7.png" alt="1g8hz1lewgpx7" /><figcaption aria-hidden="true">1g8hz1lewgpx7</figcaption></figure>
<p>Cross tabulate the correlation triplets and show the corresponding dataset:</p>
<div id="cb31" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb31-1">dsMatCor <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CrossTabulate"</span><span class="op">][</span>dsCorTriplets<span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/12idrdt53tzmc.png" alt="12idrdt53tzmc" /><figcaption aria-hidden="true">12idrdt53tzmc</figcaption></figure>
<p>Cross tabulate the correlation triplets and plot the corresponding matrix with heat-map plot:</p>
<div id="cb32" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb32-1">matCor1 <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CrossTabulate"</span><span class="op">][</span>dsCorTriplets<span class="op">,</span> <span class="st">"Sparse"</span> <span class="ot">-&gt;</span> <span class="cn">True</span><span class="op">]</span>;</span>
<span id="cb32-2">gr1 <span class="ex">=</span> HeatmapPlot<span class="op">[</span>matCor1<span class="op">,</span> Dendrogram <span class="ot">-&gt;</span> <span class="op">{</span><span class="cn">True</span><span class="op">,</span> <span class="cn">True</span><span class="op">},</span> <span class="fu">DistanceFunction</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fu">CosineDistance</span><span class="op">,</span> <span class="fu">CosineDistance</span><span class="op">},</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Medium</span><span class="op">,</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"Opening price"</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0ufk6pcr1j3da.png" alt="0ufk6pcr1j3da" /><figcaption aria-hidden="true">0ufk6pcr1j3da</figcaption></figure>
<h3 id="trading-volume-time-series">Trading volume time series</h3>
<p>Show heat-map plot corresponding to the max-normalized time series with clustering:</p>
<div id="cb33" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb33-1">matVals <span class="ex">=</span> Association<span class="op">[</span><span class="st">"SparseMatrix"</span> <span class="ot">-&gt;</span> <span class="fu">SparseArray</span><span class="op">[</span>Values@Map<span class="op">[</span>#<span class="op">[</span><span class="st">"Values"</span><span class="op">]</span><span class="sc">/</span><span class="fu">Max</span><span class="op">[</span>#<span class="op">[</span><span class="st">"Values"</span><span class="op">]]</span> &amp;<span class="op">,</span> aTSVolume2<span class="op">]],</span> <span class="st">"RowNames"</span> <span class="ot">-&gt;</span> Keys<span class="op">[</span>aTSOpen2<span class="op">],</span> <span class="st">"ColumnNames"</span> <span class="ot">-&gt;</span> <span class="fu">Range</span><span class="op">[</span><span class="fu">Length</span><span class="op">[</span>aTSVolume2<span class="op">[[</span><span class="dv">1</span><span class="op">]][</span><span class="st">"Times"</span><span class="op">]]]]</span>;</span>
<span id="cb33-2">HeatmapPlot<span class="op">[</span><span class="fu">Map</span><span class="op">[</span># <span class="ot">/.</span> <span class="at">x_</span>Association :&gt; Keys<span class="op">[</span><span class="fu">x</span><span class="op">]</span> &amp;<span class="op">,</span> matVals<span class="op">],</span> Dendrogram <span class="ot">-&gt;</span> <span class="op">{</span><span class="cn">True</span><span class="op">,</span> <span class="cn">False</span><span class="op">},</span> <span class="fu">DistanceFunction</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fu">CosineDistance</span><span class="op">,</span> <span class="cn">None</span><span class="op">},</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">1200</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1ktjec1jdlsrg.png" alt="1ktjec1jdlsrg" /><figcaption aria-hidden="true">1ktjec1jdlsrg</figcaption></figure>
<p>Derive correlation triplets using SpearmanRho :</p>
<div id="cb34" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb34-1">lsCorTriplets <span class="ex">=</span> <span class="fu">Flatten</span><span class="op">[</span><span class="fu">Outer</span><span class="op">[{</span>#<span class="dv">1</span><span class="op">,</span> #<span class="dv">2</span><span class="op">,</span> SpearmanRho<span class="op">[</span>aTSVolume2<span class="op">[</span>#<span class="dv">1</span><span class="op">][</span><span class="st">"Values"</span><span class="op">],</span> aTSVolume2<span class="op">[</span>#<span class="dv">2</span><span class="op">][</span><span class="st">"Values"</span><span class="op">]]}</span> &amp;<span class="op">,</span> Keys@aTSVolume2<span class="op">,</span> Keys@aTSVolume2<span class="op">],</span> <span class="dv">1</span><span class="op">]</span>;</span>
<span id="cb34-2">dsCorTriplets <span class="ex">=</span> Dataset<span class="op">[</span>lsCorTriplets<span class="op">][</span><span class="cn">All</span><span class="op">,</span> AssociationThread<span class="op">[{</span><span class="st">"TS1"</span><span class="op">,</span> <span class="st">"TS2"</span><span class="op">,</span> <span class="st">"Correlation"</span><span class="op">},</span> #<span class="op">]</span> &amp;<span class="op">]</span>;</span>
<span id="cb34-3">dsCorTriplets <span class="ex">=</span> dsCorTriplets<span class="op">[</span><span class="fu">Select</span><span class="op">[</span>#TS1 !<span class="ex">=</span> #TS2 &amp;<span class="op">]]</span>;</span></code></pre>
</div>
<p>Show summary of the correlation triplets:</p>
<div id="cb35" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb35-1">ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>dsCorTriplets<span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0un433xvnvbm4.png" alt="0un433xvnvbm4" /><figcaption aria-hidden="true">0un433xvnvbm4</figcaption></figure>
<p>Show correlations that too high or too low:</p>
<div id="cb36" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb36-1">Dataset<span class="op">[</span><span class="fu">Union</span><span class="op">[</span>Normal@dsCorTriplets<span class="op">[</span><span class="fu">Select</span><span class="op">[</span><span class="fu">Abs</span><span class="op">[</span>#Correlation<span class="op">]</span> &gt; <span class="fl">0.85</span> &amp;<span class="op">]],</span> <span class="st">"SameTest"</span> <span class="ot">-&gt;</span> (<span class="fu">Sort</span><span class="op">[</span>Values@#<span class="dv">1</span><span class="op">]</span> <span class="ex">==</span> <span class="fu">Sort</span><span class="op">[</span>Values@#<span class="dv">2</span><span class="op">]</span> &amp;)<span class="op">]][</span>ReverseSortBy<span class="op">[</span>#Correlation &amp;<span class="op">]]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/191tqczjvp1gp.png" alt="191tqczjvp1gp" /><figcaption aria-hidden="true">191tqczjvp1gp</figcaption></figure>
<p>Cross tabulate the correlation triplets and show the corresponding dataset:</p>
<div id="cb37" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb37-1">dsMatCor <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CrossTabulate"</span><span class="op">][</span>dsCorTriplets<span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1wmxdysnjdvj1.png" alt="1wmxdysnjdvj1" /><figcaption aria-hidden="true">1wmxdysnjdvj1</figcaption></figure>
<p>Cross tabulate the correlation triplets and plot the corresponding matrix with heat-map plot:</p>
<div id="cb38" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb38-1">matCor2 <span class="ex">=</span> ResourceFunction<span class="op">[</span><span class="st">"CrossTabulate"</span><span class="op">][</span>dsCorTriplets<span class="op">,</span> <span class="st">"Sparse"</span> <span class="ot">-&gt;</span> <span class="cn">True</span><span class="op">]</span>;</span>
<span id="cb38-2">gr2 <span class="ex">=</span> HeatmapPlot<span class="op">[</span>matCor2<span class="op">,</span> Dendrogram <span class="ot">-&gt;</span> <span class="op">{</span><span class="cn">True</span><span class="op">,</span> <span class="cn">True</span><span class="op">},</span> <span class="fu">DistanceFunction</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fu">CosineDistance</span><span class="op">,</span> <span class="fu">CosineDistance</span><span class="op">},</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Medium</span><span class="op">,</span> <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"Trading volume"</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1nywjggle91rq.png" alt="1nywjggle91rq" /><figcaption aria-hidden="true">1nywjggle91rq</figcaption></figure>
<h3 id="observations-1">Observations</h3>
<p>Here are the correlation matrix plots above placed next to each other:</p>
<div id="cb39" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb39-1"><span class="fu">Row</span><span class="op">[{</span>gr1<span class="op">,</span> gr2<span class="op">}]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1q472yp7r4c04.png" alt="1q472yp7r4c04" /><figcaption aria-hidden="true">1q472yp7r4c04</figcaption></figure>
<p>Generally speaking, the two clustering patterns are different. This is one of the reasons to do the nearest neighbor graph clusterings below.</p>
<h2 id="nearest-neighbors-graphs">Nearest neighbors graphs</h2>
<p>In this section we create nearest neighbor graphs of the correlation matrices computed above and plot clusterings of the nodes.</p>
<h3 id="graphs-overview">Graphs overview</h3>
<p>Here we create the nearest neighbor graphs:</p>
<div id="cb40" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb40-1">aNNGraphsVertexRules <span class="ex">=</span> Association@MapThread<span class="op">[</span>#<span class="dv">2</span> <span class="ot">-&gt;</span> Association<span class="op">[</span><span class="fu">Thread</span><span class="op">[</span><span class="fu">Rule</span><span class="op">[</span><span class="fu">Normal</span><span class="op">[</span><span class="fu">Transpose</span><span class="op">[</span>#SparseMatrix<span class="op">]],</span> #ColumnNames<span class="op">]]]</span> &amp;<span class="op">,</span> <span class="op">{{</span>matCor1<span class="op">,</span> matCor2<span class="op">},</span> <span class="op">{</span><span class="st">"Open"</span><span class="op">,</span> <span class="st">"Volume"</span><span class="op">}}]</span>;</span></code></pre>
</div>
<div id="cb41" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb41-1">aNNGraphs <span class="ex">=</span> Association@MapThread<span class="op">[</span>(gr <span class="ex">=</span> NearestNeighborGraph<span class="op">[</span><span class="fu">Normal</span><span class="op">[</span><span class="fu">Transpose</span><span class="op">[</span>#SparseMatrix<span class="op">]],</span> <span class="dv">4</span><span class="op">,</span> <span class="fu">GraphLayout</span> <span class="ot">-&gt;</span> <span class="st">"SpringEmbedding"</span><span class="op">,</span> <span class="fu">VertexLabels</span> <span class="ot">-&gt;</span> <span class="fu">Normal</span><span class="op">[</span>aNNGraphsVertexRules<span class="op">[</span>#<span class="dv">2</span><span class="op">]]]</span>; #<span class="dv">2</span> <span class="ot">-&gt;</span> <span class="fu">Graph</span><span class="op">[</span><span class="fu">EdgeList</span><span class="op">[</span>gr<span class="op">],</span> <span class="fu">VertexLabels</span> <span class="ot">-&gt;</span> <span class="fu">Normal</span><span class="op">[</span>aNNGraphsVertexRules<span class="op">[</span>#<span class="dv">2</span><span class="op">]],</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Large</span><span class="op">]</span>) &amp;<span class="op">,</span> <span class="op">{{</span>matCor1<span class="op">,</span> matCor2<span class="op">},</span> <span class="op">{</span><span class="st">"Open"</span><span class="op">,</span> <span class="st">"Volume"</span><span class="op">}}]</span>;</span></code></pre>
</div>
<p>Here we plot the graphs with clusters:</p>
<div id="cb42" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb42-1">ResourceFunction<span class="op">[</span><span class="st">"GridTableForm"</span><span class="op">][</span><span class="fu">List</span> @@@ <span class="fu">Normal</span><span class="op">[</span>CommunityGraphPlot<span class="op">[</span>#<span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="dv">800</span><span class="op">]</span> &amp; <span class="sc">/</span>@ aNNGraphs<span class="op">],</span> <span class="fu">TableHeadings</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="st">"Property"</span><span class="op">,</span> <span class="st">"Communities of nearest neighbors graph"</span><span class="op">},</span> <span class="fu">Background</span> <span class="ot">-&gt;</span> <span class="fu">White</span><span class="op">,</span> <span class="fu">Dividers</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1fl5f7a50gkvu.png" alt="1fl5f7a50gkvu" /><figcaption aria-hidden="true">1fl5f7a50gkvu</figcaption></figure>
<p>Here are the corresponding time series plots for each cluster:</p>
<div id="cb43" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb43-1">aClusterPlots <span class="ex">=</span> </span>
<span id="cb43-2">   Association@Map<span class="op">[</span></span>
<span id="cb43-3">     <span class="fu">Function</span><span class="op">[{</span>prop<span class="op">},</span> </span>
<span id="cb43-4">      prop <span class="ot">-&gt;</span> <span class="fu">Map</span><span class="op">[</span></span>
<span id="cb43-5">        <span class="fu">DateListPlot</span><span class="op">[</span><span class="fu">Log10</span> <span class="sc">/</span>@ ResourceFunction<span class="op">[</span><span class="st">"CryptocurrencyData"</span><span class="op">][</span>#<span class="op">,</span> prop<span class="op">,</span> dateRange<span class="op">]]</span> &amp;<span class="op">,</span> </span>
<span id="cb43-6">        FindGraphCommunities<span class="op">[</span>aNNGraphs<span class="op">[</span>prop<span class="op">]]</span> <span class="ot">/.</span> aNNGraphsVertexRules<span class="op">[</span>prop<span class="op">]]</span> </span>
<span id="cb43-7">     <span class="op">],</span> </span>
<span id="cb43-8">     Keys<span class="op">[</span>aNNGraphs<span class="op">]</span> </span>
<span id="cb43-9">    <span class="op">]</span>;</span></code></pre>
</div>
<div id="cb44" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb44-1">ResourceFunction<span class="op">[</span><span class="st">"GridTableForm"</span><span class="op">][</span><span class="fu">List</span> @@@ <span class="fu">Normal</span><span class="op">[</span>aClusterPlots<span class="op">],</span> <span class="fu">TableHeadings</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="st">"Property"</span><span class="op">,</span> <span class="st">"Cluster plots"</span><span class="op">},</span> <span class="fu">Background</span> <span class="ot">-&gt;</span> <span class="fu">White</span><span class="op">,</span> <span class="fu">Dividers</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span></span></code></pre>
</div>
<figure><img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0j8tmvwyygijv.png" alt="0j8tmvwyygijv" /><figcaption aria-hidden="true">0j8tmvwyygijv</figcaption></figure>
<h2 id="other-types-of-analysis">Other types of analysis</h2>
<p>I investigated the data with several other methods:</p>
<ul>
<li>Clustering with different methods and distance functions</li>
<li>Clustering after the application of Independent Component Analysis (ICA), [AAw5]</li>
<li>Time series analysis with Quantile Regression (QR), [AAw6]</li>
</ul>
<p>None of the outcomes provided some “immediate”, notable insight. The analyses with ICA and QR, though, seem to provide some interesting and fruitful future explorations.</p>
<h2 id="load-packages">Load packages</h2>
<div id="cb45" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb45-1"><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/SSparseMatrix.m"</span><span class="op">]</span></span>
<span id="cb45-2"><span class="fu">Import</span><span class="op">[</span><span class="st">"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/Misc/HeatmapPlot.m"</span><span class="op">]</span></span></code></pre>
</div>
<h2 id="definitions">Definitions</h2>
<div id="cb46" class="sourceCode">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb46-1"><span class="fu">Clear</span><span class="op">[</span>CryptocurrencyPlot<span class="op">]</span>;</span>
<span id="cb46-2">CryptocurrencyPlot<span class="op">[{</span><span class="at">aCryptoCurrenciesData_</span>Association<span class="op">,</span> <span class="at">dsEventData_</span>Dataset<span class="op">},</span> opts : <span class="fu">OptionsPattern</span><span class="op">[]]</span> <span class="ex">:=</span> </span>
<span id="cb46-3">   <span class="fu">Block</span><span class="op">[{</span>aEventDateObject<span class="op">,</span> aEventURL<span class="op">,</span> aEventRank<span class="op">,</span> grGrid<span class="op">,</span> lsVals<span class="op">},</span> </span>
<span id="cb46-4">    </span>
<span id="cb46-5">    aEventDateObject <span class="ex">=</span> Normal@dsEventData<span class="op">[</span>Association<span class="op">,</span> <span class="op">{</span>#Event <span class="ot">-&gt;</span> <span class="fu">AbsoluteTime</span><span class="op">[</span>#DateObject<span class="op">]}</span> &amp;<span class="op">]</span>; </span>
<span id="cb46-6">    aEventURL <span class="ex">=</span> Normal@dsEventData<span class="op">[</span>Association<span class="op">,</span> <span class="op">{</span>#Event <span class="ot">-&gt;</span> <span class="fu">Button</span><span class="op">[</span><span class="fu">Mouseover</span><span class="op">[</span><span class="fu">Style</span><span class="op">[</span>#Event<span class="op">,</span> <span class="fu">Gray</span><span class="op">,</span> <span class="fu">FontSize</span> <span class="ot">-&gt;</span> <span class="dv">10</span><span class="op">],</span> <span class="fu">Style</span><span class="op">[</span>#Event<span class="op">,</span> <span class="fu">Pink</span><span class="op">,</span> <span class="fu">FontSize</span> <span class="ot">-&gt;</span> <span class="dv">10</span><span class="op">]],</span> <span class="fu">NotebookLocate</span><span class="op">[{</span>#URL<span class="op">,</span> <span class="cn">None</span><span class="op">}],</span> <span class="fu">Appearance</span> <span class="ot">-&gt;</span> <span class="cn">None</span><span class="op">]}</span> &amp;<span class="op">]</span>; aEventRank <span class="ex">=</span> <span class="fu">Block</span><span class="op">[{</span><span class="fu">k</span> <span class="ex">=</span> <span class="dv">1</span><span class="op">},</span> Normal@dsEventData<span class="op">[</span>Association<span class="op">,</span> <span class="op">{</span>#Event <span class="ot">-&gt;</span> (<span class="fu">k</span><span class="sc">++</span>)<span class="sc">/</span><span class="fu">Length</span><span class="op">[</span>dsEventData<span class="op">]}</span> &amp;<span class="op">]]</span>; </span>
<span id="cb46-7">    </span>
<span id="cb46-8">    lsVals <span class="ex">=</span> Flatten@Map<span class="op">[</span>#<span class="op">[</span><span class="st">"Values"</span><span class="op">]</span> &amp;<span class="op">,</span> Values@aCryptoCurrenciesData<span class="op">]</span>;</span>
<span id="cb46-9">    grGrid <span class="ex">=</span> </span>
<span id="cb46-10">     <span class="fu">DateListPlot</span><span class="op">[</span></span>
<span id="cb46-11">      KeyValueMap<span class="op">[</span>Callout<span class="op">[{</span>#<span class="dv">2</span><span class="op">,</span> <span class="fu">Rescale</span><span class="op">[</span>aEventRank<span class="op">[</span>#<span class="dv">1</span><span class="op">],</span> <span class="op">{</span><span class="dv">0</span><span class="op">,</span> <span class="dv">1</span><span class="op">},</span> MinMax<span class="op">[</span>lsVals<span class="op">]]},</span> aEventURL<span class="op">[</span>#<span class="dv">1</span><span class="op">],</span> <span class="fu">Right</span><span class="op">]</span> &amp;<span class="op">,</span> Sort@aEventDateObject<span class="op">],</span> </span>
<span id="cb46-12">      <span class="fu">PlotStyle</span> <span class="ot">-&gt;</span> <span class="op">{</span><span class="fu">Gray</span><span class="op">,</span> <span class="fu">Opacity</span><span class="op">[</span><span class="fl">0.3</span><span class="op">],</span> <span class="fu">PointSize</span><span class="op">[</span><span class="fl">0.0035</span><span class="op">]},</span> </span>
<span id="cb46-13">      <span class="fu">Joined</span> <span class="ot">-&gt;</span> <span class="cn">False</span><span class="op">,</span> </span>
<span id="cb46-14">      <span class="fu">GridLines</span> <span class="ot">-&gt;</span> <span class="op">{</span>Sort@Values<span class="op">[</span>aEventDateObject<span class="op">],</span> <span class="cn">None</span><span class="op">}</span> </span>
<span id="cb46-15">     <span class="op">]</span>; </span>
<span id="cb46-16">    <span class="fu">Show</span><span class="op">[</span></span>
<span id="cb46-17">     <span class="fu">DateListPlot</span><span class="op">[</span></span>
<span id="cb46-18">      aCryptoCurrenciesData<span class="op">,</span> </span>
<span id="cb46-19">      opts<span class="op">,</span> </span>
<span id="cb46-20">      <span class="fu">GridLines</span> <span class="ot">-&gt;</span> <span class="op">{</span>Sort@Values<span class="op">[</span>aEventDateObject<span class="op">],</span> <span class="cn">None</span><span class="op">},</span> </span>
<span id="cb46-21">      <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> </span>
<span id="cb46-22">      <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span><span class="op">,</span> </span>
<span id="cb46-23">      <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Large</span> </span>
<span id="cb46-24">     <span class="op">],</span> </span>
<span id="cb46-25">     grGrid </span>
<span id="cb46-26">    <span class="op">]</span> </span>
<span id="cb46-27">   <span class="op">]</span>;</span>
<span id="cb46-28">CryptocurrencyPlot<span class="op">[</span><span class="at">___</span><span class="op">]</span> <span class="ex">:=</span> <span class="va">$Failed</span>;</span></code></pre>
</div>
<h2 id="references">References</h2>
<h3 id="articles">Articles</h3>
<p>[AA1] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2021/06/19/crypto-currencies-data-acquisition-with-visualization/">“Crypto-currencies data acquisition with visualization”</a>, (2021), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction at WordPress</a>.</p>
<p>[AA2] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/NYTimes-COVID-19-data-visualization.md">“NY Times COVID-19 data visualization”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub</a>.</p>
<p>[AA3] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/Apple-mobility-trends-data-visualization.md">“Apple mobility trends data visualization”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub</a>.</p>
<h3 id="packages">Packages</h3>
<p>[AAp1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/DataReshape.m">Data reshaping Mathematica package</a>, (2018), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediciton at GitHub</a>.</p>
<p>[AAp2] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/Misc/HeatmapPlot.m">Heatmap plot Mathematica package</a>, (2018), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediciton at GitHub</a>.</p>
<h3 id="resource-functions">Resource functions</h3>
<p>[AAw1] Anton Antonov, <a href="https://www.wolframcloud.com/obj/antononcube/DeployedResources/Function/CryptocurrencyData">CryptocurrencyData</a>, (2021).</p>
<p>[AAw2] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/RecordsSummary/">RecordsSummary</a>, (2019).</p>
<p>[AAw3] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/ParetoPrinciplePlot">ParetoPrinciplePlot</a>, (2019).</p>
<p>[AAw4] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/CrossTabulate">CrossTabulate</a>, (2019).</p>
<p>[AAw5] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/IndependentComponentAnalysis">IndependentComponentAnalysis</a>, (2019).</p>
<p>[AAw6] Anton Antonov, <a href="https://resources.wolframcloud.com/FunctionRepository/resources/QuantileRegression">QuantileRegression</a>, (2019).</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2021/06/22/cryptocurrencies-data-explorations/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2021/06/screen-shot-2021-06-22-at-1.44.15-pm.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2021/06/screen-shot-2021-06-22-at-1.44.15-pm.png" medium="image">
			<media:title type="html">Screen Shot 2021-06-22 at 1.44.15 PM</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/02bue86eonuo0.png" medium="image">
			<media:title type="html">02bue86eonuo0</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0u3re74xw7086.png" medium="image">
			<media:title type="html">0u3re74xw7086</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/14gue3qibxrf7.png" medium="image">
			<media:title type="html">14gue3qibxrf7</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0xgj73uot9hb1.png" medium="image">
			<media:title type="html">0xgj73uot9hb1</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1rpeb683tls42.png" medium="image">
			<media:title type="html">1rpeb683tls42</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1a9fsea677xld.png" medium="image">
			<media:title type="html">1a9fsea677xld</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/19tfy1oj2yrs7.png" medium="image">
			<media:title type="html">19tfy1oj2yrs7</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1lnrdt94mofry.png" medium="image">
			<media:title type="html">1lnrdt94mofry</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0nvcws0qh5hum.png" medium="image">
			<media:title type="html">0nvcws0qh5hum</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1tns5zrq560q7.png" medium="image">
			<media:title type="html">1tns5zrq560q7</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1qjdxqriy9jbj.png" medium="image">
			<media:title type="html">1qjdxqriy9jbj</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0klkuvia1jexo.png" medium="image">
			<media:title type="html">0klkuvia1jexo</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/10xmepjcwrxdn.png" medium="image">
			<media:title type="html">10xmepjcwrxdn</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0gnba7mxklpo0.png" medium="image">
			<media:title type="html">0gnba7mxklpo0</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0dfaqwvvggjcf.png" medium="image">
			<media:title type="html">0dfaqwvvggjcf</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1ltpksb32ajim.png" medium="image">
			<media:title type="html">1ltpksb32ajim</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1uktoasdy8urt.png" medium="image">
			<media:title type="html">1uktoasdy8urt</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0zhrnqlozgni6.png" medium="image">
			<media:title type="html">0zhrnqlozgni6</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1g8hz1lewgpx7.png" medium="image">
			<media:title type="html">1g8hz1lewgpx7</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/12idrdt53tzmc.png" medium="image">
			<media:title type="html">12idrdt53tzmc</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0ufk6pcr1j3da.png" medium="image">
			<media:title type="html">0ufk6pcr1j3da</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1ktjec1jdlsrg.png" medium="image">
			<media:title type="html">1ktjec1jdlsrg</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0un433xvnvbm4.png" medium="image">
			<media:title type="html">0un433xvnvbm4</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/191tqczjvp1gp.png" medium="image">
			<media:title type="html">191tqczjvp1gp</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1wmxdysnjdvj1.png" medium="image">
			<media:title type="html">1wmxdysnjdvj1</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1nywjggle91rq.png" medium="image">
			<media:title type="html">1nywjggle91rq</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1q472yp7r4c04.png" medium="image">
			<media:title type="html">1q472yp7r4c04</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/1fl5f7a50gkvu.png" medium="image">
			<media:title type="html">1fl5f7a50gkvu</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Cryptocurrencies-data-explorations/0j8tmvwyygijv.png" medium="image">
			<media:title type="html">0j8tmvwyygijv</media:title>
		</media:content>
	</item>
		<item>
		<title>Crypto-currencies data acquisition with visualization</title>
		<link>https://mathematicaforprediction.wordpress.com/2021/06/19/crypto-currencies-data-acquisition-with-visualization/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2021/06/19/crypto-currencies-data-acquisition-with-visualization/#comments</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Sat, 19 Jun 2021 16:20:35 +0000</pubDate>
				<category><![CDATA[Data Acquisition]]></category>
		<category><![CDATA[Data Science]]></category>
		<category><![CDATA[Data visualization]]></category>
		<category><![CDATA[Financial Data]]></category>
		<category><![CDATA[Time series]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1211</guid>

					<description><![CDATA[Introduction In this notebook we show how to obtain crypto-currencies data from several data sources and make some basic time series visualizations. We assume the described data acquisition workflow is useful for doing more detailed (exploratory) analysis. There are multiple crypto-currencies data sources, but a small proportion of them give a convenient way of extracting [&#8230;]]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>In this notebook we show how to obtain crypto-currencies data from several data sources and make some basic time series visualizations. We assume the described data acquisition workflow is useful for doing more detailed (exploratory) analysis.</p>
<p>There are multiple crypto-currencies data sources, but a small proportion of them give a convenient way of extracting crypto-currencies data automatically. I found the easiest to work with to be <a href="https://finance.yahoo.com/cryptocurrencies" rel="nofollow">https://finance.yahoo.com/cryptocurrencies</a>, [YF1]. Another easy to work with Bitcoin-only data source is <a href="https://data.bitcoinity.org" rel="nofollow">https://data.bitcoinity.org</a> , [DBO1].</p>
<p>(I also looked into using <a href="https://www.coindesk.com/coindesk20" rel="nofollow">https://www.coindesk.com/coindesk20</a>. )</p>
<p><strong>Remark:</strong> The code below is made with certain ad-hoc inductive reasoning that brought meaningful results. This means the code has to be changed if the underlying data organization in [YF1, DBO1] is changed.</p>
<h2 id="yahoo-finance">Yahoo! Finance</h2>
<h3 id="getting-cryptocurrencies-symbols-and-summaries">Getting cryptocurrencies symbols and summaries</h3>
<p>In this section we get all crypto-currencies symbols and related metadata.</p>
<p>Get the data of all crypto-currencies in [YF1]:</p>
<div class="sourceCode" id="cb1">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>  lsData <span class="ex">=</span> <span class="fu">Import</span><span class="op">[</span><span class="st">"https://finance.yahoo.com/cryptocurrencies"</span><span class="op">,</span> <span class="st">"Data"</span><span class="op">]</span>; </span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a> <span class="op">]</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true"></a></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true"></a><span class="co">(*{6.18067, Null}*)</span></span></code></pre>
</div>
<p>Locate the data:</p>
<div class="sourceCode" id="cb2">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>pos <span class="ex">=</span> First@Position<span class="op">[</span>lsData<span class="op">,</span> <span class="op">{</span><span class="st">"Symbol"</span><span class="op">,</span> <span class="st">"Name"</span><span class="op">,</span> <span class="st">"Price (Intraday)"</span><span class="op">,</span> <span class="st">"Change"</span><span class="op">,</span> <span class="st">"% Change"</span><span class="op">,</span> <span class="at">___</span><span class="op">}]</span>;</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true"></a>dsCryptoCurrenciesColumnNames <span class="ex">=</span> lsData<span class="op">[[</span><span class="fu">Sequence</span> @@ pos<span class="op">]]</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true"></a><span class="fu">Length</span><span class="op">[</span>dsCryptoCurrenciesColumnNames<span class="op">]</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true"></a><span class="co">(*{"Symbol", "Name", "Price (Intraday)", "Change", "% Change", "Market Cap", "Volume in Currency (Since 0:00 UTC)", "Volume in Currency (24Hr)", "Total Volume All Currencies (24Hr)", "Circulating Supply", "52 Week Range", "1 Day Chart"}*)</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true"></a><span class="co">(*12*)</span></span></code></pre>
</div>
<p>Get the data:</p>
<div class="sourceCode" id="cb3">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>dsCryptoCurrencies <span class="ex">=</span> lsData<span class="op">[[</span><span class="fu">Sequence</span> @@ <span class="fu">Append</span><span class="op">[</span><span class="fu">Most</span><span class="op">[</span>pos<span class="op">],</span> <span class="dv">2</span><span class="op">]]]</span>;</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a><span class="fu">Dimensions</span><span class="op">[</span>dsCryptoCurrencies<span class="op">]</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true"></a><span class="co">(*{25, 10}*)</span></span></code></pre>
</div>
<p>Make a dataset:</p>
<div class="sourceCode" id="cb4">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>dsCryptoCurrencies <span class="ex">=</span> Dataset<span class="op">[</span>dsCryptoCurrencies<span class="op">][</span><span class="cn">All</span><span class="op">,</span> AssociationThread<span class="op">[</span>dsCryptoCurrenciesColumnNames<span class="op">[[</span><span class="dv">1</span> ;; <span class="sc">-</span><span class="dv">3</span><span class="op">]],</span> #<span class="op">]</span> &amp;<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/027jtuv769fln.png" alt="027jtuv769fln"><figcaption aria-hidden="true">027jtuv769fln</figcaption></figure>
<h3 id="get-all-time-series">Get all time series</h3>
<p>In this section we get all the crypto-currencies time series from [YF1].</p>
<div class="sourceCode" id="cb5">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>  ccNow <span class="ex">=</span> Round@AbsoluteTime<span class="op">[</span>Date<span class="op">[]]</span> <span class="sc">-</span> <span class="fu">AbsoluteTime</span><span class="op">[{</span><span class="dv">1970</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">1</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">,</span> <span class="dv">0</span><span class="op">}]</span>; </span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>  aCryptoCurrenciesDataRaw <span class="ex">=</span> </span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true"></a>   Association@</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true"></a>    <span class="fu">Map</span><span class="op">[</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true"></a>     # <span class="ot">-&gt;</span> ResourceFunction<span class="op">[</span><span class="st">"ImportCSVToDataset"</span><span class="op">][</span><span class="st">"https://query1.finance.yahoo.com/v7/finance/download/"</span> &lt;&gt; # &lt;&gt;<span class="st">"?period1=1410825600&amp;period2="</span> &lt;&gt; <span class="fu">ToString</span><span class="op">[</span>ccNow<span class="op">]</span> &lt;&gt; <span class="st">"&amp;interval=1d&amp;events=history&amp;includeAdjustedClose=true"</span><span class="op">]</span> &amp;<span class="op">,</span> <span class="fu">Normal</span><span class="op">[</span>dsCryptoCurrencies<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="st">"Symbol"</span><span class="op">]]</span> </span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true"></a>    <span class="op">]</span>; </span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true"></a> <span class="op">]</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true"></a><span class="co">(*{5.98745, Null}*)</span></span></code></pre>
</div>
<p><strong>Remark:</strong> Note that in the code above we specified the upper limit of the time span to be the current date. (And shifted it with respect to the epoch start 1970-01-01 used by [YF1].)</p>
<p>Check we good the data with dimensions retrieval:</p>
<div class="sourceCode" id="cb6">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a><span class="fu">Dimensions</span> <span class="sc">/</span>@ aCryptoCurrenciesDataRaw</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true"></a><span class="co">(*&lt;|"BTC-USD" -&gt; {2468, 7}, "ETH-USD" -&gt; {2144, 7}, "USDT-USD" -&gt; {2307, 7}, "BNB-USD" -&gt; {1426, 7}, "ADA-USD" -&gt; {1358, 7}, "DOGE-USD" -&gt; {2468, 7}, "XRP-USD" -&gt; {2468, 7}, "USDC-USD" -&gt; {986, 7}, "DOT1-USD" -&gt; {304, 7}, "HEX-USD" -&gt; {551, 7}, "UNI3-USD" -&gt; {81, 7},"BCH-USD" -&gt; {1428, 7}, "LTC-USD" -&gt; {2468, 7}, "SOL1-USD" -&gt; {436, 7}, "LINK-USD" -&gt; {1369, 7}, "THETA-USD" -&gt; {1250, 7}, "MATIC-USD" -&gt; {784, 7}, "XLM-USD" -&gt; {2468, 7}, "ICP1-USD" -&gt; {32, 7}, "VET-USD" -&gt; {1052, 7}, "ETC-USD" -&gt; {1792, 7}, "FIL-USD" -&gt; {1285, 7}, "TRX-USD" -&gt; {1376, 7}, "XMR-USD" -&gt; {2468, 7}, "EOS-USD" -&gt; {1450, 7}|&gt;*)</span></span></code></pre>
</div>
<p>Check we good the data with random sample:</p>
<div class="sourceCode" id="cb7">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="fu">RandomSample</span><span class="op">[</span>#<span class="op">,</span> <span class="dv">6</span><span class="op">]</span> &amp; <span class="sc">/</span>@ KeyTake<span class="op">[</span>aCryptoCurrenciesDataRaw<span class="op">,</span> <span class="fu">RandomChoice</span><span class="op">[</span>Keys@aCryptoCurrenciesDataRaw<span class="op">]]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/12a3tm9n7hwhw.png" alt="12a3tm9n7hwhw"><figcaption aria-hidden="true">12a3tm9n7hwhw</figcaption></figure>
<p>Here we add the crypto-currencies symbols and convert date strings into date objects.</p>
<div class="sourceCode" id="cb8">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a><span class="fu">AbsoluteTiming</span><span class="op">[</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true"></a>  aCryptoCurrenciesData <span class="ex">=</span> Association@KeyValueMap<span class="op">[</span><span class="fu">Function</span><span class="op">[{</span><span class="fu">k</span><span class="op">,</span> <span class="fu">v</span><span class="op">},</span> <span class="fu">k</span> <span class="ot">-&gt;</span> <span class="fu">v</span><span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="fu">Join</span><span class="op">[</span>&lt;<span class="sc">|</span><span class="st">"Symbol"</span> <span class="ot">-&gt;</span> <span class="fu">k</span><span class="op">,</span> <span class="st">"DateObject"</span> <span class="ot">-&gt;</span> DateObject<span class="op">[</span>#Date<span class="op">]</span><span class="sc">|</span>&gt;<span class="op">,</span> #<span class="op">]</span> &amp;<span class="op">]],</span> aCryptoCurrenciesDataRaw<span class="op">]</span>; </span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true"></a> <span class="op">]</span></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true"></a><span class="co">(*{8.27865, Null}*)</span></span></code></pre>
</div>
<h3 id="summary">Summary</h3>
<p>In this section we compute the summary over <strong>all</strong> datasets:</p>
<div class="sourceCode" id="cb9">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span><span class="fu">Join</span> @@ Values<span class="op">[</span>aCryptoCurrenciesData<span class="op">],</span> <span class="st">"MaxTallies"</span> <span class="ot">-&gt;</span> <span class="dv">30</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/05np9dmf305fp.png" alt="05np9dmf305fp"><figcaption aria-hidden="true">05np9dmf305fp</figcaption></figure>
<h3 id="plots">Plots</h3>
<p>Here we plot the “Low” and “High” price time series for each crypto-currency for the last 120 days:</p>
<div class="sourceCode" id="cb10">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>nDays <span class="ex">=</span> <span class="dv">120</span>;</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a><span class="fu">Map</span><span class="op">[</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true"></a>  <span class="fu">Block</span><span class="op">[{</span>dsTemp <span class="ex">=</span> #<span class="op">[</span><span class="fu">Select</span><span class="op">[</span><span class="fu">AbsoluteTime</span><span class="op">[</span>#DateObject<span class="op">]</span> &gt; <span class="fu">AbsoluteTime</span><span class="op">[</span><span class="fu">DatePlus</span><span class="op">[</span>Now<span class="op">,</span> <span class="sc">-</span>Quantity<span class="op">[</span>nDays<span class="op">,</span> <span class="st">"Days"</span><span class="op">]]]</span> &amp;<span class="op">]]},</span> </span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true"></a>    <span class="fu">DateListPlot</span><span class="op">[{</span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true"></a>      <span class="fu">Normal</span><span class="op">[</span>dsTemp<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="st">"DateObject"</span><span class="op">,</span> <span class="st">"Low"</span><span class="op">}][</span>Values<span class="op">]],</span> </span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true"></a>      <span class="fu">Normal</span><span class="op">[</span>dsTemp<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="st">"DateObject"</span><span class="op">,</span> <span class="st">"High"</span><span class="op">}][</span>Values<span class="op">]]},</span> </span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true"></a>     PlotLegends <span class="ot">-&gt;</span> <span class="op">{</span><span class="st">"Low"</span><span class="op">,</span> <span class="st">"High"</span><span class="op">},</span> </span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true"></a>     <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span><span class="op">,</span> </span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true"></a>     <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span> </span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true"></a>   <span class="op">]</span> &amp;<span class="op">,</span> </span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true"></a>  aCryptoCurrenciesData </span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true"></a> <span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0xx3qb97hg2w1.png" alt="0xx3qb97hg2w1"><figcaption aria-hidden="true">0xx3qb97hg2w1</figcaption></figure>
<p>Here we plot the volume time series for each crypto-currency for the last 120 days:</p>
<div class="sourceCode" id="cb11">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a>nDays <span class="ex">=</span> <span class="dv">120</span>;</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a><span class="fu">Map</span><span class="op">[</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a>  <span class="fu">Block</span><span class="op">[{</span>dsTemp <span class="ex">=</span> #<span class="op">[</span><span class="fu">Select</span><span class="op">[</span><span class="fu">AbsoluteTime</span><span class="op">[</span>#DateObject<span class="op">]</span> &gt; <span class="fu">AbsoluteTime</span><span class="op">[</span><span class="fu">DatePlus</span><span class="op">[</span>Now<span class="op">,</span> <span class="sc">-</span>Quantity<span class="op">[</span>nDays<span class="op">,</span> <span class="st">"Days"</span><span class="op">]]]</span> &amp;<span class="op">]]},</span> </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true"></a>    <span class="fu">DateListPlot</span><span class="op">[{</span></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true"></a>      <span class="fu">Normal</span><span class="op">[</span>dsTemp<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="st">"DateObject"</span><span class="op">,</span> <span class="st">"Volume"</span><span class="op">}][</span>Values<span class="op">]]},</span> </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true"></a>     <span class="fu">PlotLabel</span> <span class="ot">-&gt;</span> <span class="st">"Volume"</span><span class="op">,</span> </span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true"></a>     <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span><span class="op">,</span> </span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true"></a>     <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">]</span> </span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true"></a>   <span class="op">]</span> &amp;<span class="op">,</span> </span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true"></a>  aCryptoCurrenciesData </span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true"></a> <span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0djptbh8lhz4e.png" alt="0djptbh8lhz4e"><figcaption aria-hidden="true">0djptbh8lhz4e</figcaption></figure>
<h2 id="data.bitcoinity.org">data.bitcoinity.org</h2>
<p>In this section we ingest crypto-currency data from <a href="https://data.bitcoinity.org/">data.bitcoinity.org</a>, [DBO1].</p>
<h3 id="metadata">Metadata</h3>
<p>In this sub-section we assign different metadata elements used in data.bitcoinity.org.</p>
<p>The currencies and exchanges we obtained by examining the output of:</p>
<pre><code>Import["https://data.bitcoinity.org/markets/price/30d/USD?t=l", "Plaintext"]</code></pre>
<h4 id="assignments">Assignments</h4>
<div class="sourceCode" id="cb13">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>lsCurrencies <span class="ex">=</span> <span class="op">{</span><span class="st">"all"</span><span class="op">,</span> <span class="st">"AED"</span><span class="op">,</span> <span class="st">"ARS"</span><span class="op">,</span> <span class="st">"AUD"</span><span class="op">,</span> <span class="st">"BRL"</span><span class="op">,</span> <span class="st">"CAD"</span><span class="op">,</span> <span class="st">"CHF"</span><span class="op">,</span> <span class="st">"CLP"</span><span class="op">,</span> <span class="st">"CNY"</span><span class="op">,</span> <span class="st">"COP"</span><span class="op">,</span> <span class="st">"CZK"</span><span class="op">,</span> <span class="st">"DKK"</span><span class="op">,</span> <span class="st">"EUR"</span><span class="op">,</span> <span class="st">"GBP"</span><span class="op">,</span> <span class="st">"HKD"</span><span class="op">,</span> <span class="st">"HRK"</span><span class="op">,</span> <span class="st">"HUF"</span><span class="op">,</span> <span class="st">"IDR"</span><span class="op">,</span> <span class="st">"ILS"</span><span class="op">,</span> <span class="st">"INR"</span><span class="op">,</span> <span class="st">"IRR"</span><span class="op">,</span> <span class="st">"JPY"</span><span class="op">,</span> <span class="st">"KES"</span><span class="op">,</span> <span class="st">"KRW"</span><span class="op">,</span> <span class="st">"MXN"</span><span class="op">,</span> <span class="st">"MYR"</span><span class="op">,</span> <span class="st">"NOK"</span><span class="op">,</span> <span class="st">"NZD"</span><span class="op">,</span> <span class="st">"PHP"</span><span class="op">,</span> <span class="st">"PKR"</span><span class="op">,</span> <span class="st">"PLN"</span><span class="op">,</span> <span class="st">"RON"</span><span class="op">,</span> <span class="st">"RUB"</span><span class="op">,</span> <span class="st">"RUR"</span><span class="op">,</span> <span class="st">"SAR"</span><span class="op">,</span> <span class="st">"SEK"</span><span class="op">,</span> <span class="st">"SGD"</span><span class="op">,</span> <span class="st">"THB"</span><span class="op">,</span> <span class="st">"TRY"</span><span class="op">,</span> <span class="st">"UAH"</span><span class="op">,</span> <span class="st">"USD"</span><span class="op">,</span> <span class="st">"VEF"</span><span class="op">,</span> <span class="st">"XAU"</span><span class="op">,</span> <span class="st">"ZAR"</span><span class="op">}</span>;</span></code></pre>
</div>
<div class="sourceCode" id="cb14">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>lsExchanges <span class="ex">=</span> <span class="op">{</span><span class="st">"all"</span><span class="op">,</span> <span class="st">"bit-x"</span><span class="op">,</span> <span class="st">"bit2c"</span><span class="op">,</span> <span class="st">"bitbay"</span><span class="op">,</span> <span class="st">"bitcoin.co.id"</span><span class="op">,</span> <span class="st">"bitcoincentral"</span><span class="op">,</span> <span class="st">"bitcoinde"</span><span class="op">,</span> <span class="st">"bitcoinsnorway"</span><span class="op">,</span> <span class="st">"bitcurex"</span><span class="op">,</span> <span class="st">"bitfinex"</span><span class="op">,</span> <span class="st">"bitflyer"</span><span class="op">,</span> <span class="st">"bithumb"</span><span class="op">,</span> <span class="st">"bitmarketpl"</span><span class="op">,</span> <span class="st">"bitmex"</span><span class="op">,</span> <span class="st">"bitquick"</span><span class="op">,</span> <span class="st">"bitso"</span><span class="op">,</span> <span class="st">"bitstamp"</span><span class="op">,</span> <span class="st">"btcchina"</span><span class="op">,</span> <span class="st">"btce"</span><span class="op">,</span> <span class="st">"btcmarkets"</span><span class="op">,</span> <span class="st">"campbx"</span><span class="op">,</span> <span class="st">"cex.io"</span><span class="op">,</span> <span class="st">"clevercoin"</span><span class="op">,</span> <span class="st">"coinbase"</span><span class="op">,</span> <span class="st">"coinfloor"</span><span class="op">,</span> <span class="st">"exmo"</span><span class="op">,</span> <span class="st">"gemini"</span><span class="op">,</span> <span class="st">"hitbtc"</span><span class="op">,</span> <span class="st">"huobi"</span><span class="op">,</span> <span class="st">"itbit"</span><span class="op">,</span> <span class="st">"korbit"</span><span class="op">,</span> <span class="st">"kraken"</span><span class="op">,</span> <span class="st">"lakebtc"</span><span class="op">,</span> <span class="st">"localbitcoins"</span><span class="op">,</span> <span class="st">"mercadobitcoin"</span><span class="op">,</span> <span class="st">"okcoin"</span><span class="op">,</span> <span class="st">"paymium"</span><span class="op">,</span> <span class="st">"quadrigacx"</span><span class="op">,</span> <span class="st">"therocktrading"</span><span class="op">,</span> <span class="st">"vaultoro"</span><span class="op">,</span> <span class="st">"wallofcoins"</span><span class="op">}</span>;</span></code></pre>
</div>
<div class="sourceCode" id="cb15">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a>lsTimeSpans <span class="ex">=</span> <span class="op">{</span><span class="st">"10m"</span><span class="op">,</span> <span class="st">"1h"</span><span class="op">,</span> <span class="st">"6h"</span><span class="op">,</span> <span class="st">"24h"</span><span class="op">,</span> <span class="st">"3d"</span><span class="op">,</span> <span class="st">"30d"</span><span class="op">,</span> <span class="st">"6m"</span><span class="op">,</span> <span class="st">"2y"</span><span class="op">,</span> <span class="st">"5y"</span><span class="op">,</span> <span class="st">"all"</span><span class="op">}</span>;</span></code></pre>
</div>
<div class="sourceCode" id="cb16">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>lsTimeUnit <span class="ex">=</span> <span class="op">{</span><span class="st">"second"</span><span class="op">,</span> <span class="st">"minute"</span><span class="op">,</span> <span class="st">"hour"</span><span class="op">,</span> <span class="st">"day"</span><span class="op">,</span> <span class="st">"week"</span><span class="op">,</span> <span class="st">"month"</span><span class="op">}</span>;</span></code></pre>
</div>
<div class="sourceCode" id="cb17">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a>aDataTypeDescriptions <span class="ex">=</span> Association@<span class="op">{</span><span class="st">"price"</span> <span class="ot">-&gt;</span> <span class="st">"Prince"</span><span class="op">,</span> <span class="st">"volume"</span> <span class="ot">-&gt;</span> <span class="st">"Trading Volume"</span><span class="op">,</span> <span class="st">"rank"</span> <span class="ot">-&gt;</span> <span class="st">"Rank"</span><span class="op">,</span> <span class="st">"bidask_sum"</span> <span class="ot">-&gt;</span> <span class="st">"Bid/Ask Sum"</span><span class="op">,</span> <span class="st">"spread"</span> <span class="ot">-&gt;</span> <span class="st">"Bid/Ask Spread"</span><span class="op">,</span> <span class="st">"tradespm"</span> <span class="ot">-&gt;</span> <span class="st">"Trades Per Minute"</span><span class="op">}</span>;</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>lsDataTypes <span class="ex">=</span> Keys<span class="op">[</span>aDataTypeDescriptions<span class="op">]</span>;</span></code></pre>
</div>
<h3 id="getting-btc-data">Getting BTC data</h3>
<p>Here we make a template string that for CSV data retrieval from data.bitcoinity.org:</p>
<div class="sourceCode" id="cb18">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a>stDBOURL <span class="ex">=</span> StringTemplate<span class="op">[</span><span class="st">"https://data.bitcoinity.org/export_data.csv?currency=`currency`&amp;data_type=`dataType`&amp;exchange=`exchange`&amp;r=`timeUnit`&amp;t=l&amp;timespan=`timeSpan`"</span><span class="op">]</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true"></a></span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true"></a><span class="co">(*TemplateObject[{"https://data.bitcoinity.org/export_data.csv?currency=", TemplateSlot["currency"], "&amp;data_type=", TemplateSlot["dataType"], "&amp;exchange=", TemplateSlot["exchange"], "&amp;r=", TemplateSlot["timeUnit"], "&amp;t=l&amp;timespan=", TemplateSlot["timeSpan"]}, CombinerFunction -&gt; StringJoin, InsertionFunction -&gt; TextString]*)</span></span></code></pre>
</div>
<p>Here is an association with default values for the string template above:</p>
<div class="sourceCode" id="cb19">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>aDBODefaultParameters <span class="ex">=</span> &lt;<span class="sc">|</span><span class="st">"currency"</span> <span class="ot">-&gt;</span> <span class="st">"USD"</span><span class="op">,</span> <span class="st">"dataType"</span> <span class="ot">-&gt;</span> <span class="st">"price"</span><span class="op">,</span> <span class="st">"exchange"</span> <span class="ot">-&gt;</span> <span class="st">"all"</span><span class="op">,</span> <span class="st">"timeUnit"</span> <span class="ot">-&gt;</span> <span class="st">"day"</span><span class="op">,</span> <span class="st">"timeSpan"</span> <span class="ot">-&gt;</span> <span class="st">"all"</span><span class="sc">|</span>&gt;;</span></code></pre>
</div>
<p><strong>Remark:</strong> The metadata assigned above is used to form valid queries for the query string template.</p>
<p><strong>Remark:</strong> Not all combinations of parameters are “fully respected” by data.bitcoinity.org. For example, if a data request is with time granularity that is too fine over a large time span, then the returned data is with coarser granularity.</p>
<h4 id="price-for-a-particular-currency-and-exchange-pair">Price for a particular currency and exchange pair</h4>
<p>Here we retrieve data by overwriting the parameters for currency, time unit, time span, and exchange:</p>
<div class="sourceCode" id="cb20">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>dsBTCPriceData <span class="ex">=</span> </span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true"></a>  ResourceFunction<span class="op">[</span><span class="st">"ImportCSVToDataset"</span><span class="op">][</span>stDBOURL<span class="op">[</span><span class="fu">Join</span><span class="op">[</span>aDBODefaultParameters<span class="op">,</span> &lt;<span class="sc">|</span><span class="st">"currency"</span> <span class="ot">-&gt;</span> <span class="st">"EUR"</span><span class="op">,</span> <span class="st">"timeUnit"</span> <span class="ot">-&gt;</span> <span class="st">"hour"</span><span class="op">,</span> <span class="st">"timeSpan"</span> <span class="ot">-&gt;</span> <span class="st">"7d"</span><span class="op">,</span> <span class="st">"exchange"</span> <span class="ot">-&gt;</span> <span class="st">"coinbase"</span><span class="sc">|</span>&gt;<span class="op">]]]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0xcsh7gmkf1q5.png" alt="0xcsh7gmkf1q5"><figcaption aria-hidden="true">0xcsh7gmkf1q5</figcaption></figure>
<p>Here is a summary:</p>
<div class="sourceCode" id="cb21">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a>ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>dsBTCPriceData<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0rzy81vbf5o23.png" alt="0rzy81vbf5o23"><figcaption aria-hidden="true">0rzy81vbf5o23</figcaption></figure>
<h4 id="volume-data">Volume data</h4>
<p>Here we retrieve data by overwriting the parameters for data type, time unit, time span, and exchange:</p>
<div class="sourceCode" id="cb22">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a>dsBTCVolumeData <span class="ex">=</span> </span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a>  ResourceFunction<span class="op">[</span><span class="st">"ImportCSVToDataset"</span><span class="op">][</span>stDBOURL<span class="op">[</span><span class="fu">Join</span><span class="op">[</span>aDBODefaultParameters<span class="op">,</span> &lt;<span class="sc">|</span><span class="st">"dataType"</span> <span class="ot">-&gt;</span> Volume<span class="op">,</span> <span class="st">"timeUnit"</span> <span class="ot">-&gt;</span> <span class="st">"day"</span><span class="op">,</span> <span class="st">"timeSpan"</span> <span class="ot">-&gt;</span> <span class="st">"30d"</span><span class="op">,</span> <span class="st">"exchange"</span> <span class="ot">-&gt;</span> <span class="st">"all"</span><span class="sc">|</span>&gt;<span class="op">]]]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/1scvwhiftq8m2.png" alt="1scvwhiftq8m2"><figcaption aria-hidden="true">1scvwhiftq8m2</figcaption></figure>
<p>Here is a summary:</p>
<div class="sourceCode" id="cb23">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a>ResourceFunction<span class="op">[</span><span class="st">"RecordsSummary"</span><span class="op">][</span>dsBTCVolumeData<span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/1bmbadd8up36a.png" alt="1bmbadd8up36a"><figcaption aria-hidden="true">1bmbadd8up36a</figcaption></figure>
<h3 id="plots-1">Plots</h3>
<h4 id="price-data">Price data</h4>
<p>Here we extract the non-time columns in the tabular price data obtained above and plot the corresponding time series:</p>
<div class="sourceCode" id="cb24">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="fu">DateListPlot</span><span class="op">[</span>Association<span class="op">[</span># <span class="ot">-&gt;</span> <span class="fu">Normal</span><span class="op">[</span>dsBTCPriceData<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="st">"Time"</span><span class="op">,</span> #<span class="op">}][</span>Values<span class="op">]]</span> &amp; <span class="sc">/</span>@Rest<span class="op">[</span><span class="fu">Normal</span><span class="op">[</span>Keys<span class="op">[</span>dsBTCPriceData<span class="op">[[</span><span class="dv">1</span><span class="op">]]]]]],</span> <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Large</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/136hrgyroy246.png" alt="136hrgyroy246"><figcaption aria-hidden="true">136hrgyroy246</figcaption></figure>
<h4 id="volume-data-1">Volume data</h4>
<p>Here we extract the non-time columns (corresponding to exchanges) in the tabular volume data obtained above and plot the corresponding time series:</p>
<div class="sourceCode" id="cb25">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a><span class="fu">DateListPlot</span><span class="op">[</span>Association<span class="op">[</span># <span class="ot">-&gt;</span> <span class="fu">Normal</span><span class="op">[</span>dsBTCVolumeData<span class="op">[</span><span class="cn">All</span><span class="op">,</span> <span class="op">{</span><span class="st">"Time"</span><span class="op">,</span> #<span class="op">}][</span>Values<span class="op">]]</span> &amp; <span class="sc">/</span>@ <span class="fu">Rest</span><span class="op">[</span><span class="fu">Normal</span><span class="op">[</span>Keys<span class="op">[</span>dsBTCVolumeData<span class="op">[[</span><span class="dv">1</span><span class="op">]]]]]],</span> <span class="fu">PlotRange</span> <span class="ot">-&gt;</span> <span class="cn">All</span><span class="op">,</span> <span class="fu">AspectRatio</span> <span class="ot">-&gt;</span> <span class="dv">1</span><span class="sc">/</span><span class="dv">4</span><span class="op">,</span> <span class="fu">ImageSize</span> <span class="ot">-&gt;</span> <span class="fu">Large</span><span class="op">]</span></span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/1tz1hw81b2930.png" alt="1tz1hw81b2930"><figcaption aria-hidden="true">1tz1hw81b2930</figcaption></figure>
<h2 id="references">References</h2>
<p>[DBO1] <a href="https://data.bitcoinity.org" rel="nofollow">https://data.bitcoinity.org</a>.</p>
<p>[WK1] Wikipedia entry, <a href="https://en.wikipedia.org/wiki/Cryptocurrency">Cryptocurrency</a>.</p>
<p>[YF1] Yahoo! Finance, <a href="https://finance.yahoo.com/cryptocurrencies">Cryptocurrencies</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2021/06/19/crypto-currencies-data-acquisition-with-visualization/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2021/06/data.bitcoinity.org-btc-eur-coinbase-1.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2021/06/data.bitcoinity.org-btc-eur-coinbase-1.png" medium="image">
			<media:title type="html">data.bitcoinity.org-BTC-EUR-coinbase</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/027jtuv769fln.png" medium="image">
			<media:title type="html">027jtuv769fln</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/12a3tm9n7hwhw.png" medium="image">
			<media:title type="html">12a3tm9n7hwhw</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/05np9dmf305fp.png" medium="image">
			<media:title type="html">05np9dmf305fp</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0xx3qb97hg2w1.png" medium="image">
			<media:title type="html">0xx3qb97hg2w1</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0djptbh8lhz4e.png" medium="image">
			<media:title type="html">0djptbh8lhz4e</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0xcsh7gmkf1q5.png" medium="image">
			<media:title type="html">0xcsh7gmkf1q5</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/0rzy81vbf5o23.png" medium="image">
			<media:title type="html">0rzy81vbf5o23</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/1scvwhiftq8m2.png" medium="image">
			<media:title type="html">1scvwhiftq8m2</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/1bmbadd8up36a.png" medium="image">
			<media:title type="html">1bmbadd8up36a</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/136hrgyroy246.png" medium="image">
			<media:title type="html">136hrgyroy246</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/MathematicaVsR/master/Projects/CryptoCurrenciesDataAcquisitionAndAnalysis/Mathematica/Diagrams/Crypto-currencies-data-acquisition-with-visualization/1tz1hw81b2930.png" medium="image">
			<media:title type="html">1tz1hw81b2930</media:title>
		</media:content>
	</item>
		<item>
		<title>Time series search engines over COVID-19 data</title>
		<link>https://mathematicaforprediction.wordpress.com/2021/01/27/time-series-search-engines-over-covid-19-data/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2021/01/27/time-series-search-engines-over-covid-19-data/#respond</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Wed, 27 Jan 2021 15:42:21 +0000</pubDate>
				<category><![CDATA[COVID-19]]></category>
		<category><![CDATA[Data analysis]]></category>
		<category><![CDATA[Data Science]]></category>
		<category><![CDATA[Data visualization]]></category>
		<category><![CDATA[Interface]]></category>
		<category><![CDATA[Mathematica vs. R]]></category>
		<category><![CDATA[R]]></category>
		<category><![CDATA[Recommender Systems]]></category>
		<category><![CDATA[Time series]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1206</guid>

					<description><![CDATA[The primary motivation for making the Time Series Search Engines (TSSEs) and their interactive interfaces is to use them as exploratory tools. Combined with relevant data analysis the TSSEs should help to form better intuition and feel of the spread of COVID-19 and related data aggregation, public reactions, and government polices.]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p>In this article we proclaim the preparation and availability of interactive interfaces to two Time Series Search Engines (TSSEs) over COVID-19 data. One TSSE is based on Apple Mobility Trends data, [<a href="https://www.apple.com/covid19/mobility">APPL1</a>]; the other on The New York Times COVID-19 data, [<a href="https://github.com/nytimes/covid-19-data">NYT1</a>].</p>
<p>Here are links to interactive interfaces of the TSSEs hosted (and publicly available) at <a href="https://www.shinyapps.io">shinyapps.io by RStudio</a>:</p>
<ul>
<li><a href="https://antononcube.shinyapps.io/AppleCOVID19MobilityTrends/">Apple Mobility Trends Reports Search Engine</a></li>
<li><a href="https://antononcube.shinyapps.io/NYTimesCOVID19DataInUSA/">The New York Times COVID-19 Data Search Engine</a></li>
</ul>
<p><strong>Motivation:</strong> The primary motivation for making the TSSEs and their interactive interfaces is to use them as exploratory tools. Combined with relevant data analysis (e.g.&nbsp;[AA1, AA2]) the TSSEs should help to form better intuition and feel of the spread of COVID-19 and related data aggregation, public reactions, and government polices.</p>
<p>The rest of the article is structured as follows:</p>
<ol type="1">
<li>Brief descriptions the overall process, the data</li>
<li>Brief descriptions the search engines structure and implementation</li>
<li>Discussions of a few search examples and their (possible) interpretations</li>
</ol>
<h2 id="the-overall-process">The overall process</h2>
<p>For both search engines the overall process has the same steps:</p>
<ol type="1">
<li>Ingest the data</li>
<li>Do basic (and advanced) data analysis</li>
<li>Make (and publish) reports detailing the data ingestion and transformation steps</li>
<li>Enhance the data with transformed versions of it or with additional related data</li>
<li>Make a Time Series Sparse Matrix Recommender (TSSMR)</li>
<li>Make a Time Series Search Engine Interactive Interface (TSSEII)</li>
<li>Make the interactive interface easily accessible over the World Wide Web</li>
</ol>
<p>Here is a flow chart that corresponds to the steps listed above:</p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/Time-series-search-engine-over-COVID-19-data.pdf"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/Time-series-search-engine-over-COVID-19-data-small.png" alt="TSSMRFlowChart"></a></p>
<h2 id="data">Data</h2>
<h3 id="the-apple-data">The Apple data</h3>
<p>The Apple Mobility Trends data is taken from Apple’s site, see [<a href="https://www.apple.com/covid19/mobility">APPL1</a>]. The data ingestion, basic data analysis, time series seasonality demonstration, (graph) clusterings are given in [<a href="https://mathematicaforprediction.wordpress.com/2020/04/17/apple-mobility-trends-data-visualization-for-covid-19/">AA1</a>]. (Here is a link to the corresponding <a href="https://htmlpreview.github.io/?https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/R/COVID-19-modeling-in-R/notebooks/Apple-mobility-trends-data-visualization.nb.html">R-notebook</a> .)</p>
<p>The weather data was taken using the <a href="https://www.wolfram.com/mathematica/">Mathematica</a> function <a href="https://reference.wolfram.com/language/ref/WeatherData.html"><code>WeatherData</code></a>, [WRI1].</p>
<p>(It was too much work to get the weather data using some of the well known weather data R packages.)</p>
<h3 id="the-new-york-times-data">The New York Times data</h3>
<p>The New York Times COVID-19 data is taken from GitHub, see [<a href="https://github.com/nytimes/covid-19-data">NYT1</a>]. The data ingestion, basic data analysis, and visualizations are given in [<a href="https://mathematicaforprediction.wordpress.com/2021/01/15/ny-times-covid-19-data-visualization-update/">AA2</a>]. (Here is a link to the corresponding <a href="https://htmlpreview.github.io/?https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/R/COVID-19-modeling-in-R/notebooks/NY-Times-COVID-19-data-visualization.nb.html">R-notebook</a> .)</p>
<h2 id="the-search-engines">The search engines</h2>
<p>The following sub-sections have screenshots of the TSSE interactive interfaces.</p>
<p>I did experiment with combining the data of the two engines, but did not turn out to be particularly useful. It seems that is more interesting and useful to enhance the Apple data engine with temperature data, and to enhance The New Your Times engine with the (consecutive) differences of the time series.</p>
<h3 id="structure">Structure</h3>
<p>The interactive interfaces have three panels:</p>
<ul>
<li>Nearest Neighbors
<ul>
<li>Gives the time series nearest neighbors for the time series of selected entity.</li>
<li>Has interactive controls for entity selection and filtering.</li>
</ul>
</li>
<li>Trend Finding
<ul>
<li>Gives the time series that adhere to a specified named trend.</li>
<li>Has interactive controls for trend curves selection and entity filtering.</li>
</ul>
</li>
<li>Notes
<ul>
<li>Gives references and data objects summary.</li>
</ul>
</li>
</ul>
<h3 id="implementation">Implementation</h3>
<p>Both TSSEs are implemented using the R packages “SparseMatrixRecommender”, [<a href="https://github.com/antononcube/R-packages/tree/master/SparseMatrixRecommender">AAp1</a>], and “SparseMatrixRecommenderInterfaces”, [<a href="https://github.com/antononcube/R-packages/tree/master/SparseMatrixRecommenderInterfaces">AAp2</a>].</p>
<p>The package <a href="https://github.com/antononcube/R-packages/tree/master/SparseMatrixRecommender">“SparseMatrixRecommender”</a> provides functions to create and use Sparse Matrix Recommender (SMR) objects. Both TSSEs use underlying SMR objects.</p>
<p>The package <a href="https://github.com/antononcube/R-packages/tree/master/SparseMatrixRecommenderInterfaces">“SparseMatrixRecommenderInterfaces”</a> provides functions to generate the server and client functions for the <a href="https://rstudio.com/products/shiny/">Shiny</a> framework by <a href="https://rstudio.com">RStudio</a>.</p>
<p>As it was mentioned above, both TSSEs are published at <a href="https://www.shinyapps.io">shinyapps.io</a>. The corresponding source codes can be found in [<a href="https://github.com/antononcube/SystemModeling/tree/master/Projects/Coronavirus-propagation-dynamics/R">AAr1</a>].</p>
<h3 id="apple-mobility-trends-reports-search-engine"><a href="https://antononcube.shinyapps.io/AppleCOVID19MobilityTrends/">Apple Mobility Trends Reports Search Engine</a></h3>
<p>The Apple data TSSE has four types of time series (“entities”). The first three are normalized volumes of Apple maps requests while driving, transit transport use, and walking. (See [AA1] for more details.) The fourth is daily mean temperature at different geo-locations.</p>
<p>Here are screenshots of the panels “Nearest Neighbors” and “Trend Finding” (at interface launch):</p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-at-start.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-at-start-small.png" alt="AppleTSSENNs"></a></p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-Trends-at-start.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-Trends-at-start-small.png" alt="AppleTSSETrends"></a></p>
<h3 id="the-new-york-times-covid-19-data-search-engine"><a href="https://antononcube.shinyapps.io/NYTimesCOVID19DataInUSA/">The New York Times COVID-19 Data Search Engine</a></h3>
<p>The New York Times TSSE has four types of time series (aggregated) cases and deaths, and their corresponding time series differences.</p>
<p>Here are screenshots of the panels “Nearest Neighbors” and “Trend Finding” (at interface launch):</p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-at-start.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-at-start-small.png" alt="NYTTSSENNs"></a></p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-Trends-at-start.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-Trends-at-start-small.png" alt="NYTTSSETrends"></a></p>
<h2 id="examples">Examples</h2>
<p>In this section we discuss in some detail several examples of using each of the TSSEs.</p>
<h3 id="apple-data-search-engine-examples">Apple data search engine examples</h3>
<p>Here are a few observations from [AA1]:</p>
<ul>
<li>The COVID-19 lockdowns are clearly reflected in the time series.</li>
<li>The time series from the Apple Mobility Trends data shows strong weekly seasonality. Roughly speaking, people go to places they are not familiar with on Fridays and Saturdays. Other work week days people are more familiar with their trips. Since much lesser number of requests are made on Sundays, we can conjecture that many people stay at home or visit very familiar locations.</li>
</ul>
<p>Here are a few assumptions:</p>
<ul>
<li>Where people frequently go (work, school, groceries shopping, etc.) they do not need directions that much.</li>
<li>People request directions when they have more free time and will for <strong><em>“leisure trips.”</em></strong></li>
<li>During vacations people are more likely to be in places they are less familiar with.</li>
<li>People are more likely to take leisure trips when the weather is good. (Warm, not raining, etc.)</li>
</ul>
<h4 id="nice-france-vs-florida-usa">Nice, France vs Florida, USA</h4>
<p>Consider the results of the Nearest Neighbors panel for Nice, France.</p>
<p>Since French tend to go on vacation in July and August ([SS1, INSEE1]) we can see that driving, transit, and walking in Nice have pronounced peaks during that time:</p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Nice.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Nice-small.png"></a></p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-transit-Nice.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-transit-Nice-small.png"></a></p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-walking-Nice.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-walking-Nice-small.png"></a></p>
<p>Of course, we also observe the lockdown period in that geographical area.</p>
<p>Compare those time series with the time series from driving in Florida, USA:</p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Florida.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Florida-small.png"></a></p>
<p>We can see that people in Florida, USA have driving patterns unrelated to the typical weather seasons and vacation periods.</p>
<p>(Further TSSE queries show that there is a negative correlation with the temperature in south Florida and the volumes of Apple Maps directions requests.)</p>
<h4 id="italy-and-balkan-countries-driving">Italy and Balkan countries driving</h4>
<p>We can see that according to the data people who have access to both iPhones and cars in Italy and the <a href="https://en.wikipedia.org/wiki/Balkans#Definitions_and_boundaries">Balkan countries</a> Bulgaria, Greece, and Romania have similar directions requests patterns:</p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Bulgaria-small.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Bulgaria-small.png"></a></p>
<p>(The similarities can be explained with at least a few “obvious” facts, but we are going to restrain ourselves.)</p>
<h3 id="the-new-york-times-data-search-engine-examples">The New York Times data search engine examples</h3>
<p>In Broward county, Florida, USA and Cook county, Illinois, USA we can see two waves of infections in the difference time series:</p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-Diff-Cases-Florida-Broward.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-Diff-Cases-Florida-Broward-small.png"></a></p>
<p><a href="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-Diff-Cases-Illinois-Cook.png"><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-Diff-Cases-Illinois-Cook-small.png"></a></p>
<h2 id="references">References</h2>
<h3 id="data-1">Data</h3>
<p>[APPL1] Apple Inc., <a href="https://www.apple.com/covid19/mobility">Mobility Trends Reports</a>, (2020), <a href="https://www.apple.com">apple.com</a>.</p>
<p>[NYT1] The New York Times, <a href="https://github.com/nytimes/covid-19-data">Coronavirus (Covid-19) Data in the United States</a>, (2020), GitHub.</p>
<p>[WRI1] Wolfram Research (2008), <a href="https://reference.wolfram.com/language/ref/WeatherData.html">WeatherData</a>, Wolfram Language function.</p>
<h3 id="articles">Articles</h3>
<p>[AA1] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/Apple-mobility-trends-data-visualization.md">“Apple mobility trends data visualization (for COVID-19)”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA2] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/NYTimes-COVID-19-data-visualization.md">“NY Times COVID-19 data visualization”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[INSEE1] Institut national de la statistique et des études économiques, <a href="https://www.insee.fr/fr/statistiques/1281344">“En 2010, les salariés ont pris en moyenne six semaines de congé”</a>, (2012).</p>
<p>[SS1] Sam Schechner and Lee Harris, <a href="https://www.wsj.com/articles/what-happens-when-all-of-france-takes-vacation-438-miles-of-traffic-11564600399">“What Happens When All of France Takes Vacation? 438 Miles of Traffic”</a>, (2019), <a href="https://www.wsj.com/">The Wall Street Journal</a></p>
<h3 id="packages-repositories">Packages, repositories</h3>
<p>[AAp1] Anton Antonov, <a href="https://github.com/antononcube/R-packages/tree/master/SparseMatrixRecommender">Sparse Matrix Recommender framework functions</a>, (2019), <a href="https://github.com/antononcube/R-packages">R-packages at GitHub/antononcube</a>.</p>
<p>[AAp2] Anton Antonov, <a href="https://github.com/antononcube/R-packages/tree/master/SparseMatrixRecommenderInterfaces">Sparse Matrix Recommender framework interface functions</a>, (2019), <a href="https://github.com/antononcube/R-packages">R-packages at GitHub/antononcube</a>.</p>
<p>[AAr1] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/tree/master/Projects/Coronavirus-propagation-dynamics">Coronavirus propagation dynamics</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2021/01/27/time-series-search-engines-over-covid-19-data/feed/</wfw:commentRss>
			<slash:comments>0</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2021/01/appletsse-trends-upanddown-walking.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2021/01/appletsse-trends-upanddown-walking.png" medium="image">
			<media:title type="html">AppleTSSE-Trends-UpAndDown-walking</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/Time-series-search-engine-over-COVID-19-data-small.png" medium="image">
			<media:title type="html">TSSMRFlowChart</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-at-start-small.png" medium="image">
			<media:title type="html">AppleTSSENNs</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-Trends-at-start-small.png" medium="image">
			<media:title type="html">AppleTSSETrends</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-at-start-small.png" medium="image">
			<media:title type="html">NYTTSSENNs</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-Trends-at-start-small.png" medium="image">
			<media:title type="html">NYTTSSETrends</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Nice-small.png" medium="image" />

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-transit-Nice-small.png" medium="image" />

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-walking-Nice-small.png" medium="image" />

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Florida-small.png" medium="image" />

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/AppleTSSE-NNs-driving-Bulgaria-small.png" medium="image" />

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-Diff-Cases-Florida-Broward-small.png" medium="image" />

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Time-series-search-engines-over-COVID-19-data/NYTTSSE-NNs-Diff-Cases-Illinois-Cook-small.png" medium="image" />
	</item>
		<item>
		<title>NY Times COVID-19 data visualization (Update)</title>
		<link>https://mathematicaforprediction.wordpress.com/2021/01/15/ny-times-covid-19-data-visualization-update/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2021/01/15/ny-times-covid-19-data-visualization-update/#comments</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Fri, 15 Jan 2021 14:19:41 +0000</pubDate>
				<category><![CDATA[COVID-19]]></category>
		<category><![CDATA[Data analysis]]></category>
		<category><![CDATA[Data Science]]></category>
		<category><![CDATA[Data visualization]]></category>
		<category><![CDATA[Epidemiology modeling]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1185</guid>

					<description><![CDATA[The purpose of this notebook is to give data locations, data ingestion code, and code for rudimentary analysis and visualization of COVID-19 data provided by New York Times, [NYT1].]]></description>
										<content:encoded><![CDATA[<h2 id="introduction">Introduction</h2>
<p><i>This post is both an update and a full-blown version of an older post &#8212; <a href="https://mathematicaforprediction.wordpress.com/2020/03/28/ny-times-covid-19-data-visualization/">&#8220;NY Times COVID-19 data visualization&#8221;</a> &#8212; using NY Times COVID-19 data up to 2021-01-13.</i></p>
<p>The purpose of this document/notebook is to give data locations, data ingestion code, and code for rudimentary analysis and visualization of COVID-19 data provided by New York Times, [NYT1].</p>
<p>The following steps are taken:</p>
<ul>
<li>Ingest data
<ul>
<li>Take COVID-19 data from The New York Times, based on reports from state and local health agencies, [NYT1].</li>
<li>Take USA counties records data (FIPS codes, geo-coordinates, populations), [WRI1].</li>
</ul>
</li>
<li>Merge the data.</li>
<li>Make data summaries and related plots.</li>
<li>Make corresponding geo-plots.</li>
<li>Do “out of the box” time series forecast.</li>
<li>Analyze fluctuations around time series trends.</li>
</ul>
<p>Note that other, older repositories with COVID-19 data exist, like, [JH1, VK1].</p>
<p><strong>Remark:</strong> The time series section is done for illustration purposes only. The forecasts there should not be taken seriously.</p>
<h2 id="import-data">Import data</h2>
<h3 id="nytimes-usa-states-data">NYTimes USA states data</h3>
<div class="sourceCode" id="cb1">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true"></a>dsNYDataStates = ResourceFunction["ImportCSVToDataset"]["https://raw.githubusercontent.com/nytimes/covid<span class="dv">-19</span>-data/master/us-states.csv"];</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true"></a>dsNYDataStates = dsNYDataStates[<span class="fu">All</span>, AssociationThread[Capitalize /@ Keys[#], Values[#]] &amp;];</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true"></a>dsNYDataStates[[<span class="dv">1</span> ;; <span class="dv">6</span>]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/18qzu6j67rb6y.png" alt="18qzu6j67rb6y"><figcaption aria-hidden="true">18qzu6j67rb6y</figcaption></figure>
<div class="sourceCode" id="cb2">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true"></a>ResourceFunction["RecordsSummary"][dsNYDataStates]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0eh58fau8y8r1.png" alt="0eh58fau8y8r1"><figcaption aria-hidden="true">0eh58fau8y8r1</figcaption></figure>
<h3 id="nytimes-usa-counties-data">NYTimes USA counties data</h3>
<div class="sourceCode" id="cb3">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true"></a>dsNYDataCounties = ResourceFunction["ImportCSVToDataset"]["https://raw.githubusercontent.com/nytimes/covid<span class="dv">-19</span>-data/master/us-counties.csv"];</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true"></a>dsNYDataCounties = dsNYDataCounties[<span class="fu">All</span>, AssociationThread[Capitalize /@ Keys[#], Values[#]] &amp;];</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true"></a>dsNYDataCounties[[<span class="dv">1</span> ;; <span class="dv">6</span>]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1cpd9bx9xi71h.png" alt="1cpd9bx9xi71h"><figcaption aria-hidden="true">1cpd9bx9xi71h</figcaption></figure>
<div class="sourceCode" id="cb4">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true"></a>ResourceFunction["RecordsSummary"][dsNYDataCounties]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1elzwfv0fe32k.png" alt="1elzwfv0fe32k"><figcaption aria-hidden="true">1elzwfv0fe32k</figcaption></figure>
<h3 id="us-county-records">US county records</h3>
<div class="sourceCode" id="cb5">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true"></a>dsUSACountyData = ResourceFunction["ImportCSVToDataset"]["https://raw.githubusercontent.com/antononcube/SystemModeling/master/Data/dfUSACountyRecords.csv"];</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true"></a>dsUSACountyData = dsUSACountyData[<span class="fu">All</span>, <span class="fu">Join</span>[#, &lt;|"FIPS" -&gt; <span class="fu">ToExpression</span>[#FIPS]|&gt;] &amp;];</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true"></a>dsUSACountyData[[<span class="dv">1</span> ;; <span class="dv">6</span>]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0ycsuwd577vov.png" alt="0ycsuwd577vov"><figcaption aria-hidden="true">0ycsuwd577vov</figcaption></figure>
<div class="sourceCode" id="cb6">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true"></a>ResourceFunction["RecordsSummary"][dsUSACountyData]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0tqfkpq6gxui9.png" alt="0tqfkpq6gxui9"><figcaption aria-hidden="true">0tqfkpq6gxui9</figcaption></figure>
<h2 id="merge-data">Merge data</h2>
<p>Verify that the two datasets have common FIPS codes:</p>
<div class="sourceCode" id="cb7">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true"></a><span class="fu">Length</span>[<span class="fu">Intersection</span>[<span class="fu">Normal</span>[dsUSACountyData[<span class="fu">All</span>, "FIPS"]], <span class="fu">Normal</span>[dsNYDataCounties[<span class="fu">All</span>, "Fips"]]]]</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true"></a></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true"></a>(*<span class="dv">3133</span>*)</span></code></pre>
</div>
<p>Merge the datasets:</p>
<div class="sourceCode" id="cb8">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true"></a>dsNYDataCountiesExtended = Dataset[JoinAcross[<span class="fu">Normal</span>[dsNYDataCounties], <span class="fu">Normal</span>[dsUSACountyData[<span class="fu">All</span>, {"FIPS", "Lat", "Lon", "Population"}]], Key["Fips"] -&gt; Key["FIPS"]]];</span></code></pre>
</div>
<p>Add a “DateObject” column and (reverse) sort by date:</p>
<div class="sourceCode" id="cb9">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true"></a>dsNYDataCountiesExtended = dsNYDataCountiesExtended[<span class="fu">All</span>, <span class="fu">Join</span>[&lt;|"DateObject" -&gt; DateObject[#Date]|&gt;, #] &amp;];</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true"></a>dsNYDataCountiesExtended = dsNYDataCountiesExtended[ReverseSortBy[#DateObject &amp;]];</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true"></a>dsNYDataCountiesExtended[[<span class="dv">1</span> ;; <span class="dv">6</span>]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/09o5nw7dv2wba.png" alt="09o5nw7dv2wba"><figcaption aria-hidden="true">09o5nw7dv2wba</figcaption></figure>
<h2 id="basic-data-analysis">Basic data analysis</h2>
<p>We consider cases and deaths for the last date only. (The queries can be easily adjusted for other dates.)</p>
<div class="sourceCode" id="cb10">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true"></a>dfQuery = dsNYDataCountiesExtended[<span class="fu">Select</span>[#Date == dsNYDataCountiesExtended[<span class="dv">1</span>, "Date"] &amp;], {"FIPS", "Cases", "Deaths"}];</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true"></a>dfQuery = dfQuery[<span class="fu">All</span>, <span class="fu">Prepend</span>[#, "FIPS" -&gt; <span class="fu">ToString</span>[#FIPS]] &amp;];</span></code></pre>
</div>
<div class="sourceCode" id="cb11">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true"></a><span class="fu">Total</span>[dfQuery[<span class="fu">All</span>, {"Cases", "Deaths"}]]</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true"></a>(*&lt;|"Cases" -&gt; <span class="dv">22387340</span>, "Deaths" -&gt; <span class="dv">355736</span>|&gt;*)</span></code></pre>
</div>
<p>Here is the summary of the values of cases and deaths across the different USA counties:</p>
<div class="sourceCode" id="cb12">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true"></a>ResourceFunction["RecordsSummary"][dfQuery]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1kdnmrlhe4srx.png" alt="1kdnmrlhe4srx"><figcaption aria-hidden="true">1kdnmrlhe4srx</figcaption></figure>
<p>The following table of plots shows the distributions of cases and deaths and the corresponding <a href="https://en.wikipedia.org/wiki/Pareto_principle">Pareto principle</a> adherence plots:</p>
<div class="sourceCode" id="cb13">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true"></a>opts = {<span class="fu">PlotRange</span> -&gt; <span class="fu">All</span>, <span class="fu">ImageSize</span> -&gt; <span class="fu">Medium</span>};</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true"></a><span class="fu">Rasterize</span>[<span class="fu">Grid</span>[</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true"></a>   <span class="fu">Function</span>[{columnName}, </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true"></a>     {<span class="fu">Histogram</span>[<span class="fu">Log10</span>[#], <span class="fu">PlotLabel</span> -&gt; <span class="fu">Row</span>[{<span class="fu">Log10</span>, <span class="fu">Spacer</span>[<span class="dv">3</span>], columnName}], opts], ResourceFunction["ParetoPrinciplePlot"][#, <span class="fu">PlotLabel</span> -&gt; columnName, opts]} &amp;@Normal[dfQuery[<span class="fu">All</span>, columnName]] </span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true"></a>    ] /@ {"Cases", "Deaths"}, </span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true"></a>   <span class="fu">Dividers</span> -&gt; <span class="fu">All</span>, <span class="fu">FrameStyle</span> -&gt; <span class="fu">GrayLevel</span>[<span class="dv">0</span><span class="fl">.7</span>]]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/13l8k7qfbkr3q.png" alt="13l8k7qfbkr3q"><figcaption aria-hidden="true">13l8k7qfbkr3q</figcaption></figure>
<p>A couple of observations:</p>
<ul>
<li>The logarithms of the cases and deaths have nearly Normal or Logistic distributions.</li>
<li>Typical manifestation of the Pareto principle: <span class="math inline">80</span>% of the cases and deaths are registered in <span class="math inline">20</span>% of the counties.</li>
</ul>
<p><strong>Remark:</strong> The top <span class="math inline">20</span>% counties of the cases are not necessarily the same as the top <span class="math inline">20</span>% counties of the deaths.</p>
<h3 id="distributions">Distributions</h3>
<p>Here we find the distributions that correspond to the cases and deaths (using <a href="https://reference.wolfram.com/language/ref/FindDistribution.html"><code>FindDistribution</code></a> ):</p>
<div class="sourceCode" id="cb14">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true"></a>ResourceFunction["GridTableForm"][<span class="fu">List</span> @@@ <span class="fu">Map</span>[<span class="fu">Function</span>[{columnName}, </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true"></a>     columnName -&gt; FindDistribution[N@Log10[<span class="fu">Select</span>[#, # &gt; <span class="dv">0</span> &amp;]]] &amp;@Normal[dfQuery[<span class="fu">All</span>, columnName]] </span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true"></a>    ], {"Cases", "Deaths"}], <span class="fu">TableHeadings</span> -&gt; {"Data", "Distribution"}]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/10hkfowjmj6oh.png" alt="10hkfowjmj6oh"><figcaption aria-hidden="true">10hkfowjmj6oh</figcaption></figure>
<h3 id="pareto-principle-locations">Pareto principle locations</h3>
<p>The following query finds the intersection between that for the top <span class="math inline">600</span> Pareto principle locations for the cases and deaths:</p>
<div class="sourceCode" id="cb15">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true"></a><span class="fu">Length</span>[<span class="fu">Intersection</span> @@ <span class="fu">Map</span>[<span class="fu">Function</span>[{columnName}, Keys[TakeLargest[Normal@dfQuery[Association, #FIPS -&gt; #[columnName] &amp;], <span class="dv">600</span>]]], {"Cases", "Deaths"}]]</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true"></a>(*<span class="dv">516</span>*)</span></code></pre>
</div>
<h2 id="geo-histogram">Geo-histogram</h2>
<div class="sourceCode" id="cb16">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true"></a>lsAllDates = <span class="fu">Union</span>[<span class="fu">Normal</span>[dsNYDataCountiesExtended[<span class="fu">All</span>, "Date"]]];</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true"></a>lsAllDates // <span class="fu">Length</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true"></a></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true"></a>(*<span class="dv">359</span>*)</span></code></pre>
</div>
<div class="sourceCode" id="cb17">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true"></a><span class="fu">Manipulate</span>[</span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true"></a>  <span class="fu">DynamicModule</span>[{ds = dsNYDataCountiesExtended[<span class="fu">Select</span>[#Date == datePick &amp;]]}, </span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true"></a>   GeoHistogram[</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true"></a>    <span class="fu">Normal</span>[ds[<span class="fu">All</span>, {"Lat", "Lon"}][<span class="fu">All</span>, Values]] -&gt; <span class="fu">N</span>[<span class="fu">Normal</span>[ds[<span class="fu">All</span>, columnName]]], </span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true"></a>    Quantity[<span class="dv">150</span>, "Miles"], <span class="fu">PlotLabel</span> -&gt; columnName, PlotLegends -&gt; <span class="fu">Automatic</span>, <span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>, GeoProjection -&gt; "Equirectangular"] </span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true"></a>  ], </span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true"></a>  {{columnName, "Cases", "Data type:"}, {"Cases", "Deaths"}}, </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true"></a>  {{datePick, <span class="fu">Last</span>[lsAllDates], "Date:"}, lsAllDates}]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1egny238t830i.png" alt="1egny238t830i"><figcaption aria-hidden="true">1egny238t830i</figcaption></figure>
<h2 id="heat-map-plots">Heat-map plots</h2>
<p>An alternative of the geo-visualization is to use a heat-map plot. Here we use the package <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/Misc/HeatmapPlot.m">“HeatmapPlot.m”</a>, [AAp1].</p>
<div class="sourceCode" id="cb18">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true"></a><span class="fu">Import</span>["https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/Misc/HeatmapPlot.m"]</span></code></pre>
</div>
<h3 id="cases">Cases</h3>
<p>Cross-tabulate states with dates over cases:</p>
<div class="sourceCode" id="cb19">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true"></a>matSDC = ResourceFunction["CrossTabulate"][dsNYDataStates[<span class="fu">All</span>, {"State", "Date", "Cases"}], "Sparse" -&gt; <span class="fu">True</span>];</span></code></pre>
</div>
<p>Make a heat-map plot by sorting the columns of the cross-tabulation matrix (that correspond to states):</p>
<div class="sourceCode" id="cb20">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true"></a>HeatmapPlot[matSDC, <span class="fu">DistanceFunction</span> -&gt; {<span class="fu">EuclideanDistance</span>, <span class="fu">None</span>}, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">2</span>, <span class="fu">ImageSize</span> -&gt; <span class="dv">1000</span>]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1lmgbj4mq4wx9.png" alt="1lmgbj4mq4wx9"><figcaption aria-hidden="true">1lmgbj4mq4wx9</figcaption></figure>
<h3 id="deaths">Deaths</h3>
<p>Cross-tabulate states with dates over deaths and plot:</p>
<div class="sourceCode" id="cb21">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true"></a>matSDD = ResourceFunction["CrossTabulate"][dsNYDataStates[<span class="fu">All</span>, {"State", "Date", "Deaths"}], "Sparse" -&gt; <span class="fu">True</span>];</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true"></a>HeatmapPlot[matSDD, <span class="fu">DistanceFunction</span> -&gt; {<span class="fu">EuclideanDistance</span>, <span class="fu">None</span>}, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">2</span>, <span class="fu">ImageSize</span> -&gt; <span class="dv">1000</span>]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0g2oziu9g4a8d.png" alt="0g2oziu9g4a8d"><figcaption aria-hidden="true">0g2oziu9g4a8d</figcaption></figure>
<h2 id="time-series-analysis">Time series analysis</h2>
<h3 id="cases-1">Cases</h3>
<h4 id="time-series">Time series</h4>
<p>For each date sum all cases over the states, make a time series, and plot it:</p>
<div class="sourceCode" id="cb22">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true"></a>tsCases = TimeSeries@(<span class="fu">List</span> @@@ <span class="fu">Normal</span>[GroupBy[<span class="fu">Normal</span>[dsNYDataCountiesExtended], #DateObject &amp;, <span class="fu">Total</span>[#Cases &amp; /@ #] &amp;]]);</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true"></a>opts = {PlotTheme -&gt; "Detailed", <span class="fu">PlotRange</span> -&gt; <span class="fu">All</span>, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">4</span>,<span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>};</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true"></a><span class="fu">DateListPlot</span>[tsCases, <span class="fu">PlotLabel</span> -&gt; "Cases", opts]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1i9aypjaqxdm0.png" alt="1i9aypjaqxdm0"><figcaption aria-hidden="true">1i9aypjaqxdm0</figcaption></figure>
<div class="sourceCode" id="cb23">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true"></a>ResourceFunction["RecordsSummary"][tsCases["Path"]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1t61q3iuq40zn.png" alt="1t61q3iuq40zn"><figcaption aria-hidden="true">1t61q3iuq40zn</figcaption></figure>
<p>Logarithmic plot:</p>
<div class="sourceCode" id="cb24">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true"></a><span class="fu">DateListPlot</span>[<span class="fu">Log10</span>[tsCases], <span class="fu">PlotLabel</span> -&gt; <span class="fu">Row</span>[{<span class="fu">Log10</span>, <span class="fu">Spacer</span>[<span class="dv">3</span>], "Cases"}], opts]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0r01nxd19xj1x.png" alt="0r01nxd19xj1x"><figcaption aria-hidden="true">0r01nxd19xj1x</figcaption></figure>
<h4 id="forecast">“Forecast”</h4>
<p>Fit a time series model to log 10 of the time series:</p>
<div class="sourceCode" id="cb25">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true"></a>tsm = TimeSeriesModelFit[<span class="fu">Log10</span>[tsCases]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1gz0j2673707m.png" alt="1gz0j2673707m"><figcaption aria-hidden="true">1gz0j2673707m</figcaption></figure>
<p>Plot log 10 data and forecast:</p>
<div class="sourceCode" id="cb26">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true"></a><span class="fu">DateListPlot</span>[{tsm["TemporalData"], TimeSeriesForecast[tsm, {<span class="dv">10</span>}]}, opts, PlotLegends -&gt; {"Data", "Forecast"}]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/10vx2ydgcpq0c.png" alt="10vx2ydgcpq0c"><figcaption aria-hidden="true">10vx2ydgcpq0c</figcaption></figure>
<p>Plot data and forecast:</p>
<div class="sourceCode" id="cb27">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true"></a><span class="fu">DateListPlot</span>[{tsCases, <span class="dv">10</span>^TimeSeriesForecast[tsm, {<span class="dv">10</span>}]}, opts, PlotLegends -&gt; {"Data", "Forecast"}]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/04qu24g27fzi6.png" alt="04qu24g27fzi6"><figcaption aria-hidden="true">04qu24g27fzi6</figcaption></figure>
<h3 id="deaths-1">Deaths</h3>
<h4 id="time-series-1">Time series</h4>
<p>For each date sum all cases over the states, make a time series, and plot it:</p>
<div class="sourceCode" id="cb28">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true"></a>tsDeaths = TimeSeries@(<span class="fu">List</span> @@@ <span class="fu">Normal</span>[GroupBy[<span class="fu">Normal</span>[dsNYDataCountiesExtended], #DateObject &amp;, <span class="fu">Total</span>[#Deaths &amp; /@ #] &amp;]]);</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true"></a>opts = {PlotTheme -&gt; "Detailed", <span class="fu">PlotRange</span> -&gt; <span class="fu">All</span>, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">4</span>,<span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>};</span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true"></a><span class="fu">DateListPlot</span>[tsDeaths, <span class="fu">PlotLabel</span> -&gt; "Deaths", opts]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1uc6wpre2zxl3.png" alt="1uc6wpre2zxl3"><figcaption aria-hidden="true">1uc6wpre2zxl3</figcaption></figure>
<div class="sourceCode" id="cb29">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true"></a>ResourceFunction["RecordsSummary"][tsDeaths["Path"]]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1olawss0k1gvd.png" alt="1olawss0k1gvd"><figcaption aria-hidden="true">1olawss0k1gvd</figcaption></figure>
<h4 id="forecast-1">“Forecast”</h4>
<p>Fit a time series model:</p>
<div class="sourceCode" id="cb30">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true"></a>tsm = TimeSeriesModelFit[tsDeaths, "ARMA"]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0e5p4c2hxhahd.png" alt="0e5p4c2hxhahd"><figcaption aria-hidden="true">0e5p4c2hxhahd</figcaption></figure>
<p>Plot data and forecast:</p>
<div class="sourceCode" id="cb31">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true"></a><span class="fu">DateListPlot</span>[{tsm["TemporalData"], TimeSeriesForecast[tsm, {<span class="dv">10</span>}]}, opts, PlotLegends -&gt; {"Data", "Forecast"}]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/06uurgguaxyg9.png" alt="06uurgguaxyg9"><figcaption aria-hidden="true">06uurgguaxyg9</figcaption></figure>
<h2 id="fluctuations">Fluctuations</h2>
<p>We want to see does the time series data have fluctuations around its trends and estimate the distributions of those fluctuations. (Knowing those distributions some further studies can be done.)</p>
<p>This can be efficiently using the software monad <code>QRMon</code>, [<a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/MonadicQuantileRegression.m">AAp2</a>, AA1]. Here we load the <code>QRMon</code> package:</p>
<div class="sourceCode" id="cb32">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true"></a><span class="fu">Import</span>["https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MonadicProgramming/MonadicQuantileRegression.m"]</span></code></pre>
</div>
<h3 id="fluctuations-presence">Fluctuations presence</h3>
<p>Here we plot the consecutive differences of the cases:</p>
<div class="sourceCode" id="cb33">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true"></a><span class="fu">DateListPlot</span>[<span class="fu">Differences</span>[tsCases], <span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">4</span>, <span class="fu">PlotRange</span> -&gt; <span class="fu">All</span>]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1typufai7chn8.png" alt="1typufai7chn8"><figcaption aria-hidden="true">1typufai7chn8</figcaption></figure>
<p>Here we plot the consecutive differences of the deaths:</p>
<div class="sourceCode" id="cb34">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true"></a><span class="fu">DateListPlot</span>[<span class="fu">Differences</span>[tsDeaths], <span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">4</span>, <span class="fu">PlotRange</span> -&gt; <span class="fu">All</span>]</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0wqagqqfj3p7l.png" alt="0wqagqqfj3p7l"><figcaption aria-hidden="true">0wqagqqfj3p7l</figcaption></figure>
<p>From the plots we see that time series are not monotonically increasing, and there are non-trivial fluctuations in the data.</p>
<h3 id="absolute-and-relative-errors-distributions">Absolute and relative errors distributions</h3>
<p>Here we take interesting part of the cases data:</p>
<div class="sourceCode" id="cb35">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true"></a>tsData = TimeSeriesWindow[tsCases, {{<span class="dv">2020</span>, <span class="dv">5</span>, <span class="dv">1</span>}, {<span class="dv">2020</span>, <span class="dv">12</span>, <span class="dv">31</span>}}];</span></code></pre>
</div>
<p>Here we specify QRMon workflow that rescales the data, fits a B-spline curve to get the trend, and finds the absolute and relative errors (residuals, fluctuations) around that trend:</p>
<div class="sourceCode" id="cb36">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true"></a>qrObj = </span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true"></a>   QRMonUnit[tsData]⟹</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true"></a>    QRMonEchoDataSummary⟹</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true"></a>    QRMonRescale[<span class="fu">Axes</span> -&gt; {<span class="fu">False</span>, <span class="fu">True</span>}]⟹</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true"></a>    QRMonEchoDataSummary⟹</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true"></a>    QRMonQuantileRegression[<span class="dv">16</span>, <span class="dv">0</span><span class="fl">.5</span>]⟹</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true"></a>    QRMonSetRegressionFunctionsPlotOptions[{<span class="fu">PlotStyle</span> -&gt; <span class="fu">Red</span>}]⟹</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true"></a>    QRMonDateListPlot[<span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">4</span>, <span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>]⟹</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true"></a>    QRMonErrorPlots["RelativeErrors" -&gt; <span class="fu">False</span>, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">4</span>, <span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>, <span class="fu">DateListPlot</span> -&gt; <span class="fu">True</span>]⟹</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true"></a>    QRMonErrorPlots["RelativeErrors" -&gt; <span class="fu">True</span>, <span class="fu">AspectRatio</span> -&gt; <span class="dv">1</span>/<span class="dv">4</span>, <span class="fu">ImageSize</span> -&gt; <span class="fu">Large</span>, <span class="fu">DateListPlot</span> -&gt; <span class="fu">True</span>];</span></code></pre>
</div>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0mcebeqra4iqj.png" alt="0mcebeqra4iqj"><figcaption aria-hidden="true">0mcebeqra4iqj</figcaption></figure>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0lz7fflyitth2.png" alt="0lz7fflyitth2"><figcaption aria-hidden="true">0lz7fflyitth2</figcaption></figure>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0ke1wkttei4a3.png" alt="0ke1wkttei4a3"><figcaption aria-hidden="true">0ke1wkttei4a3</figcaption></figure>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0smqxx82ytyjq.png" alt="0smqxx82ytyjq"><figcaption aria-hidden="true">0smqxx82ytyjq</figcaption></figure>
<figure>
<img src="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1ct1s3qemddsi.png" alt="1ct1s3qemddsi"><figcaption aria-hidden="true">1ct1s3qemddsi</figcaption></figure>
<p>Here we find the distribution of the absolute errors (fluctuations) using <a href="https://reference.wolfram.com/language/ref/FindDistribution.html"><code>FindDistribution</code></a>:</p>
<div class="sourceCode" id="cb37">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true"></a>lsNoise = (qrObj⟹QRMonErrors["RelativeErrors" -&gt; <span class="fu">False</span>]⟹QRMonTakeValue)[<span class="dv">0</span><span class="fl">.5</span>];</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true"></a>FindDistribution[lsNoise[[<span class="fu">All</span>, <span class="dv">2</span>]]]</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true"></a></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true"></a>(*<span class="fu">CauchyDistribution</span>[<span class="dv">6</span><span class="fl">.0799</span>*<span class="dv">10</span>^-<span class="dv">6</span>, <span class="dv">0</span><span class="fl">.000331709</span>]*)</span></code></pre>
</div>
<p>Absolute errors distributions for the last <span class="math inline">90</span> days:</p>
<div class="sourceCode" id="cb38">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true"></a>lsNoise = (qrObj⟹QRMonErrors["RelativeErrors" -&gt; <span class="fu">False</span>]⟹QRMonTakeValue)[<span class="dv">0</span><span class="fl">.5</span>];</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true"></a>FindDistribution[lsNoise[[-<span class="dv">90</span> ;; <span class="dv">-1</span>, <span class="dv">2</span>]]]</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true"></a></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true"></a>(*<span class="fu">ExtremeValueDistribution</span>[-<span class="dv">0</span><span class="fl">.000996315</span>, <span class="dv">0</span><span class="fl">.00207593</span>]*)</span></code></pre>
</div>
<p>Here we find the distribution of the of the relative errors:</p>
<div class="sourceCode" id="cb39">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true"></a>lsNoise = (qrObj⟹QRMonErrors["RelativeErrors" -&gt; <span class="fu">True</span>]⟹QRMonTakeValue)[<span class="dv">0</span><span class="fl">.5</span>];</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true"></a>FindDistribution[lsNoise[[<span class="fu">All</span>, <span class="dv">2</span>]]]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true"></a>(*<span class="fu">StudentTDistribution</span>[<span class="dv">0</span><span class="fl">.0000511326</span>, <span class="dv">0</span><span class="fl">.00244023</span>, <span class="dv">1</span><span class="fl">.59364</span>]*)</span></code></pre>
</div>
<p>Relative errors distributions for the last <span class="math inline">90</span> days:</p>
<div class="sourceCode" id="cb40">
<pre class="sourceCode mathematica"><code class="sourceCode mathematica"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true"></a>lsNoise = (qrObj⟹QRMonErrors["RelativeErrors" -&gt; <span class="fu">True</span>]⟹QRMonTakeValue)[<span class="dv">0</span><span class="fl">.5</span>];</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true"></a>FindDistribution[lsNoise[[-<span class="dv">90</span> ;; <span class="dv">-1</span>, <span class="dv">2</span>]]]</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true"></a>(*<span class="fu">NormalDistribution</span>[<span class="dv">9</span><span class="fl">.66949</span>*<span class="dv">10</span>^-<span class="dv">6</span>, <span class="dv">0</span><span class="fl">.00394395</span>]*)</span></code></pre>
</div>
<h2 id="references">References</h2>
<p>[NYT1] The New York Times, <a href="https://github.com/nytimes/covid-19-data">Coronavirus (Covid-19) Data in the United States</a>, (2020), GitHub.</p>
<p>[WRI1] Wolfram Research Inc., <a href="https://github.com/antononcube/SystemModeling/blob/master/Data/dfUSACountyRecords.csv">USA county records</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">System Modeling at GitHub</a>.</p>
<p>[JH1] CSSE at Johns Hopkins University, <a href="https://github.com/CSSEGISandData/COVID-19">COVID-19</a>, (2020), GitHub.</p>
<p>[VK1] Vitaliy Kaurov, <a href="https://community.wolfram.com/groups/-/m/t/1872608">Resources For Novel Coronavirus COVID-19</a>, (2020), <a href="https://community.wolfram.com">community.wolfram.com</a>.</p>
<p>[AA1] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2018/08/01/a-monad-for-quantile-regression-workflows/">“A monad for Quantile Regression workflows”</a>, (2018), at <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction WordPress</a>.</p>
<p>[AAp1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/Misc/HeatmapPlot.m">Heatmap plot Mathematica package</a>, (2018), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediciton at GitHub</a>.</p>
<p>[AAp2] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/MonadicQuantileRegression.m">Monadic Quantile Regression Mathematica package</a>, (2018), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediciton at GitHub</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2021/01/15/ny-times-covid-19-data-visualization-update/feed/</wfw:commentRss>
			<slash:comments>3</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2021/01/1egny238t830i.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2021/01/1egny238t830i.png" medium="image">
			<media:title type="html">1egny238t830i</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/18qzu6j67rb6y.png" medium="image">
			<media:title type="html">18qzu6j67rb6y</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0eh58fau8y8r1.png" medium="image">
			<media:title type="html">0eh58fau8y8r1</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1cpd9bx9xi71h.png" medium="image">
			<media:title type="html">1cpd9bx9xi71h</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1elzwfv0fe32k.png" medium="image">
			<media:title type="html">1elzwfv0fe32k</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0ycsuwd577vov.png" medium="image">
			<media:title type="html">0ycsuwd577vov</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0tqfkpq6gxui9.png" medium="image">
			<media:title type="html">0tqfkpq6gxui9</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/09o5nw7dv2wba.png" medium="image">
			<media:title type="html">09o5nw7dv2wba</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1kdnmrlhe4srx.png" medium="image">
			<media:title type="html">1kdnmrlhe4srx</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/13l8k7qfbkr3q.png" medium="image">
			<media:title type="html">13l8k7qfbkr3q</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/10hkfowjmj6oh.png" medium="image">
			<media:title type="html">10hkfowjmj6oh</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1egny238t830i.png" medium="image">
			<media:title type="html">1egny238t830i</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1lmgbj4mq4wx9.png" medium="image">
			<media:title type="html">1lmgbj4mq4wx9</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0g2oziu9g4a8d.png" medium="image">
			<media:title type="html">0g2oziu9g4a8d</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1i9aypjaqxdm0.png" medium="image">
			<media:title type="html">1i9aypjaqxdm0</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1t61q3iuq40zn.png" medium="image">
			<media:title type="html">1t61q3iuq40zn</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0r01nxd19xj1x.png" medium="image">
			<media:title type="html">0r01nxd19xj1x</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1gz0j2673707m.png" medium="image">
			<media:title type="html">1gz0j2673707m</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/10vx2ydgcpq0c.png" medium="image">
			<media:title type="html">10vx2ydgcpq0c</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/04qu24g27fzi6.png" medium="image">
			<media:title type="html">04qu24g27fzi6</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1uc6wpre2zxl3.png" medium="image">
			<media:title type="html">1uc6wpre2zxl3</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1olawss0k1gvd.png" medium="image">
			<media:title type="html">1olawss0k1gvd</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0e5p4c2hxhahd.png" medium="image">
			<media:title type="html">0e5p4c2hxhahd</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/06uurgguaxyg9.png" medium="image">
			<media:title type="html">06uurgguaxyg9</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1typufai7chn8.png" medium="image">
			<media:title type="html">1typufai7chn8</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0wqagqqfj3p7l.png" medium="image">
			<media:title type="html">0wqagqqfj3p7l</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0mcebeqra4iqj.png" medium="image">
			<media:title type="html">0mcebeqra4iqj</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0lz7fflyitth2.png" medium="image">
			<media:title type="html">0lz7fflyitth2</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0ke1wkttei4a3.png" medium="image">
			<media:title type="html">0ke1wkttei4a3</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/0smqxx82ytyjq.png" medium="image">
			<media:title type="html">0smqxx82ytyjq</media:title>
		</media:content>

		<media:content url="https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/NYTimes-COVID-19-data-visualization/1ct1s3qemddsi.png" medium="image">
			<media:title type="html">1ct1s3qemddsi</media:title>
		</media:content>
	</item>
		<item>
		<title>A monad for Epidemiologic Compartmental Modeling Workflows</title>
		<link>https://mathematicaforprediction.wordpress.com/2021/01/02/epidemiology-compartmental-modeling-monad/</link>
					<comments>https://mathematicaforprediction.wordpress.com/2021/01/02/epidemiology-compartmental-modeling-monad/#comments</comments>
		
		<dc:creator><![CDATA[Anton Antonov Antonov]]></dc:creator>
		<pubDate>Sat, 02 Jan 2021 00:18:41 +0000</pubDate>
				<category><![CDATA[Conversational engines]]></category>
		<category><![CDATA[dimension reduction]]></category>
		<category><![CDATA[Estimation]]></category>
		<category><![CDATA[Mathematica]]></category>
		<category><![CDATA[Mathematica vs. R]]></category>
		<category><![CDATA[Model calibration]]></category>
		<category><![CDATA[Monadic programming]]></category>
		<category><![CDATA[R]]></category>
		<category><![CDATA[Raku]]></category>
		<guid isPermaLink="false">http://mathematicaforprediction.wordpress.com/?p=1169</guid>

					<description><![CDATA[Version 0.8 Introduction In this document we describe the design and demonstrate the implementation of a (software programming) monad, [Wk1], for Epidemiology Compartmental Modeling (ECM) workflows specification and execution. The design and implementation are done with Mathematica / Wolfram Language (WL). A very similar implementation is also done in R. Monad’s name is “ECMMon”, which [&#8230;]]]></description>
										<content:encoded><![CDATA[<h3><em>Version 0.8</em></h3>
<h2 id="introduction">Introduction</h2>
<p>In this document we describe the design and demonstrate the implementation of a (software programming) monad, [<a href="https://en.wikipedia.org/wiki/Monad_(functional_programming)">Wk1</a>], for Epidemiology Compartmental Modeling (ECM) workflows specification and execution. The design and implementation are done with Mathematica / Wolfram Language (WL). A very similar implementation is also done in R.</p>
<p>Monad’s name is “ECMMon”, which stands for “<strong>E</strong>pidemiology <strong>C</strong>ompartmental <strong>M</strong>odeling <strong>Mon</strong>ad”, and its monadic implementation is based on the State monad package <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/StateMonadCodeGenerator.m">“StateMonadCodeGenerator.m”</a>, [<a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/StateMonadCodeGenerator.m">AAp1</a>, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MarkdownDocuments/Monad-code-generation-and-extension.md">AA1</a>], <code>ECMMon</code> is implemented in the package [<a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/MonadicEpidemiologyCompartmentalModeling.m">AAp8</a>], which relies on the packages [AAp3-AAp6]. The original ECM workflow discussed in [AA5] was implemented in [AAp7]. An R implementation of <code>ECMMon</code> is provided by the package [<a href="https://github.com/antononcube/ECMMon-R">AAr2</a>].</p>
<p>The goal of the monad design is to make the specification of ECM workflows (relatively) easy and straightforward by following a certain main scenario and specifying variations over that scenario.</p>
<p>We use real-life COVID-19 data, The New York Times COVID-19 data, see [<a href="https://github.com/nytimes/covid-19-data">NYT1</a>, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/NYTimes-COVID-19-data-visualization.md">AA5</a>].</p>
<p>The monadic programming design is used as a <a href="https://en.wikipedia.org/wiki/Software_design_pattern">Software Design Pattern</a>. The <code>ECMMon</code> monad can be also seen as a <a href="https://en.wikipedia.org/wiki/Domain-specific_language">Domain Specific Language</a> (DSL) for the specification and programming of epidemiological compartmental modeling workflows.</p>
<p>Here is an example of using the <code>ECMMon</code> monad over a compartmental model with two types of infected populations:</p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0ejgq885m1unt.png" alt="0ejgq885m1unt"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/14u60cftusqlc.png" alt="14u60cftusqlc"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/06grm5lhtjiv9.png" alt="06grm5lhtjiv9"></p>
<p>The table above is produced with the package <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/MonadicTracing.m">“MonadicTracing.m”</a>, [<a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/MonadicTracing.m">AAp2</a>, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MarkdownDocuments/Monad-code-generation-and-extension.md">AA1</a>], and some of the explanations below also utilize that package.</p>
<p>As it was mentioned above the monad <code>ECMMon</code> can be seen as a DSL. Because of this the monad pipelines made with <code>ECMMon</code> are sometimes called “specifications”.</p>
<h3 id="contents-description">Contents description</h3>
<p>The document has the following structure.</p>
<ul>
<li>The sections “Package load” and “Data load” obtain the needed code and data.
<ul>
<li>(Needed and put upfront from the <a href="https://en.wikipedia.org/wiki/Reproducibility#Reproducible_research">“Reproducible research”</a> point of view.)</li>
</ul>
</li>
<li>The section “Design consideration” provide motivation and design decisions rationale.</li>
<li>The section “Single site models” give brief descriptions of certain “seed” models that can be used in the monad.</li>
<li>The section “Single-site model workflow demo”, “Multi-site workflow demo” give demonstrations of how to utilize the <code>ECMMon</code> monad .
<ul>
<li>Using concrete practical scenarios and “real life” data.</li>
</ul>
</li>
<li>The section “Batch simulation and calibration process” gives methodological preparation for the content of the next two sections.</li>
<li>The section “Batch simulation workflow” and “Calibration workflow” describe how to do most important monad workflows after the model is developed.</li>
<li>The section “Future plans” outlines future directions of development.
<ul>
<li>(The most interesting and important one is the <a href="https://github.com/antononcube/ConversationalAgents/tree/master/Projects/TimeSeriesWorkflowsAgent">“conversational agent”</a> direction.)</li>
</ul>
</li>
</ul>
<p><strong>Remark:</strong> One can read only the sections “Introduction”, “Design consideration”, “Single-site models”, and “Batch simulation and calibration process”. That set of sections provide a fairly good, programming language agnostic exposition of the substance and novel ideas of this document.</p>
<h2 id="package-load">Package load</h2>
<p>In this section we load packages used in this notebook:</p>
<div class="sourceCode" id="cb1">
<pre class="sourceCode mathematica"><span id="cb1-1"><code><span class="fu">Import</span></code></span><span id="cb1-1"><code>["https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/WL/MonadicEpidemiologyCompartmentalModeling.m"];</code></span> <span id="cb1-2"><code><span class="fu">Import</span></code></span><span id="cb1-2"><code>["https://raw.githubusercontent.com/antononcube/SystemModeling/master/Projects/Coronavirus-propagation-dynamics/WL/MultiSiteModelSimulation.m"]</code></span> <span id="cb1-3"><code><span class="fu">Import</span></code></span><span id="cb1-3"><code>["https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MonadicProgramming/MonadicTracing.m"]</code></span> <span id="cb1-4"><code><span class="fu">Import</span></code></span><span id="cb1-4"><code>["https://raw.githubusercontent.com/antononcube/ConversationalAgents/master/Packages/WL/ExternalParsersHookup.m"]</code></span></pre>
</div>
<p><strong>Remark:</strong> The import commands above would trigger some other package imports.</p>
<h2 id="data-load">Data load</h2>
<p>In this section we ingest data using the “umbrella function” <code>MultiSiteModelReadData</code> from [AAp5]:</p>
<h3 id="read-data">Read data</h3>
<div class="sourceCode" id="cb2">
<pre class="sourceCode mathematica"><span id="cb2-1"><code><span class="fu">AbsoluteTiming</span></code></span><span id="cb2-1"><code>[</code></span> <span id="cb2-2"><code>  aData = MultiSiteModelReadData[]; </code></span> <span id="cb2-3"><code> ]</code></span> <code></code> <span id="cb2-5"><code>(*{</code></span><span id="cb2-5"><code><span class="dv">38</span></code></span><span id="cb2-5"><code><span class="fl">.8635</span></code></span><span id="cb2-5"><code>, </code></span><span id="cb2-5"><code><span class="fu">Null</span></code></span><span id="cb2-5"><code>}*)</code></span></pre>
</div>
<h3 id="data-summaries">Data summaries</h3>
<div class="sourceCode" id="cb3">
<pre class="sourceCode mathematica"><span id="cb3-1"><code>ResourceFunction["RecordsSummary"] /@ aData</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/01mnhk5boxlto.png" alt="01mnhk5boxlto"></p>
<h3 id="transform-data">Transform data</h3>
<p>Here we transform the population related data in a form convenient for specifying the simulations with it:</p>
<div class="sourceCode" id="cb4">
<pre class="sourceCode mathematica"><span id="cb4-1"><code>aPopulations = Association@Map[{#Lon, #Lat} -&gt; #Population &amp;, </code></span><span id="cb4-1"><code><span class="fu">Normal</span></code></span><span id="cb4-1"><code>[aData["CountyRecords"]]];</code></span> <span id="cb4-2"><code>aInfected = Association@Map[{#Lon, #Lat} -&gt; #Cases &amp;, </code></span><span id="cb4-2"><code><span class="fu">Normal</span></code></span><span id="cb4-2"><code>[aData["CasesAndDeaths"]]];</code></span> <span id="cb4-3"><code>aDead = Association@Map[{#Lon, #Lat} -&gt; #Deaths &amp;, </code></span><span id="cb4-3"><code><span class="fu">Normal</span></code></span><span id="cb4-3"><code>[aData["CasesAndDeaths"]]];</code></span></pre>
</div>
<h3 id="geo-visualizations">Geo-visualizations</h3>
<p>Using the built-in function <code>GeoHistogram</code> we summarize the USA county populations, and COViD-19 infection cases and deaths:</p>
<div class="sourceCode" id="cb5">
<pre class="sourceCode mathematica"><span id="cb5-1"><code>Row@MapThread[GeoHistogram[KeyMap[</code></span><span id="cb5-1"><code><span class="fu">Reverse</span></code></span><span id="cb5-1"><code>, #</code></span><span id="cb5-1"><code><span class="dv">1</span></code></span><span id="cb5-1"><code>], Quantity[</code></span><span id="cb5-1"><code><span class="dv">140</span></code></span><span id="cb5-1"><code>, "Miles"], </code></span><span id="cb5-1"><code><span class="fu">PlotLabel</span></code></span><span id="cb5-1"><code> -&gt; #</code></span><span id="cb5-1"><code><span class="dv">2</span></code></span><span id="cb5-1"><code>, PlotTheme -&gt; "Scientific", PlotLegends -&gt; </code></span><span id="cb5-1"><code><span class="fu">Automatic</span></code></span><span id="cb5-1"><code>, </code></span><span id="cb5-1"><code><span class="fu">ImageSize</span></code></span><span id="cb5-1"><code> -&gt; </code></span><span id="cb5-1"><code><span class="fu">Medium</span></code></span><span id="cb5-1"><code>] &amp;, {{aPopulations, aInfected, aDead}, {"Populations", "Infected", "Dead"}}]</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1km2posdmqoic.png" alt="1km2posdmqoic"></p>
<p>(Note that in the plots above we have to reverse the keys of the given population associations.)</p>
<p>Using the function <code>HextileHistogram</code> from [<a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/Misc/HextileBins.m">AAp7</a> ] here we visualize USA county populations over a hexagonal grid with cell radius 2 degrees (<span class="math inline">&#040;\approx 140&#041;</span> miles <span class="math inline">&#040;\approx 222&#041;</span> kilometers):</p>
<div class="sourceCode" id="cb6">
<pre class="sourceCode mathematica"><span id="cb6-1"><code>HextileHistogram[aPopulations, </code></span><span id="cb6-1"><code><span class="dv">2</span></code></span><span id="cb6-1"><code>, </code></span><span id="cb6-1"><code><span class="fu">PlotRange</span></code></span><span id="cb6-1"><code> -&gt; </code></span><span id="cb6-1"><code><span class="fu">All</span></code></span><span id="cb6-1"><code>, PlotLegends -&gt; </code></span><span id="cb6-1"><code><span class="fu">Automatic</span></code></span><span id="cb6-1"><code>, </code></span><span id="cb6-1"><code><span class="fu">ImageSize</span></code></span><span id="cb6-1"><code> -&gt; </code></span><span id="cb6-1"><code><span class="fu">Large</span></code></span><span id="cb6-1"><code>]</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0lqx1d453pio1.png" alt="0lqx1d453pio1"></p>
<p>In this notebook we prefer using <code>HextileHistogram</code> because it represents the simulation data in geometrically more faithful way.</p>
<h2 id="design-considerations">Design considerations</h2>
<h3 id="the-big-picture">The big picture</h3>
<p>The main purpose of the designed epidemic compartmental modeling framework (i.e.&nbsp;software monad) is to have the ability to do multiple, systematic simulations for different scenario play-outs over large scale geographical regions. The target end-users are decision makers at government level and researchers of pandemic or other large scale epidemic effects.</p>
<p>Here is a diagram that shows the envisioned big picture workflow:</p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Diagrams/Model-development-and-decision-making.jpeg" alt="Model-development-and-decision-making"></p>
<h3 id="large-scale-modeling">Large-scale modeling</h3>
<p>The standard classical compartmental epidemiology models are not adequate over large geographical areas, like, countries. We design a software framework – the monad <code>ECMMon</code> – that allows large scale simulations using a simple principle workflow:</p>
<ol type="1">
<li>Develop a <strong><em>single-site model</em></strong> for relatively densely populated geographical area for which the assumptions of the classical models (approximately) hold.</li>
<li>Extend the single-site model into a large-scale <strong><em>multi-site model</em></strong> using statistically derived traveling patterns; see [AA4].</li>
<li>Supply the multi-site model with appropriately prepared data.</li>
<li>Run multiple simulations to see large scale implications of different policies.</li>
<li>Calibrate the model to concrete observed (or faked) data. Go to 4.</li>
</ol>
<h3 id="flow-chart">Flow chart</h3>
<p>The following flow chart visualizes the possible workflows the software monad ECMMon:</p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Diagrams/ECMMon-workflow.jpg" alt="ECMMon-workflow"></p>
<h3 id="two-models-in-the-monad">Two models in the monad</h3>
<ul>
<li>An <code>ECMMon</code> object can have one or two models. One of the models is a “seed”, single-site model from [AAp1], which, if desired, is scaled into a multi-site model, [AA3, AAp2].</li>
<li>Workflows with only the single-site model are supported.
<ul>
<li>Say, workflows for doing sensitivity analysis, [AA6, BC1].</li>
</ul>
</li>
<li>Scaling of a single-site model into multi-site is supported and facilitated.</li>
<li>Workflows for the multi-site model include preliminary model scaling steps and simulation steps.</li>
<li>After the single-site model is scaled the monad functions use the multi-site model.</li>
<li>The workflows should be easy to specify and read.</li>
</ul>
<h3 id="single-site-model-workflow">Single-site model workflow</h3>
<ol type="1">
<li>Make a single-site model.</li>
<li>Assign stocks initial conditions.</li>
<li>Assign rates values.</li>
<li>Simulate.</li>
<li>Plot results.</li>
<li>Go to 2.</li>
</ol>
<h3 id="multi-site-model-workflow">Multi-site model workflow</h3>
<ol type="1">
<li>Make a single-site model.</li>
<li>Assign initial conditions and rates.</li>
<li>Scale the single-site model into a multi-site model.
<ol type="1">
<li>The single-site assigned rates become “global” when the single-site model is scaled.</li>
<li>The scaling is based on assumptions for traveling patterns of the populations.</li>
<li>There are few alternatives for that scaling:
<ol type="1">
<li>Using locations geo-coordinates</li>
<li>Using regular grids covering a certain area based on in-habited locations geo-coordinates</li>
<li>Using traveling patterns contingency matrices</li>
<li>Using “artificial” patterns of certain regular types for qualitative analysis purposes</li>
</ol>
</li>
</ol>
</li>
<li>Enhance the multi-site traveling patterns matrix and re-scale the single site model.
<ol type="1">
<li>We might want to combine traveling patterns by ground transportation with traveling patterns by airplanes.</li>
<li>For quarantine scenarios this might a less important capability of the monad.
<ol type="1">
<li>Hence, this an optional step.</li>
</ol>
</li>
</ol>
</li>
<li>Assign stocks initial conditions for each of the sites in multi-scale model.</li>
<li>Assign rates for each of the sites.</li>
<li>Simulate.</li>
<li>Plot global simulation results.</li>
<li>Plot simulation results for focus sites.</li>
</ol>
<h2 id="single-site-models">Single-site models</h2>
<p>We have a collection of single-site models that have different properties and different modeling goals, [AAp3, AA7, AA8]. Here is as diagram of a single-site model that includes hospital beds and medical supplies as limitation resources, [AA7]:</p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Diagrams/Coronavirus-propagation-simple-dynamics.jpeg" alt="Coronavirus-propagation-simple-dynamics"></p>
<h3 id="sei2hr-model">SEI2HR model</h3>
<p>In this sub-section we briefly describe the model SEI2HR, which is used in the examples below.</p>
<p><strong>Remark:</strong> SEI2HR stands for “Susceptible, Exposed, Infected Two, Hospitalized, Recovered” (populations).</p>
<p>Detailed description of the SEI2HR model is given in [AA7].</p>
<h4 id="verbal-description">Verbal description</h4>
<p>We start with one infected (normally symptomatic) person, the rest of the people are susceptible. The infected people meet other people directly or get in contact with them indirectly. (Say, susceptible people touch things touched by infected.) For each susceptible person there is a probability to get the decease. The decease has an incubation period: before becoming infected the susceptible are (merely) exposed. The infected recover after a certain average infection period or die. A certain fraction of the infected become severely symptomatic. If there are enough hospital beds the severely symptomatic infected are hospitalized. The hospitalized severely infected have different death rate than the non-hospitalized ones. The number of hospital beds might change: hospitals are extended, new hospitals are build, or there are not enough medical personnel or supplies. The deaths from infection are tracked (accumulated.) Money for hospital services and money from lost productivity are tracked (accumulated.)</p>
<p>The equations below give mathematical interpretation of the model description above.</p>
<h4 id="equations">Equations</h4>
<p>Here are the equations of one the epidemiology compartmental models, SEI2HR, [AA7], implemented in [AAp3]:</p>
<div class="sourceCode" id="cb7">
<pre class="sourceCode mathematica"><span id="cb7-1"><code>ModelGridTableForm[SEI2HRModel[</code></span><span id="cb7-1"><code><span class="fu">t</span></code></span><span id="cb7-1"><code>], "Tooltips" -&gt; </code></span><span id="cb7-1"><code><span class="fu">False</span></code></span><span id="cb7-1"><code>]["Equations"] /. {</code></span><span id="cb7-1"><code><span class="dt">eq_</span></code></span><span id="cb7-1"><code>Equal :&gt; </code></span><span id="cb7-1"><code><span class="fu">TraditionalForm</span></code></span><span id="cb7-1"><code>[eq]}</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1fjs0wfx4mrpj.png" alt="1fjs0wfx4mrpj"></p>
<p>The equations for Susceptible, Exposed, Infected, Recovered populations of SEI2R are “standard” and explanations about them are found in [WK2, HH1]. For SEI2HR those equations change because of the stocks Hospitalized Population and Hospital Beds.</p>
<p>The equations time unit is one day. The time horizon is one year. In this document we consider COVID-19, [Wk2, AA1], hence we do not consider births.</p>
<h2 id="single-site-model-workflow-demo">Single-site model workflow demo</h2>
<p>In this section we demonstrate some of the sensitivity analysis discussed in [AA6, BC1].</p>
<p>Make a single-site model, SEI2HR:</p>
<div class="sourceCode" id="cb8">
<pre class="sourceCode mathematica"><span id="cb8-1"><code>model1 = SEI2HRModel[</code></span><span id="cb8-1"><code><span class="fu">t</span></code></span><span id="cb8-1"><code>, "InitialConditions" -&gt; </code></span><span id="cb8-1"><code><span class="fu">True</span></code></span><span id="cb8-1"><code>, "RateRules" -&gt; </code></span><span id="cb8-1"><code><span class="fu">True</span></code></span><span id="cb8-1"><code>, "TotalPopulationRepresentation" -&gt; "AlgebraicEquation"];</code></span></pre>
</div>
<p>Make an association with “default” parameters:</p>
<div class="sourceCode" id="cb9">
<pre class="sourceCode mathematica"><span id="cb9-1"><code>aDefaultPars = &lt;|</code></span> <span id="cb9-2"><code>    aip -&gt; </code></span><span id="cb9-2"><code><span class="dv">26</span></code></span><span id="cb9-2"><code>, </code></span> <span id="cb9-3"><code>    aincp -&gt; </code></span><span id="cb9-3"><code><span class="dv">5</span></code></span><span id="cb9-3"><code>, </code></span> <span id="cb9-4"><code>    \[</code></span><span id="cb9-4"><code><span class="fu">Beta</span></code></span><span id="cb9-4"><code>][ISSP] -&gt; </code></span><span id="cb9-4"><code><span class="dv">0</span></code></span><span id="cb9-4"><code><span class="fl">.5</span></code></span><span id="cb9-4"><code>*</code></span><span id="cb9-4"><code><span class="fu">Piecewise</span></code></span><span id="cb9-4"><code>[{{</code></span><span id="cb9-4"><code><span class="dv">1</span></code></span><span id="cb9-4"><code>, </code></span><span id="cb9-4"><code><span class="fu">t</span></code></span><span id="cb9-4"><code> &lt; qsd}, {qcrf, qsd &lt;= </code></span><span id="cb9-4"><code><span class="fu">t</span></code></span><span id="cb9-4"><code> &lt;= qsd + ql}}, </code></span><span id="cb9-4"><code><span class="dv">1</span></code></span><span id="cb9-4"><code>], </code></span> <span id="cb9-5"><code>    \[</code></span><span id="cb9-5"><code><span class="fu">Beta</span></code></span><span id="cb9-5"><code>][INSP] -&gt; </code></span><span id="cb9-5"><code><span class="dv">0</span></code></span><span id="cb9-5"><code><span class="fl">.5</span></code></span><span id="cb9-5"><code>*</code></span><span id="cb9-5"><code><span class="fu">Piecewise</span></code></span><span id="cb9-5"><code>[{{</code></span><span id="cb9-5"><code><span class="dv">1</span></code></span><span id="cb9-5"><code>, </code></span><span id="cb9-5"><code><span class="fu">t</span></code></span><span id="cb9-5"><code> &lt; qsd}, {qcrf, qsd &lt;= </code></span><span id="cb9-5"><code><span class="fu">t</span></code></span><span id="cb9-5"><code> &lt;= qsd + ql}}, </code></span><span id="cb9-5"><code><span class="dv">1</span></code></span><span id="cb9-5"><code>], </code></span> <span id="cb9-6"><code>    qsd -&gt; </code></span><span id="cb9-6"><code><span class="dv">60</span></code></span><span id="cb9-6"><code>, </code></span> <span id="cb9-7"><code>    ql -&gt; </code></span><span id="cb9-7"><code><span class="dv">21</span></code></span><span id="cb9-7"><code>, </code></span> <span id="cb9-8"><code>    qcrf -&gt; </code></span><span id="cb9-8"><code><span class="dv">0</span></code></span><span id="cb9-8"><code><span class="fl">.25</span></code></span><span id="cb9-8"><code>, </code></span> <span id="cb9-9"><code>    \[</code></span><span id="cb9-9"><code><span class="fu">Beta</span></code></span><span id="cb9-9"><code>][HP] -&gt; </code></span><span id="cb9-9"><code><span class="dv">0</span></code></span><span id="cb9-9"><code><span class="fl">.01</span></code></span><span id="cb9-9"><code>, </code></span> <span id="cb9-10"><code>    \[Mu][ISSP] -&gt; </code></span><span id="cb9-10"><code><span class="dv">0</span></code></span><span id="cb9-10"><code><span class="fl">.035</span></code></span><span id="cb9-10"><code>/aip, </code></span> <span id="cb9-11"><code>    \[Mu][INSP] -&gt; </code></span><span id="cb9-11"><code><span class="dv">0</span></code></span><span id="cb9-11"><code><span class="fl">.01</span></code></span><span id="cb9-11"><code>/aip, </code></span> <span id="cb9-12"><code>    nhbr[TP] -&gt; </code></span><span id="cb9-12"><code><span class="dv">3</span></code></span><span id="cb9-12"><code>/</code></span><span id="cb9-12"><code><span class="dv">1000</span></code></span><span id="cb9-12"><code>, </code></span> <span id="cb9-13"><code>    lpcr[ISSP, INSP] -&gt; </code></span><span id="cb9-13"><code><span class="dv">1</span></code></span><span id="cb9-13"><code>, </code></span> <span id="cb9-14"><code>    hscr[ISSP, INSP] -&gt; </code></span><span id="cb9-14"><code><span class="dv">1</span></code></span><span id="cb9-14"><code> </code></span> <span id="cb9-15"><code>   |&gt;;</code></span></pre>
</div>
<p>Execute the workflow multiple times with different quarantine starts:</p>
<div class="sourceCode" id="cb10">
<pre class="sourceCode mathematica"><span id="cb10-1"><code>qlVar = </code></span><span id="cb10-1"><code><span class="dv">56</span></code></span><span id="cb10-1"><code>;</code></span> <span id="cb10-2"><code>lsRes =</code></span> <span id="cb10-3"><code>  </code></span><span id="cb10-3"><code><span class="fu">Map</span></code></span><span id="cb10-3"><code>[</code></span> <span id="cb10-4"><code>   ECMMonUnit[]</code></span><span id="cb10-4"><code>⟹</code></span> <span id="cb10-5"><code>     ECMMonSetSingleSiteModel[model1]</code></span><span id="cb10-5"><code>⟹</code></span> <span id="cb10-6"><code>     ECMMonAssignRateRules[</code></span><span id="cb10-6"><code><span class="fu">Join</span></code></span><span id="cb10-6"><code>[aDefaultPars, &lt;|qsd -&gt; #, ql -&gt; qlVar|&gt;]]</code></span><span id="cb10-6"><code>⟹</code></span> <span id="cb10-7"><code>     ECMMonSimulate[</code></span><span id="cb10-7"><code><span class="dv">365</span></code></span><span id="cb10-7"><code>]</code></span><span id="cb10-7"><code>⟹</code></span> <span id="cb10-8"><code>     ECMMonPlotSolutions[{"Infected Severely Symptomatic Population"}, </code></span><span id="cb10-8"><code><span class="dv">240</span></code></span><span id="cb10-8"><code>, </code></span> <span id="cb10-9"><code>       "Together" -&gt; </code></span><span id="cb10-9"><code><span class="fu">True</span></code></span><span id="cb10-9"><code>, "Derivatives" -&gt; </code></span><span id="cb10-9"><code><span class="fu">False</span></code></span><span id="cb10-9"><code>, </code></span> <span id="cb10-10"><code>       </code></span><span id="cb10-10"><code><span class="fu">PlotRange</span></code></span><span id="cb10-10"><code> -&gt; {</code></span><span id="cb10-10"><code><span class="dv">0</span></code></span><span id="cb10-10"><code>, </code></span><span id="cb10-10"><code><span class="dv">12000</span></code></span><span id="cb10-10"><code>}, </code></span><span id="cb10-10"><code><span class="fu">ImageSize</span></code></span><span id="cb10-10"><code> -&gt; </code></span><span id="cb10-10"><code><span class="dv">250</span></code></span><span id="cb10-10"><code>, </code></span> <span id="cb10-11"><code>       </code></span><span id="cb10-11"><code><span class="fu">Epilog</span></code></span><span id="cb10-11"><code> -&gt; {</code></span><span id="cb10-11"><code><span class="fu">Orange</span></code></span><span id="cb10-11"><code>, </code></span><span id="cb10-11"><code><span class="fu">Dashed</span></code></span><span id="cb10-11"><code>, </code></span><span id="cb10-11"><code><span class="fu">Line</span></code></span><span id="cb10-11"><code>[{{#</code></span><span id="cb10-11"><code><span class="dv">1</span></code></span><span id="cb10-11"><code>, </code></span><span id="cb10-11"><code><span class="dv">0</span></code></span><span id="cb10-11"><code>}, {#</code></span><span id="cb10-11"><code><span class="dv">1</span></code></span><span id="cb10-11"><code>, </code></span><span id="cb10-11"><code><span class="dv">12000</span></code></span><span id="cb10-11"><code>}}], </code></span><span id="cb10-11"><code><span class="fu">Line</span></code></span><span id="cb10-11"><code>[{{#</code></span><span id="cb10-11"><code><span class="dv">1</span></code></span><span id="cb10-11"><code> + qlVar, </code></span><span id="cb10-11"><code><span class="dv">0</span></code></span><span id="cb10-11"><code>}, {#</code></span><span id="cb10-11"><code><span class="dv">1</span></code></span><span id="cb10-11"><code> + qlVar, </code></span><span id="cb10-11"><code><span class="dv">12000</span></code></span><span id="cb10-11"><code>}}]}, </code></span> <span id="cb10-12"><code>       </code></span><span id="cb10-12"><code><span class="fu">PlotLabel</span></code></span><span id="cb10-12"><code> -&gt; </code></span><span id="cb10-12"><code><span class="fu">Row</span></code></span><span id="cb10-12"><code>[{"Quarantine start:", </code></span><span id="cb10-12"><code><span class="fu">Spacer</span></code></span><span id="cb10-12"><code>[</code></span><span id="cb10-12"><code><span class="dv">5</span></code></span><span id="cb10-12"><code>], #</code></span><span id="cb10-12"><code><span class="dv">1</span></code></span><span id="cb10-12"><code>, ",", </code></span><span id="cb10-12"><code><span class="fu">Spacer</span></code></span><span id="cb10-12"><code>[</code></span><span id="cb10-12"><code><span class="dv">5</span></code></span><span id="cb10-12"><code>], "end:", </code></span><span id="cb10-12"><code><span class="fu">Spacer</span></code></span><span id="cb10-12"><code>[</code></span><span id="cb10-12"><code><span class="dv">5</span></code></span><span id="cb10-12"><code>], #</code></span><span id="cb10-12"><code><span class="dv">1</span></code></span><span id="cb10-12"><code> + qlVar}], </code></span> <span id="cb10-13"><code>       "Echo" -&gt; </code></span><span id="cb10-13"><code><span class="fu">False</span></code></span><span id="cb10-13"><code>]</code></span><span id="cb10-13"><code>⟹</code></span> <span id="cb10-14"><code>     ECMMonTakeValue &amp;, </code></span><span id="cb10-14"><code><span class="fu">Range</span></code></span><span id="cb10-14"><code>[</code></span><span id="cb10-14"><code><span class="dv">25</span></code></span><span id="cb10-14"><code>, </code></span><span id="cb10-14"><code><span class="dv">100</span></code></span><span id="cb10-14"><code>, </code></span><span id="cb10-14"><code><span class="dv">5</span></code></span><span id="cb10-14"><code>]];</code></span></pre>
</div>
<p>Plot the simulation solutions for “Infected Severely Symptomatic Population”:</p>
<div class="sourceCode" id="cb11">
<pre class="sourceCode mathematica"><span id="cb11-1"><code>Multicolumn[#[[</code></span><span id="cb11-1"><code><span class="dv">1</span></code></span><span id="cb11-1"><code>, </code></span><span id="cb11-1"><code><span class="dv">1</span></code></span><span id="cb11-1"><code>]] &amp; /@ lsRes, </code></span><span id="cb11-1"><code><span class="dv">4</span></code></span><span id="cb11-1"><code>]</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1db54x7hgf4iw.png" alt="1db54x7hgf4iw"></p>
<p>Both theoretical and computational details of the workflow above are given [AA7, AA8].</p>
<h2 id="multi-site-workflow-demo">Multi-site workflow demo</h2>
<p>In this section we demonstrate the multi-site model workflow using COVID-19 data for USA, [WRI2, NYT1].</p>
<p>Here a “seed”, single-site model is created:</p>
<div class="sourceCode" id="cb12">
<pre class="sourceCode mathematica"><span id="cb12-1"><code>model1 = SEI2HRModel[</code></span><span id="cb12-1"><code><span class="fu">t</span></code></span><span id="cb12-1"><code>, "InitialConditions" -&gt; </code></span><span id="cb12-1"><code><span class="fu">True</span></code></span><span id="cb12-1"><code>, "RateRules" -&gt; </code></span><span id="cb12-1"><code><span class="fu">True</span></code></span><span id="cb12-1"><code>, "TotalPopulationRepresentation" -&gt; "AlgebraicEquation"];</code></span></pre>
</div>
<p>Here we specify a multi-site model workflow (the monadic steps are separated and described with purple print-outs):</p>
<div class="sourceCode" id="cb13">
<pre class="sourceCode mathematica"><span id="cb13-1"><code>ecmObj = </code></span> <span id="cb13-2"><code>   ECMMonUnit[]</code></span><span id="cb13-2"><code>⟹</code></span> <span id="cb13-3"><code>    ECMMonSetSingleSiteModel[model1]</code></span><span id="cb13-3"><code>⟹</code></span> <span id="cb13-4"><code>    ECMMonAssignRateRules[</code></span> <span id="cb13-5"><code>     &lt;|</code></span> <span id="cb13-6"><code>      aip -&gt; </code></span><span id="cb13-6"><code><span class="dv">26</span></code></span><span id="cb13-6"><code>, </code></span> <span id="cb13-7"><code>      aincp -&gt; </code></span><span id="cb13-7"><code><span class="dv">5</span></code></span><span id="cb13-7"><code>, </code></span> <span id="cb13-8"><code>      \[</code></span><span id="cb13-8"><code><span class="fu">Beta</span></code></span><span id="cb13-8"><code>][ISSP] -&gt; </code></span><span id="cb13-8"><code><span class="dv">0</span></code></span><span id="cb13-8"><code><span class="fl">.5</span></code></span><span id="cb13-8"><code>*</code></span><span id="cb13-8"><code><span class="fu">Piecewise</span></code></span><span id="cb13-8"><code>[{{</code></span><span id="cb13-8"><code><span class="dv">1</span></code></span><span id="cb13-8"><code>, </code></span><span id="cb13-8"><code><span class="fu">t</span></code></span><span id="cb13-8"><code> &lt; qsd}, {qcrf, qsd &lt;= </code></span><span id="cb13-8"><code><span class="fu">t</span></code></span><span id="cb13-8"><code> &lt;= qsd + ql}}, </code></span><span id="cb13-8"><code><span class="dv">1</span></code></span><span id="cb13-8"><code>], </code></span> <span id="cb13-9"><code>      \[</code></span><span id="cb13-9"><code><span class="fu">Beta</span></code></span><span id="cb13-9"><code>][INSP] -&gt; </code></span><span id="cb13-9"><code><span class="dv">0</span></code></span><span id="cb13-9"><code><span class="fl">.5</span></code></span><span id="cb13-9"><code>*</code></span><span id="cb13-9"><code><span class="fu">Piecewise</span></code></span><span id="cb13-9"><code>[{{</code></span><span id="cb13-9"><code><span class="dv">1</span></code></span><span id="cb13-9"><code>, </code></span><span id="cb13-9"><code><span class="fu">t</span></code></span><span id="cb13-9"><code> &lt; qsd}, {qcrf, qsd &lt;= </code></span><span id="cb13-9"><code><span class="fu">t</span></code></span><span id="cb13-9"><code> &lt;= qsd + ql}}, </code></span><span id="cb13-9"><code><span class="dv">1</span></code></span><span id="cb13-9"><code>], </code></span> <span id="cb13-10"><code>      qsd -&gt; </code></span><span id="cb13-10"><code><span class="dv">0</span></code></span><span id="cb13-10"><code>, </code></span> <span id="cb13-11"><code>      ql -&gt; </code></span><span id="cb13-11"><code><span class="dv">56</span></code></span><span id="cb13-11"><code>, </code></span> <span id="cb13-12"><code>      qcrf -&gt; </code></span><span id="cb13-12"><code><span class="dv">0</span></code></span><span id="cb13-12"><code><span class="fl">.25</span></code></span><span id="cb13-12"><code>, </code></span> <span id="cb13-13"><code>      \[</code></span><span id="cb13-13"><code><span class="fu">Beta</span></code></span><span id="cb13-13"><code>][HP] -&gt; </code></span><span id="cb13-13"><code><span class="dv">0</span></code></span><span id="cb13-13"><code><span class="fl">.01</span></code></span><span id="cb13-13"><code>, </code></span> <span id="cb13-14"><code>      \[Mu][ISSP] -&gt; </code></span><span id="cb13-14"><code><span class="dv">0</span></code></span><span id="cb13-14"><code><span class="fl">.035</span></code></span><span id="cb13-14"><code>/aip, </code></span> <span id="cb13-15"><code>      \[Mu][INSP] -&gt; </code></span><span id="cb13-15"><code><span class="dv">0</span></code></span><span id="cb13-15"><code><span class="fl">.01</span></code></span><span id="cb13-15"><code>/aip, </code></span> <span id="cb13-16"><code>      nhbr[TP] -&gt; </code></span><span id="cb13-16"><code><span class="dv">3</span></code></span><span id="cb13-16"><code>/</code></span><span id="cb13-16"><code><span class="dv">1000</span></code></span><span id="cb13-16"><code>, </code></span> <span id="cb13-17"><code>      lpcr[ISSP, INSP] -&gt; </code></span><span id="cb13-17"><code><span class="dv">1</span></code></span><span id="cb13-17"><code>, </code></span> <span id="cb13-18"><code>      hscr[ISSP, INSP] -&gt; </code></span><span id="cb13-18"><code><span class="dv">1</span></code></span><span id="cb13-18"><code> </code></span> <span id="cb13-19"><code>     |&gt; </code></span> <span id="cb13-20"><code>    ]</code></span><span id="cb13-20"><code>⟹</code></span> <span id="cb13-21"><code>    ECMMonEcho[</code></span><span id="cb13-21"><code><span class="fu">Style</span></code></span><span id="cb13-21"><code>["Show the single-site model tabulated form:", </code></span><span id="cb13-21"><code><span class="fu">Bold</span></code></span><span id="cb13-21"><code>, </code></span><span id="cb13-21"><code><span class="fu">Purple</span></code></span><span id="cb13-21"><code>]]</code></span><span id="cb13-21"><code>⟹</code></span> <span id="cb13-22"><code>    ECMMonEchoFunctionContext[</code></span><span id="cb13-22"><code><span class="fu">Magnify</span></code></span><span id="cb13-22"><code>[ModelGridTableForm[#singleSiteModel], </code></span><span id="cb13-22"><code><span class="dv">1</span></code></span><span id="cb13-22"><code>] &amp;]</code></span><span id="cb13-22"><code>⟹</code></span> <span id="cb13-23"><code>    ECMMonMakePolygonGrid[Keys[aPopulations], </code></span><span id="cb13-23"><code><span class="dv">1</span></code></span><span id="cb13-23"><code><span class="fl">.5</span></code></span><span id="cb13-23"><code>, "BinningFunction" -&gt; </code></span><span id="cb13-23"><code><span class="fu">Automatic</span></code></span><span id="cb13-23"><code>]</code></span><span id="cb13-23"><code>⟹</code></span> <span id="cb13-24"><code>    ECMMonEcho[</code></span><span id="cb13-24"><code><span class="fu">Style</span></code></span><span id="cb13-24"><code>["Show the </code></span><span id="cb13-24"><code><span class="fu">grid</span></code></span><span id="cb13-24"><code> based </code></span><span id="cb13-24"><code><span class="fu">on</span></code></span><span id="cb13-24"><code> population coordinates:", </code></span><span id="cb13-24"><code><span class="fu">Bold</span></code></span><span id="cb13-24"><code>, </code></span><span id="cb13-24"><code><span class="fu">Purple</span></code></span><span id="cb13-24"><code>]]</code></span><span id="cb13-24"><code>⟹</code></span> <span id="cb13-25"><code>    ECMMonPlotGrid["CellIDs" -&gt; </code></span><span id="cb13-25"><code><span class="fu">True</span></code></span><span id="cb13-25"><code>, </code></span><span id="cb13-25"><code><span class="fu">ImageSize</span></code></span><span id="cb13-25"><code> -&gt; </code></span><span id="cb13-25"><code><span class="fu">Large</span></code></span><span id="cb13-25"><code>]</code></span><span id="cb13-25"><code>⟹</code></span> <span id="cb13-26"><code>    ECMMonExtendByGrid[aPopulations, </code></span><span id="cb13-26"><code><span class="dv">0</span></code></span><span id="cb13-26"><code><span class="fl">.12</span></code></span><span id="cb13-26"><code>]</code></span><span id="cb13-26"><code>⟹</code></span> <span id="cb13-27"><code>    ECMMonAssignInitialConditions[aPopulations, "Total Population", "Default" -&gt; </code></span><span id="cb13-27"><code><span class="dv">0</span></code></span><span id="cb13-27"><code>]</code></span><span id="cb13-27"><code>⟹</code></span> <span id="cb13-28"><code>    ECMMonAssignInitialConditions[DeriveSusceptiblePopulation[aPopulations, aInfected, aDead], "Susceptible Population", "Default" -&gt; </code></span><span id="cb13-28"><code><span class="dv">0</span></code></span><span id="cb13-28"><code>]</code></span><span id="cb13-28"><code>⟹</code></span> <span id="cb13-29"><code>    ECMMonAssignInitialConditions[&lt;||&gt;, "Exposed Population", "Default" -&gt; </code></span><span id="cb13-29"><code><span class="dv">0</span></code></span><span id="cb13-29"><code>]</code></span><span id="cb13-29"><code>⟹</code></span> <span id="cb13-30"><code>    ECMMonAssignInitialConditions[aInfected, "Infected Normally Symptomatic Population", "Default" -&gt; </code></span><span id="cb13-30"><code><span class="dv">0</span></code></span><span id="cb13-30"><code>]</code></span><span id="cb13-30"><code>⟹</code></span> <span id="cb13-31"><code>    ECMMonAssignInitialConditions[&lt;||&gt;, "Infected Severely Symptomatic Population", "Default" -&gt; </code></span><span id="cb13-31"><code><span class="dv">0</span></code></span><span id="cb13-31"><code>]</code></span><span id="cb13-31"><code>⟹</code></span> <span id="cb13-32"><code>    ECMMonEcho[</code></span><span id="cb13-32"><code><span class="fu">Style</span></code></span><span id="cb13-32"><code>["Show </code></span><span id="cb13-32"><code><span class="fu">total</span></code></span><span id="cb13-32"><code> populations initial conditions data:", </code></span><span id="cb13-32"><code><span class="fu">Bold</span></code></span><span id="cb13-32"><code>, </code></span><span id="cb13-32"><code><span class="fu">Purple</span></code></span><span id="cb13-32"><code>]]</code></span><span id="cb13-32"><code>⟹</code></span> <span id="cb13-33"><code>    ECMMonPlotGridHistogram[aPopulations, </code></span><span id="cb13-33"><code><span class="fu">ImageSize</span></code></span><span id="cb13-33"><code> -&gt; </code></span><span id="cb13-33"><code><span class="fu">Large</span></code></span><span id="cb13-33"><code>, </code></span><span id="cb13-33"><code><span class="fu">PlotLabel</span></code></span><span id="cb13-33"><code> -&gt; "Total populations"]</code></span><span id="cb13-33"><code>⟹</code></span> <span id="cb13-34"><code>    ECMMonEcho[</code></span><span id="cb13-34"><code><span class="fu">Style</span></code></span><span id="cb13-34"><code>["Show infected </code></span><span id="cb13-34"><code><span class="fu">and</span></code></span><span id="cb13-34"><code> deceased initial conditions data:", </code></span><span id="cb13-34"><code><span class="fu">Bold</span></code></span><span id="cb13-34"><code>,</code></span><span id="cb13-34"><code><span class="fu">Purple</span></code></span><span id="cb13-34"><code>]]</code></span><span id="cb13-34"><code>⟹</code></span> <span id="cb13-35"><code>    ECMMonPlotGridHistogram[aInfected, </code></span><span id="cb13-35"><code><span class="fu">ColorFunction</span></code></span><span id="cb13-35"><code> -&gt; </code></span><span id="cb13-35"><code><span class="fu">ColorData</span></code></span><span id="cb13-35"><code>["RoseColors"], "ShowDataPoints" -&gt; </code></span><span id="cb13-35"><code><span class="fu">False</span></code></span><span id="cb13-35"><code>, </code></span><span id="cb13-35"><code><span class="fu">ImageSize</span></code></span><span id="cb13-35"><code> -&gt; </code></span><span id="cb13-35"><code><span class="fu">Large</span></code></span><span id="cb13-35"><code>, </code></span><span id="cb13-35"><code><span class="fu">PlotLabel</span></code></span><span id="cb13-35"><code> -&gt; "Infected"]</code></span><span id="cb13-35"><code>⟹</code></span> <span id="cb13-36"><code>    ECMMonPlotGridHistogram[aDead, </code></span><span id="cb13-36"><code><span class="fu">ColorFunction</span></code></span><span id="cb13-36"><code> -&gt; </code></span><span id="cb13-36"><code><span class="fu">ColorData</span></code></span><span id="cb13-36"><code>["RoseColors"], "ShowDataPoints" -&gt; </code></span><span id="cb13-36"><code><span class="fu">False</span></code></span><span id="cb13-36"><code>, </code></span><span id="cb13-36"><code><span class="fu">ImageSize</span></code></span><span id="cb13-36"><code> -&gt; </code></span><span id="cb13-36"><code><span class="fu">Large</span></code></span><span id="cb13-36"><code>, </code></span><span id="cb13-36"><code><span class="fu">PlotLabel</span></code></span><span id="cb13-36"><code> -&gt; "Deceased"]</code></span><span id="cb13-36"><code>⟹</code></span> <span id="cb13-37"><code>    ECMMonEcho[</code></span><span id="cb13-37"><code><span class="fu">Style</span></code></span><span id="cb13-37"><code>["Simulate:", </code></span><span id="cb13-37"><code><span class="fu">Bold</span></code></span><span id="cb13-37"><code>, </code></span><span id="cb13-37"><code><span class="fu">Purple</span></code></span><span id="cb13-37"><code>]]</code></span><span id="cb13-37"><code>⟹</code></span> <span id="cb13-38"><code>    ECMMonSimulate[</code></span><span id="cb13-38"><code><span class="dv">365</span></code></span><span id="cb13-38"><code>]</code></span><span id="cb13-38"><code>⟹</code></span> <span id="cb13-39"><code>    ECMMonEcho[</code></span><span id="cb13-39"><code><span class="fu">Style</span></code></span><span id="cb13-39"><code>["Show global population simulation results:", </code></span><span id="cb13-39"><code><span class="fu">Bold</span></code></span><span id="cb13-39"><code>, </code></span><span id="cb13-39"><code><span class="fu">Purple</span></code></span><span id="cb13-39"><code>]]</code></span><span id="cb13-39"><code>⟹</code></span> <span id="cb13-40"><code>    ECMMonPlotSolutions[</code></span><span id="cb13-40"><code><span class="dt">__</span></code></span><span id="cb13-40"><code> ~~ "Population", </code></span><span id="cb13-40"><code><span class="dv">365</span></code></span><span id="cb13-40"><code>]</code></span><span id="cb13-40"><code>⟹</code></span> <span id="cb13-41"><code>    ECMMonEcho[</code></span><span id="cb13-41"><code><span class="fu">Style</span></code></span><span id="cb13-41"><code>["Show site simulation results </code></span><span id="cb13-41"><code><span class="fu">for</span></code></span><span id="cb13-41"><code> Miami </code></span><span id="cb13-41"><code><span class="fu">and</span></code></span><span id="cb13-41"><code> New York areas:", </code></span><span id="cb13-41"><code><span class="fu">Bold</span></code></span><span id="cb13-41"><code>, </code></span><span id="cb13-41"><code><span class="fu">Purple</span></code></span><span id="cb13-41"><code>]]</code></span><span id="cb13-41"><code>⟹</code></span> <span id="cb13-42"><code>    ECMMonPlotSiteSolutions[{</code></span><span id="cb13-42"><code><span class="dv">160</span></code></span><span id="cb13-42"><code>, </code></span><span id="cb13-42"><code><span class="dv">174</span></code></span><span id="cb13-42"><code>}, </code></span><span id="cb13-42"><code><span class="dt">__</span></code></span><span id="cb13-42"><code> ~~ "Population", </code></span><span id="cb13-42"><code><span class="dv">365</span></code></span><span id="cb13-42"><code>]</code></span><span id="cb13-42"><code>⟹</code></span> <span id="cb13-43"><code>    ECMMonEcho[</code></span><span id="cb13-43"><code><span class="fu">Style</span></code></span><span id="cb13-43"><code>["Show deceased </code></span><span id="cb13-43"><code><span class="fu">and</span></code></span><span id="cb13-43"><code> hospitalzed populations results </code></span><span id="cb13-43"><code><span class="fu">for</span></code></span><span id="cb13-43"><code> Miami </code></span><span id="cb13-43"><code><span class="fu">and</span></code></span><span id="cb13-43"><code> New York areas:", </code></span><span id="cb13-43"><code><span class="fu">Bold</span></code></span><span id="cb13-43"><code>, </code></span><span id="cb13-43"><code><span class="fu">Purple</span></code></span><span id="cb13-43"><code>]]</code></span><span id="cb13-43"><code>⟹</code></span> <span id="cb13-44"><code>    ECMMonPlotSiteSolutions[{</code></span><span id="cb13-44"><code><span class="dv">160</span></code></span><span id="cb13-44"><code>, </code></span><span id="cb13-44"><code><span class="dv">174</span></code></span><span id="cb13-44"><code>}, {"Deceased Infected Population", "Hospitalized Population","Hospital Beds"}, </code></span><span id="cb13-44"><code><span class="dv">300</span></code></span><span id="cb13-44"><code>, "FocusTime" -&gt; </code></span><span id="cb13-44"><code><span class="dv">120</span></code></span><span id="cb13-44"><code>];</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0y0cfyttq7yn6.png" alt="0y0cfyttq7yn6"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0gh46eljka9v5.png" alt="0gh46eljka9v5"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/04xdyad4mmniu.png" alt="04xdyad4mmniu"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1mn5x0eb0hbvl.png" alt="1mn5x0eb0hbvl"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/009qnefuurlhw.png" alt="009qnefuurlhw"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/09xeiox9ane2w.png" alt="09xeiox9ane2w"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/13kldiv0a47ua.png" alt="13kldiv0a47ua"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0jjxrwhkaj7ys.png" alt="0jjxrwhkaj7ys"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1qgjcibkzvib0.png" alt="1qgjcibkzvib0"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1bm71msuv1s02.png" alt="1bm71msuv1s02"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0l96q6lg8vg9n.png" alt="0l96q6lg8vg9n"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1w1u7nso952k8.png" alt="1w1u7nso952k8"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0gp4bff16s2rj.png" alt="0gp4bff16s2rj"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1pfvwkdwlm72j.png" alt="1pfvwkdwlm72j"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0in55gql6v1yi.png" alt="0in55gql6v1yi"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1fxxap0npojve.png" alt="1fxxap0npojve"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1e0ctc7lt1tbh.png" alt="1e0ctc7lt1tbh"></p>
<p>Theoretical and computational details about the multi-site workflow can be found in [AA4, AA5].</p>
<h2 id="batch-simulations-and-calibration-processes">Batch simulations and calibration processes</h2>
<p>In this section we describe the in general terms the processes of model batch simulations and model calibration. The next two sections give more details of the corresponding software design and workflows.</p>
<h3 id="definitions">Definitions</h3>
<p><strong>Batch simulation:</strong> If given a SD model <span class="math inline">&#040;M&#041;</span>, the set <span class="math inline">&#040;P&#041;</span> of parameters of <span class="math inline">&#040;M&#041;</span>, and a set <span class="math inline">&#040;B&#041;</span> of sets of values <span class="math inline">&#040;P&#041;</span>, <span class="math inline">&#040;B\text{:=}\left&#123;V_i\right&#125;&#041;</span>, then the set of multiple runs of <span class="math inline">&#040;M&#041;</span> over <span class="math inline">&#040;B&#041;</span> are called <em>batch simulation</em>.</p>
<p><strong>Calibration:</strong> If given a model <span class="math inline">&#040;M&#041;</span>, the set <span class="math inline">&#040;P&#041;</span> of parameters of <span class="math inline">&#040;M&#041;</span>, and a set of <span class="math inline">&#040;k&#041;</span> time series <span class="math inline">&#040;T\text{:=}\left&#123;T_i\right&#125;_{i=1}^k&#041;</span> that correspond to the set of stocks <span class="math inline">&#040;S\text{:=}\left&#123;S_i\right&#125;_{i=1}^k&#041;</span> of <span class="math inline">&#040;M&#041;</span> then the process of finding concrete the values <span class="math inline">&#040;V&#041;</span> for <span class="math inline">&#040;P&#041;</span> that make the stocks <span class="math inline">&#040;S&#041;</span> to closely resemble the time series <span class="math inline">&#040;T&#041;</span> according to some metric is called <em>calibration</em> of <span class="math inline">&#040;M&#041;</span> over the <strong><em>targets</em></strong> <span class="math inline">&#040;T&#041;</span>.</p>
<h3 id="roles">Roles</h3>
<ul>
<li>There are three types of people dealing with the models:
<ul>
<li><strong>Modeler</strong>, who develops and implements the model and prepares it for calibration.</li>
<li><strong>Calibrator</strong>, who calibrates the model with different data for different parameters.</li>
<li><strong>Stakeholder</strong>, who requires different features of the model and outcomes from different scenario play-outs.</li>
</ul>
</li>
<li>There are two main calibration scenarios:
<ul>
<li>Modeler and Calibrator are the same person</li>
<li>Modeler and Calibrator are different persons</li>
</ul>
</li>
</ul>
<h3 id="process">Process</h3>
<p>Model development and calibration is most likely going to be an iterative process.</p>
<p>For concreteness let us assume that the model has matured development-wise and batch simulation and model calibration is done in a (more) formal way.</p>
<p>Here are the steps of a well defined process between the modeling activity players described above:</p>
<ol type="1">
<li>Stakeholder requires certain scenarios to be investigated.</li>
<li>Modeler prepares the model for those scenarios.</li>
<li>Stakeholder and Modeler formulate a calibration request.</li>
<li>Calibrator uses the specifications from the calibration request to:
<ol type="1">
<li>Calibrate the model</li>
<li>Derive model outcomes results</li>
<li>Provide model qualitative results</li>
<li>Provide model sensitivity analysis results</li>
</ol>
</li>
<li>Modeler (and maybe Stakeholder) review the results and decides should more calibration be done.
<ol type="1">
<li>I.e. go to 3.</li>
</ol>
</li>
<li>Modeler does batch simulations with the calibrated model for the investigation scenarios.</li>
<li>Modeler and Stakeholder prepare report with the results.</li>
</ol>
<p>See the documents [AA9, AA10] have questionnaires that further clarify the details of interaction between the modelers and calibrators.</p>
<h3 id="batch-simulation-vs-calibration">Batch simulation vs calibration</h3>
<p>In order to clarify the similarities and differences between batch simulation and calibration we list the following observations:</p>
<ul>
<li>Each batch simulation or model calibration is done either for model development purposes or for scenario play-out studies.</li>
<li>Batch simulation is used for qualitative studies of the model. For example, doing sensitivity analysis; see [BC1, AA7, AA8].</li>
<li>Before starting the calibration we might want to study the “landscape” of the search space of the calibration parameters using batch simulations.</li>
<li>Batch simulation is also done after model calibration in order to evaluate different scenarios,</li>
<li>For some models with large computational complexity batch simulation – together with some evaluation metric – can be used instead of model calibration.</li>
</ul>
<h2 id="batch-simulations-workflow">Batch simulations workflow</h2>
<p>In this section we describe the specification and execution of model batch simulations.</p>
<p>Batch simulations can be time consuming, hence it is good idea to</p>
<p>In the rest of the section we go through the following steps:</p>
<ol type="1">
<li>Make a model object</li>
<li>Batch simulate over a few combinations of parameters and show:
<ol type="1">
<li>Plots of the simulation results for all populations</li>
<li>Plots of the simulation results for a particular population</li>
</ol>
</li>
<li>Batch simulate over the Cartesian (outer) product of values lists of a selected pair of parameters and show the corresponding plots of all simulations</li>
</ol>
<h3 id="model-object-for-batch-simulations">Model (object) for batch simulations</h3>
<p>Here we make a new <code>ECMMon</code> object:</p>
<div class="sourceCode" id="cb14">
<pre class="sourceCode mathematica"><span id="cb14-1"><code>ecmObj2 =</code></span> <span id="cb14-2"><code>  ECMMonUnit[]</code></span><span id="cb14-2"><code>⟹</code></span> <span id="cb14-3"><code>   ECMMonSetSingleSiteModel[model1]</code></span><span id="cb14-3"><code>⟹</code></span> <span id="cb14-4"><code>   ECMMonAssignRateRules[aDefaultPars];</code></span></pre>
</div>
<h3 id="direct-specification-of-combinations-of-parameters">Direct specification of combinations of parameters</h3>
<h4 id="all-populations">All populations</h4>
<p>Here we simulate the model in the object of different parameter combinations given in a list of associations:</p>
<div class="sourceCode" id="cb15">
<pre class="sourceCode mathematica"><span id="cb15-1"><code>res1 =</code></span> <span id="cb15-2"><code>  ecmObj2</code></span><span id="cb15-2"><code>⟹</code></span> <span id="cb15-3"><code>   ECMMonBatchSimulate[</code></span><span id="cb15-3"><code><span class="dt">___</span></code></span><span id="cb15-3"><code> ~~ "Population", {&lt;|qsd -&gt; </code></span><span id="cb15-3"><code><span class="dv">60</span></code></span><span id="cb15-3"><code>, ql -&gt; </code></span><span id="cb15-3"><code><span class="dv">28</span></code></span><span id="cb15-3"><code>|&gt;, &lt;|qsd -&gt; </code></span><span id="cb15-3"><code><span class="dv">55</span></code></span><span id="cb15-3"><code>, ql -&gt; </code></span><span id="cb15-3"><code><span class="dv">28</span></code></span><span id="cb15-3"><code>|&gt;, &lt;|qsd -&gt; </code></span><span id="cb15-3"><code><span class="dv">75</span></code></span><span id="cb15-3"><code>, ql -&gt; </code></span><span id="cb15-3"><code><span class="dv">21</span></code></span><span id="cb15-3"><code>, \[</code></span><span id="cb15-3"><code><span class="fu">Beta</span></code></span><span id="cb15-3"><code>][ISSP] -&gt; </code></span><span id="cb15-3"><code><span class="dv">0</span></code></span><span id="cb15-3"><code>|&gt;}, </code></span><span id="cb15-3"><code><span class="dv">240</span></code></span><span id="cb15-3"><code>]</code></span><span id="cb15-3"><code>⟹</code></span> <span id="cb15-4"><code>   ECMMonTakeValue;</code></span></pre>
</div>
<p><strong>Remark:</strong> The stocks in the results are only stocks that are populations – that is specified with the string expression pattern <code>___~~”Population”</code>.</p>
<p>Here is the shape of the result:</p>
<div class="sourceCode" id="cb16">
<pre class="sourceCode mathematica"><span id="cb16-1"><code><span class="fu">Short</span></code></span><span id="cb16-1"><code> /@ res1</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0a1hc3qgvuof7.png" alt="0a1hc3qgvuof7"></p>
<p>Here are the corresponding plots:</p>
<div class="sourceCode" id="cb17">
<pre class="sourceCode mathematica"><span id="cb17-1"><code><span class="fu">ListLinePlot</span></code></span><span id="cb17-1"><code>[#, PlotTheme -&gt; "Detailed", </code></span><span id="cb17-1"><code><span class="fu">ImageSize</span></code></span><span id="cb17-1"><code> -&gt; </code></span><span id="cb17-1"><code><span class="fu">Medium</span></code></span><span id="cb17-1"><code>, </code></span><span id="cb17-1"><code><span class="fu">PlotRange</span></code></span><span id="cb17-1"><code> -&gt; </code></span><span id="cb17-1"><code><span class="fu">All</span></code></span><span id="cb17-1"><code>] &amp; /@ res1</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1veewx20b1778.png" alt="1veewx20b1778"></p>
<h4 id="focus-population">Focus population</h4>
<p>We might be interested in the batch simulations results for only one, focus populations. Here is an example:</p>
<div class="sourceCode" id="cb18">
<pre class="sourceCode mathematica"><span id="cb18-1"><code>res2 = </code></span> <span id="cb18-2"><code>   ecmObj2</code></span><span id="cb18-2"><code>⟹</code></span> <span id="cb18-3"><code>    ECMMonBatchSimulate["Infected Normally Symptomatic Population", {&lt;|qsd -&gt; </code></span><span id="cb18-3"><code><span class="dv">60</span></code></span><span id="cb18-3"><code>, ql -&gt; </code></span><span id="cb18-3"><code><span class="dv">28</span></code></span><span id="cb18-3"><code>|&gt;, &lt;|qsd -&gt; </code></span><span id="cb18-3"><code><span class="dv">55</span></code></span><span id="cb18-3"><code>, ql -&gt; </code></span><span id="cb18-3"><code><span class="dv">28</span></code></span><span id="cb18-3"><code>|&gt;, &lt;|qsd -&gt; </code></span><span id="cb18-3"><code><span class="dv">75</span></code></span><span id="cb18-3"><code>, ql -&gt; </code></span><span id="cb18-3"><code><span class="dv">21</span></code></span><span id="cb18-3"><code>, \[</code></span><span id="cb18-3"><code><span class="fu">Beta</span></code></span><span id="cb18-3"><code>][ISSP] -&gt; </code></span><span id="cb18-3"><code><span class="dv">0</span></code></span><span id="cb18-3"><code>|&gt;}, </code></span><span id="cb18-3"><code><span class="dv">240</span></code></span><span id="cb18-3"><code>]</code></span><span id="cb18-3"><code>⟹</code></span> <span id="cb18-4"><code>    ECMMonTakeValue;</code></span></pre>
</div>
<p>Here is the shape of the result:</p>
<div class="sourceCode" id="cb19">
<pre class="sourceCode mathematica"><span id="cb19-1"><code><span class="fu">Short</span></code></span><span id="cb19-1"><code> /@ res2</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0es5cj4hgrljm.png" alt="0es5cj4hgrljm"></p>
<p>Here are the corresponding plots:</p>
<div class="sourceCode" id="cb20">
<pre class="sourceCode mathematica"><span id="cb20-1"><code>Multicolumn[</code></span> <span id="cb20-2"><code> KeyValueMap[</code></span> <span id="cb20-3"><code>  </code></span><span id="cb20-3"><code><span class="fu">ListLinePlot</span></code></span><span id="cb20-3"><code>[#</code></span><span id="cb20-3"><code><span class="dv">2</span></code></span><span id="cb20-3"><code>, </code></span><span id="cb20-3"><code><span class="fu">PlotLabel</span></code></span><span id="cb20-3"><code> -&gt; #</code></span><span id="cb20-3"><code><span class="dv">1</span></code></span><span id="cb20-3"><code>, PlotTheme -&gt; "Detailed", </code></span> <span id="cb20-4"><code>    </code></span><span id="cb20-4"><code><span class="fu">Epilog</span></code></span><span id="cb20-4"><code> -&gt; {</code></span><span id="cb20-4"><code><span class="fu">Directive</span></code></span><span id="cb20-4"><code>[</code></span><span id="cb20-4"><code><span class="fu">Orange</span></code></span><span id="cb20-4"><code>, </code></span><span id="cb20-4"><code><span class="fu">Dashed</span></code></span><span id="cb20-4"><code>], </code></span> <span id="cb20-5"><code>      </code></span><span id="cb20-5"><code><span class="fu">Line</span></code></span><span id="cb20-5"><code>[{</code></span><span id="cb20-5"><code><span class="fu">Scaled</span></code></span><span id="cb20-5"><code>[{</code></span><span id="cb20-5"><code><span class="dv">0</span></code></span><span id="cb20-5"><code>, </code></span><span id="cb20-5"><code><span class="dv">-1</span></code></span><span id="cb20-5"><code>}, {#</code></span><span id="cb20-5"><code><span class="dv">1</span></code></span><span id="cb20-5"><code>[qsd], </code></span><span id="cb20-5"><code><span class="dv">0</span></code></span><span id="cb20-5"><code>}], </code></span><span id="cb20-5"><code><span class="fu">Scaled</span></code></span><span id="cb20-5"><code>[{</code></span><span id="cb20-5"><code><span class="dv">0</span></code></span><span id="cb20-5"><code>, </code></span><span id="cb20-5"><code><span class="dv">1</span></code></span><span id="cb20-5"><code>}, {#</code></span><span id="cb20-5"><code><span class="dv">1</span></code></span><span id="cb20-5"><code>[qsd], </code></span><span id="cb20-5"><code><span class="dv">0</span></code></span><span id="cb20-5"><code>}]}], </code></span> <span id="cb20-6"><code>      </code></span><span id="cb20-6"><code><span class="fu">Line</span></code></span><span id="cb20-6"><code>[{</code></span><span id="cb20-6"><code><span class="fu">Scaled</span></code></span><span id="cb20-6"><code>[{</code></span><span id="cb20-6"><code><span class="dv">0</span></code></span><span id="cb20-6"><code>, </code></span><span id="cb20-6"><code><span class="dv">-1</span></code></span><span id="cb20-6"><code>}, {#</code></span><span id="cb20-6"><code><span class="dv">1</span></code></span><span id="cb20-6"><code>[qsd] + #</code></span><span id="cb20-6"><code><span class="dv">1</span></code></span><span id="cb20-6"><code>[ql], </code></span><span id="cb20-6"><code><span class="dv">0</span></code></span><span id="cb20-6"><code>}], </code></span><span id="cb20-6"><code><span class="fu">Scaled</span></code></span><span id="cb20-6"><code>[{</code></span><span id="cb20-6"><code><span class="dv">0</span></code></span><span id="cb20-6"><code>, </code></span><span id="cb20-6"><code><span class="dv">1</span></code></span><span id="cb20-6"><code>}, {#</code></span><span id="cb20-6"><code><span class="dv">1</span></code></span><span id="cb20-6"><code>[qsd] + #</code></span><span id="cb20-6"><code><span class="dv">1</span></code></span><span id="cb20-6"><code>[ql], </code></span><span id="cb20-6"><code><span class="dv">0</span></code></span><span id="cb20-6"><code>}]}]}, </code></span> <span id="cb20-7"><code>    </code></span><span id="cb20-7"><code><span class="fu">ImageSize</span></code></span><span id="cb20-7"><code> -&gt; </code></span><span id="cb20-7"><code><span class="fu">Medium</span></code></span><span id="cb20-7"><code>] &amp;, res2]]</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/17ofnpddvw8ud.png" alt="17ofnpddvw8ud"></p>
<h3 id="outer-product-of-parameters">Outer product of parameters</h3>
<p>Instead of specifying an the combinations of parameters directly we can specify the values taken by each parameter using an association in which the keys are parameters and the values are list of values:</p>
<div class="sourceCode" id="cb21">
<pre class="sourceCode mathematica"><span id="cb21-1"><code>res3 = </code></span> <span id="cb21-2"><code>   ecmObj2</code></span><span id="cb21-2"><code>⟹</code></span> <span id="cb21-3"><code>    ECMMonBatchSimulate[</code></span><span id="cb21-3"><code><span class="dt">__</span></code></span><span id="cb21-3"><code> ~~ "Population", &lt;|qsd -&gt; {</code></span><span id="cb21-3"><code><span class="dv">60</span></code></span><span id="cb21-3"><code>, </code></span><span id="cb21-3"><code><span class="dv">55</span></code></span><span id="cb21-3"><code>, </code></span><span id="cb21-3"><code><span class="dv">75</span></code></span><span id="cb21-3"><code>}, ql -&gt; {</code></span><span id="cb21-3"><code><span class="dv">28</span></code></span><span id="cb21-3"><code>, </code></span><span id="cb21-3"><code><span class="dv">21</span></code></span><span id="cb21-3"><code>}|&gt;, </code></span><span id="cb21-3"><code><span class="dv">240</span></code></span><span id="cb21-3"><code>]</code></span><span id="cb21-3"><code>⟹</code></span> <span id="cb21-4"><code>    ECMMonTakeValue;</code></span></pre>
</div>
<p>Here is the shallow form of the results</p>
<div class="sourceCode" id="cb22">
<pre class="sourceCode mathematica"><span id="cb22-1"><code><span class="fu">Short</span></code></span><span id="cb22-1"><code> /@ res3</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1e260m2euunsl.png" alt="1e260m2euunsl"></p>
<p>Here are the corresponding plots:</p>
<div class="sourceCode" id="cb23">
<pre class="sourceCode mathematica"><span id="cb23-1"><code>Multicolumn[</code></span> <span id="cb23-2"><code> KeyValueMap[</code></span> <span id="cb23-3"><code>  </code></span><span id="cb23-3"><code><span class="fu">ListLinePlot</span></code></span><span id="cb23-3"><code>[#</code></span><span id="cb23-3"><code><span class="dv">2</span></code></span><span id="cb23-3"><code>, </code></span><span id="cb23-3"><code><span class="fu">PlotLabel</span></code></span><span id="cb23-3"><code> -&gt; #</code></span><span id="cb23-3"><code><span class="dv">1</span></code></span><span id="cb23-3"><code>, PlotTheme -&gt; "Detailed", </code></span> <span id="cb23-4"><code>    </code></span><span id="cb23-4"><code><span class="fu">Epilog</span></code></span><span id="cb23-4"><code> -&gt; {</code></span><span id="cb23-4"><code><span class="fu">Directive</span></code></span><span id="cb23-4"><code>[</code></span><span id="cb23-4"><code><span class="fu">Gray</span></code></span><span id="cb23-4"><code>, </code></span><span id="cb23-4"><code><span class="fu">Dashed</span></code></span><span id="cb23-4"><code>], </code></span> <span id="cb23-5"><code>      </code></span><span id="cb23-5"><code><span class="fu">Line</span></code></span><span id="cb23-5"><code>[{</code></span><span id="cb23-5"><code><span class="fu">Scaled</span></code></span><span id="cb23-5"><code>[{</code></span><span id="cb23-5"><code><span class="dv">0</span></code></span><span id="cb23-5"><code>, </code></span><span id="cb23-5"><code><span class="dv">-1</span></code></span><span id="cb23-5"><code>}, {#</code></span><span id="cb23-5"><code><span class="dv">1</span></code></span><span id="cb23-5"><code>[qsd], </code></span><span id="cb23-5"><code><span class="dv">0</span></code></span><span id="cb23-5"><code>}], </code></span><span id="cb23-5"><code><span class="fu">Scaled</span></code></span><span id="cb23-5"><code>[{</code></span><span id="cb23-5"><code><span class="dv">0</span></code></span><span id="cb23-5"><code>, </code></span><span id="cb23-5"><code><span class="dv">1</span></code></span><span id="cb23-5"><code>}, {#</code></span><span id="cb23-5"><code><span class="dv">1</span></code></span><span id="cb23-5"><code>[qsd], </code></span><span id="cb23-5"><code><span class="dv">0</span></code></span><span id="cb23-5"><code>}]}], </code></span> <span id="cb23-6"><code>      </code></span><span id="cb23-6"><code><span class="fu">Line</span></code></span><span id="cb23-6"><code>[{</code></span><span id="cb23-6"><code><span class="fu">Scaled</span></code></span><span id="cb23-6"><code>[{</code></span><span id="cb23-6"><code><span class="dv">0</span></code></span><span id="cb23-6"><code>, </code></span><span id="cb23-6"><code><span class="dv">-1</span></code></span><span id="cb23-6"><code>}, {#</code></span><span id="cb23-6"><code><span class="dv">1</span></code></span><span id="cb23-6"><code>[qsd] + #</code></span><span id="cb23-6"><code><span class="dv">1</span></code></span><span id="cb23-6"><code>[ql], </code></span><span id="cb23-6"><code><span class="dv">0</span></code></span><span id="cb23-6"><code>}], </code></span><span id="cb23-6"><code><span class="fu">Scaled</span></code></span><span id="cb23-6"><code>[{</code></span><span id="cb23-6"><code><span class="dv">0</span></code></span><span id="cb23-6"><code>, </code></span><span id="cb23-6"><code><span class="dv">1</span></code></span><span id="cb23-6"><code>}, {#</code></span><span id="cb23-6"><code><span class="dv">1</span></code></span><span id="cb23-6"><code>[qsd] + #</code></span><span id="cb23-6"><code><span class="dv">1</span></code></span><span id="cb23-6"><code>[ql], </code></span><span id="cb23-6"><code><span class="dv">0</span></code></span><span id="cb23-6"><code>}]}]}, </code></span> <span id="cb23-7"><code>    </code></span><span id="cb23-7"><code><span class="fu">ImageSize</span></code></span><span id="cb23-7"><code> -&gt; </code></span><span id="cb23-7"><code><span class="fu">Medium</span></code></span><span id="cb23-7"><code>] &amp;, res3]]</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1u4ta8aypszhz.png" alt="1u4ta8aypszhz"></p>
<h2 id="calibration-workflow">Calibration workflow</h2>
<p>In this section we go through the computation steps of the calibration of single-site SEI2HR model.</p>
<p><strong>Remark:</strong> We use real data in this section, but the presented calibration results and outcome plots are for illustration purposes only. A rigorous study with discussion of the related assumptions and conclusions is beyond the scope of this notebook/document.</p>
<h3 id="calibration-steps">Calibration steps</h3>
<p>Here are the steps performed in the rest of the sub-sections of this section:</p>
<ol type="1">
<li>Ingest data for infected cases, deaths due to disease, etc.</li>
<li>Choose a model to calibrate.</li>
<li>Make the calibration targets – those a vectors corresponding to time series over regular grids.
<ol type="1">
<li>Consider using all of the data in order to evaluate model’s applicability.</li>
<li>Consider using fractions of the data in order to evaluate model’s ability to predict the future or reconstruct data gaps.</li>
</ol>
</li>
<li>Choose calibration parameters and corresponding ranges for their values.</li>
<li>If more than one target choose the relative weight (or importance) of the targets.</li>
<li>Calibrate the model.</li>
<li>Evaluate the fitting between the simulation results and data.
<ol type="1">
<li>Using statistics and plots.</li>
</ol>
</li>
<li>Make conclusions. If insufficiently good results are obtained go to 2 or 4.</li>
</ol>
<p><strong>Remark:</strong> When doing calibration epidemiological models a team of people it is better certain to follow (rigorously) well defined procedures. See the documents:</p>
<p><strong>Remark:</strong> We plan to prepare have several notebooks dedicated to calibration of both single-site and multi-site models.</p>
<h3 id="usa-covid-19-data">USA COVID-19 data</h3>
<p>Here data for the USA COVID-19 infection cases and deaths from [NYT1] (see [AA6] data ingestion details):</p>
<div class="sourceCode" id="cb24">
<pre class="sourceCode mathematica"><span id="cb24-1"><code>lsCases = {</code></span><span id="cb24-1"><code><span class="dv">1</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12</span></code></span><span id="cb24-1"><code>,</code></span><span id="cb24-1"><code><span class="dv">12</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">14</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">25</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">25</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">25</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">27</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">30</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">30</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">30</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">43</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">45</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">60</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">60</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">65</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">70</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">85</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">101</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">121</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">157</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">222</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">303</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">413</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">530</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">725</span></code></span><span id="cb24-1"><code>,</code></span><span id="cb24-1"><code><span class="dv">976</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1206</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1566</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2045</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2603</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3240</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4009</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5222</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6947</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9824</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13434</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">17918</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">23448</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">30082</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">37696</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">46791</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">59678</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">73970</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">88796</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">103318</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">119676</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">139165</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">160159</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">184764</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">212033</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">241127</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">262275</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">288195</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">314991</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">341540</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">370689</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">398491</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">423424</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">445213</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">467106</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">490170</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">512972</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">539600</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">566777</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">590997</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">613302</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">637812</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">660549</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">685165</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">714907</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">747741</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">777098</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">800341</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">820764</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">844225</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">868644</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">895924</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">927372</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">953923</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">977395</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">998136</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1020622</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1043873</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1069587</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1095405</span></code></span><span id="cb24-1"><code>,</code></span><span id="cb24-1"><code><span class="dv">1118643</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1137145</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1155671</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1176913</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1196485</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1222057</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1245777</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1267911</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1285105</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1306316</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1326559</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1349019</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1373255</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1395981</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1416682</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1436260</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1455183</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1473813</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1491974</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1513223</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1536848</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1559020</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1578876</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1600414</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1620096</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1639677</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1660303</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1688335</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1709852</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1727711</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1745546</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1763803</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1784049</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1806724</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1831494</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1855870</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1874023</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1894074</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1918373</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1943743</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">1970066</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2001470</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2031613</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2057493</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2088420</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2123068</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2159633</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2199841</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2244876</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2286401</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2324563</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2362875</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2411709</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2461341</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2514500</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2573030</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2622980</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2667278</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2713656</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2767129</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2825865</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2885325</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">2952393</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3012349</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3069369</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3129738</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3194944</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3263077</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3338308</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3407962</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3469137</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3529938</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3588229</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3653114</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3721574</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3790356</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3862588</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3928575</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">3981476</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4039440</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4101329</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4167741</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4235717</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4303663</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4359188</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4408708</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4455340</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4507370</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4560539</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4617036</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4676822</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4730639</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4777548</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4823529</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4876038</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4929115</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">4981066</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5038637</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5089258</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5130147</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5166032</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5206970</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5251824</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5297150</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5344322</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5388034</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5419494</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5458726</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5497530</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5541830</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5586297</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5631403</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5674714</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5707327</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5742814</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5786178</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5817338</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5862014</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5917466</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5958619</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">5988001</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6012054</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6040456</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6073671</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6110645</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6157050</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6195893</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6228601</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6264192</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6301923</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6341145</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6385411</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6432677</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6472474</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6507345</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6560827</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6597281</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6638806</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6682079</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6734971</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6776512</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6812354</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6847745</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6889421</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6930523</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">6975693</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7027692</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7073962</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7107992</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7168298</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7210171</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7261433</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7315687</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7373073</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7422798</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7466501</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7513020</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7565839</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7625285</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7688761</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7757326</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7808123</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7853753</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7916879</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">7976530</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8039653</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8113165</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8193658</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8270925</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8328369</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8401001</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8473618</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8555199</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8642599</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8737995</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8814233</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8892933</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">8983153</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9074711</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9182627</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9301455</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9436244</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9558668</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9659817</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9784920</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">9923082</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">10065150</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">10222441</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">10405550</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">10560047</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">10691686</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">10852769</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11011484</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11183982</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11367840</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11561152</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11727724</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">11864571</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12039323</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12213742</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12397014</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12495699</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12693598</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12838076</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">12972986</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13135728</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13315143</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13516558</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13728192</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">13958512</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">14158135</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">14325555</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">14519697</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">14731424</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">14954596</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15174109</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15447371</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15647963</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">15826415</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">16020169</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">16218331</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">16465552</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">16697862</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">16941306</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">17132902</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">17305013</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">17498382</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">17694678</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">17918870</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">18106293</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">18200349</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">18410644</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">18559596</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">18740591</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">18932346</span></code></span><span id="cb24-1"><code>, </code></span><span id="cb24-1"><code><span class="dv">19157710</span></code></span><span id="cb24-1"><code>};</code></span></pre>
</div>
<div class="sourceCode" id="cb25">
<pre class="sourceCode mathematica"><span id="cb25-1"><code>lsDeaths = {</code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">0</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">1</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">3</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">6</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">10</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">12</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">12</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">15</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">19</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">22</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">26</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">31</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">37</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">43</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">50</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">59</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">63</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">84</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">106</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">137</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">181</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">223</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">284</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">335</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">419</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">535</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">694</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">880</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">1181</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">1444</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">1598</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">1955</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">2490</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">3117</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">3904</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">4601</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">5864</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">6408</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">7376</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">8850</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">10159</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">11415</span></code></span><span id="cb25-1"><code>,</code></span><span id="cb25-1"><code><span class="dv">12924</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">14229</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">15185</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">16320</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">18257</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">20168</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">21941</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">23382</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">24617</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">26160</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">27535</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">29821</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">31633</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">33410</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">35104</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">36780</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">37660</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">38805</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">40801</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">42976</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">44959</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">46552</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">48064</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">49122</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">50012</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">52079</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">54509</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">56277</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">57766</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">59083</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">59903</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">60840</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">62299</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">63961</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">65623</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">67143</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">68260</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">68959</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">69633</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">71042</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">72474</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">73718</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">74907</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">75891</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">76416</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">76888</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">77579</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">79183</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">80329</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">81452</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">82360</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">82904</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">83582</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">84604</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">85545</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">86487</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">87559</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">88256</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">88624</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">89235</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">90220</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">91070</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">91900</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">92621</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">93282</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">93578</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">93988</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">94710</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">95444</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">96123</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">96760</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">97297</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">97514</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">97832</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">98638</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">99372</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">101807</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">102525</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">103018</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">103258</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">103594</span></code></span><span id="cb25-1"><code>,</code></span><span id="cb25-1"><code><span class="dv">104257</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">104886</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">105558</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">106148</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">106388</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">106614</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">106998</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">107921</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">108806</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">109705</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">110522</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">111177</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">111567</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">111950</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">112882</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">113856</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">114797</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">115695</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">116458</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">116854</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">117367</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">118475</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">119606</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">120684</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">121814</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">122673</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">123105</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">124782</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">126089</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">127465</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">128720</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">130131</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">131172</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">131584</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">132174</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">133517</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">134756</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">135271</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">136584</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">137547</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">138076</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">138601</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">140037</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">141484</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">142656</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">143793</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">144819</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">145315</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">145831</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">147148</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">148517</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">149550</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">150707</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">151641</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">152065</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">152551</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">153741</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">154908</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">156026</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">157006</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">157869</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">158235</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">158714</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">159781</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">160851</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">161916</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">162869</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">163573</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">163970</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">164213</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">164654</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">165811</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">166713</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">167913</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">168594</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">168990</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">169423</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">170674</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">171663</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">172493</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">173408</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">174075</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">174281</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">174689</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">175626</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">176698</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">177559</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">178390</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">179145</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">179398</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">179736</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">180641</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">181607</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">182455</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">183282</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">183975</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">184298</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">184698</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">185414</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">186359</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">187280</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">188168</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">188741</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">189165</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">189501</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">190312</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">191267</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">192077</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">192940</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">193603</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">193976</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">194481</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">195405</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">196563</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">197386</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">198271</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">199126</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">199462</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">199998</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">200965</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">201969</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">202958</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">203878</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">204691</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">205119</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">205623</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">206757</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">208331</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">209417</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">210829</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">211838</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">212277</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">212989</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">214442</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">215872</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">217029</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">218595</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">219791</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">220402</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">221165</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">222750</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">224641</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">226589</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">228452</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">229868</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">230695</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">231669</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">233856</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">236127</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">237284</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">238636</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">239809</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">240607</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">241834</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">244430</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">247258</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">250102</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">252637</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">254784</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">255857</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">257282</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">260038</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">263240</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">266144</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">268940</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">271172</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">272499</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">274082</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">277088</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">280637</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">283899</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">286640</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">289168</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">290552</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">292346</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">295549</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">298953</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">301713</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">302802</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">304403</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">305581</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">307396</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">310994</span></code></span><span id="cb25-1"><code>, </code></span><span id="cb25-1"><code><span class="dv">314654</span></code></span><span id="cb25-1"><code>};</code></span></pre>
</div>
<p><strong>Remark:</strong> The COVID-19 data was ingested from [NYT1] on 2020-12-31,</p>
<h3 id="calibration-targets">Calibration targets</h3>
<p>From the data we make the calibration targets association:</p>
<div class="sourceCode" id="cb26">
<pre class="sourceCode mathematica"><span id="cb26-1"><code>aTargets = &lt;|{ISSP -&gt; </code></span><span id="cb26-1"><code><span class="dv">0</span></code></span><span id="cb26-1"><code><span class="fl">.2</span></code></span><span id="cb26-1"><code> lsCases, INSP -&gt; </code></span><span id="cb26-1"><code><span class="dv">0</span></code></span><span id="cb26-1"><code><span class="fl">.8</span></code></span><span id="cb26-1"><code> lsCases, DIP -&gt; lsDeaths}|&gt;;</code></span></pre>
</div>
<p><strong>Remark:</strong> Note that we split the infection cases into 20% severely symptomatic cases and 80% normally symptomatic cases.</p>
<p>Here is the corresponding plot:</p>
<div class="sourceCode" id="cb27">
<pre class="sourceCode mathematica"><span id="cb27-1"><code><span class="fu">ListLogPlot</span></code></span><span id="cb27-1"><code>[aTargets, PlotTheme -&gt; "Detailed", </code></span><span id="cb27-1"><code><span class="fu">PlotLabel</span></code></span><span id="cb27-1"><code> -&gt; "Calibration targets", </code></span><span id="cb27-1"><code><span class="fu">ImageSize</span></code></span><span id="cb27-1"><code> -&gt; </code></span><span id="cb27-1"><code><span class="fu">Medium</span></code></span><span id="cb27-1"><code>]</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1u9akes6b4dx0.png" alt="1u9akes6b4dx0"></p>
<p>Here we prepare a smaller set of the targets data for the calibration experiments below:</p>
<div class="sourceCode" id="cb28">
<pre class="sourceCode mathematica"><span id="cb28-1"><code>aTargetsShort = </code></span><span id="cb28-1"><code><span class="fu">Take</span></code></span><span id="cb28-1"><code>[#, </code></span><span id="cb28-1"><code><span class="dv">170</span></code></span><span id="cb28-1"><code>] &amp; /@ aTargets;</code></span></pre>
</div>
<h3 id="model-creation">Model creation</h3>
<div class="sourceCode" id="cb29">
<pre class="sourceCode mathematica"><span id="cb29-1"><code>modelSEI2HR = SEI2HRModel[</code></span><span id="cb29-1"><code><span class="fu">t</span></code></span><span id="cb29-1"><code>, "TotalPopulationRepresentation" -&gt; "AlgebraicEquation"];</code></span></pre>
</div>
<p>Here are the parameters we want to experiment with (or do calibration with):</p>
<div class="sourceCode" id="cb30">
<pre class="sourceCode mathematica"><span id="cb30-1"><code>lsFocusParams = {aincp, aip, sspf[SP], \[</code></span><span id="cb30-1"><code><span class="fu">Beta</span></code></span><span id="cb30-1"><code>][HP], qsd, ql, qcrf, nhbcr[ISSP, INSP], nhbr[TP]};</code></span></pre>
</div>
<p>Here we set custom rates and initial conditions:</p>
<div class="sourceCode" id="cb31">
<pre class="sourceCode mathematica"><span id="cb31-1"><code>aDefaultPars = &lt;|</code></span> <span id="cb31-2"><code>    \[</code></span><span id="cb31-2"><code><span class="fu">Beta</span></code></span><span id="cb31-2"><code>][ISSP] -&gt; </code></span><span id="cb31-2"><code><span class="dv">0</span></code></span><span id="cb31-2"><code><span class="fl">.5</span></code></span><span id="cb31-2"><code>*</code></span><span id="cb31-2"><code><span class="fu">Piecewise</span></code></span><span id="cb31-2"><code>[{{</code></span><span id="cb31-2"><code><span class="dv">1</span></code></span><span id="cb31-2"><code>, </code></span><span id="cb31-2"><code><span class="fu">t</span></code></span><span id="cb31-2"><code> &lt; qsd}, {qcrf, qsd &lt;= </code></span><span id="cb31-2"><code><span class="fu">t</span></code></span><span id="cb31-2"><code> &lt;= qsd + ql}}, </code></span><span id="cb31-2"><code><span class="dv">1</span></code></span><span id="cb31-2"><code>], </code></span> <span id="cb31-3"><code>    \[</code></span><span id="cb31-3"><code><span class="fu">Beta</span></code></span><span id="cb31-3"><code>][INSP] -&gt; </code></span><span id="cb31-3"><code><span class="dv">0</span></code></span><span id="cb31-3"><code><span class="fl">.5</span></code></span><span id="cb31-3"><code>*</code></span><span id="cb31-3"><code><span class="fu">Piecewise</span></code></span><span id="cb31-3"><code>[{{</code></span><span id="cb31-3"><code><span class="dv">1</span></code></span><span id="cb31-3"><code>, </code></span><span id="cb31-3"><code><span class="fu">t</span></code></span><span id="cb31-3"><code> &lt; qsd}, {qcrf, qsd &lt;= </code></span><span id="cb31-3"><code><span class="fu">t</span></code></span><span id="cb31-3"><code> &lt;= qsd + ql}}, </code></span><span id="cb31-3"><code><span class="dv">1</span></code></span><span id="cb31-3"><code>], </code></span> <span id="cb31-4"><code>    qsd -&gt; </code></span><span id="cb31-4"><code><span class="dv">60</span></code></span><span id="cb31-4"><code>, </code></span> <span id="cb31-5"><code>    ql -&gt; </code></span><span id="cb31-5"><code><span class="dv">8</span></code></span><span id="cb31-5"><code>*</code></span><span id="cb31-5"><code><span class="dv">7</span></code></span><span id="cb31-5"><code>, </code></span> <span id="cb31-6"><code>    qcrf -&gt; </code></span><span id="cb31-6"><code><span class="dv">0</span></code></span><span id="cb31-6"><code><span class="fl">.25</span></code></span><span id="cb31-6"><code>, </code></span> <span id="cb31-7"><code>    \[</code></span><span id="cb31-7"><code><span class="fu">Beta</span></code></span><span id="cb31-7"><code>][HP] -&gt; </code></span><span id="cb31-7"><code><span class="dv">0</span></code></span><span id="cb31-7"><code><span class="fl">.01</span></code></span><span id="cb31-7"><code>, </code></span> <span id="cb31-8"><code>    \[Mu][ISSP] -&gt; </code></span><span id="cb31-8"><code><span class="dv">0</span></code></span><span id="cb31-8"><code><span class="fl">.035</span></code></span><span id="cb31-8"><code>/aip, </code></span> <span id="cb31-9"><code>    \[Mu][INSP] -&gt; </code></span><span id="cb31-9"><code><span class="dv">0</span></code></span><span id="cb31-9"><code><span class="fl">.01</span></code></span><span id="cb31-9"><code>/aip, </code></span> <span id="cb31-10"><code>    nhbr[TP] -&gt; </code></span><span id="cb31-10"><code><span class="dv">3</span></code></span><span id="cb31-10"><code>/</code></span><span id="cb31-10"><code><span class="dv">1000</span></code></span><span id="cb31-10"><code>, </code></span> <span id="cb31-11"><code>    lpcr[ISSP, INSP] -&gt; </code></span><span id="cb31-11"><code><span class="dv">1</span></code></span><span id="cb31-11"><code>, </code></span> <span id="cb31-12"><code>    hscr[ISSP, INSP] -&gt; </code></span><span id="cb31-12"><code><span class="dv">1</span></code></span><span id="cb31-12"><code> </code></span> <span id="cb31-13"><code>   |&gt;;</code></span></pre>
</div>
<p><strong>Remark:</strong> Note the piecewise functions for <span class="math inline">&#040;\beta [\text{ISSP}]&#041;</span> and <span class="math inline">&#040;\beta [\text{INSP}]&#041;</span>.</p>
<h3 id="calibration">Calibration</h3>
<p>Here is the USA population number we use for calibration:</p>
<div class="sourceCode" id="cb32">
<pre class="sourceCode mathematica"><span id="cb32-1"><code>usaPopulation = QuantityMagnitude@CountryData["UnitedStates", "Population"]</code></span> <code></code> <span id="cb32-3"><code>(*</code></span><span id="cb32-3"><code><span class="dv">329064917</span></code></span><span id="cb32-3"><code>*)</code></span></pre>
</div>
<p>Here is we create a <code>ECMMon</code> object that has default parameters and initial conditions assigned above:</p>
<div class="sourceCode" id="cb33">
<pre class="sourceCode mathematica"><span id="cb33-1"><code><span class="fu">AbsoluteTiming</span></code></span><span id="cb33-1"><code>[</code></span> <span id="cb33-2"><code>  ecmObj3 = </code></span> <span id="cb33-3"><code>    ECMMonUnit[]</code></span><span id="cb33-3"><code>⟹</code></span> <span id="cb33-4"><code>     ECMMonSetSingleSiteModel[modelSEI2HR]</code></span><span id="cb33-4"><code>⟹</code></span> <span id="cb33-5"><code>     ECMMonAssignInitialConditions[&lt;|TP[</code></span><span id="cb33-5"><code><span class="dv">0</span></code></span><span id="cb33-5"><code>] -&gt; usaPopulation, SP[</code></span><span id="cb33-5"><code><span class="dv">0</span></code></span><span id="cb33-5"><code>] -&gt; usaPopulation - </code></span><span id="cb33-5"><code><span class="dv">1</span></code></span><span id="cb33-5"><code>, ISSP[</code></span><span id="cb33-5"><code><span class="dv">0</span></code></span><span id="cb33-5"><code>] -&gt; </code></span><span id="cb33-5"><code><span class="dv">1</span></code></span><span id="cb33-5"><code>|&gt;]</code></span><span id="cb33-5"><code>⟹</code></span> <span id="cb33-6"><code>     ECMMonAssignRateRules[KeyDrop[aDefaultPars, {aip, aincp, qsd, ql, qcrf}]]</code></span><span id="cb33-6"><code>⟹</code></span> <span id="cb33-7"><code>     ECMMonCalibrate[</code></span> <span id="cb33-8"><code>      "Target" -&gt; KeyTake[aTargetsShort, {ISSP, DIP}], </code></span> <span id="cb33-9"><code>      "StockWeights" -&gt; &lt;|ISSP -&gt; </code></span><span id="cb33-9"><code><span class="dv">0</span></code></span><span id="cb33-9"><code><span class="fl">.8</span></code></span><span id="cb33-9"><code>, DIP -&gt; </code></span><span id="cb33-9"><code><span class="dv">0</span></code></span><span id="cb33-9"><code><span class="fl">.2</span></code></span><span id="cb33-9"><code>|&gt;, </code></span> <span id="cb33-10"><code>      "Parameters" -&gt; &lt;|aip -&gt; {</code></span><span id="cb33-10"><code><span class="dv">10</span></code></span><span id="cb33-10"><code>, </code></span><span id="cb33-10"><code><span class="dv">35</span></code></span><span id="cb33-10"><code>}, aincp -&gt; {</code></span><span id="cb33-10"><code><span class="dv">2</span></code></span><span id="cb33-10"><code>, </code></span><span id="cb33-10"><code><span class="dv">16</span></code></span><span id="cb33-10"><code>}, qsd -&gt; {</code></span><span id="cb33-10"><code><span class="dv">60</span></code></span><span id="cb33-10"><code>, </code></span><span id="cb33-10"><code><span class="dv">120</span></code></span><span id="cb33-10"><code>}, ql -&gt; {</code></span><span id="cb33-10"><code><span class="dv">20</span></code></span><span id="cb33-10"><code>, </code></span><span id="cb33-10"><code><span class="dv">160</span></code></span><span id="cb33-10"><code>}, qcrf -&gt; {</code></span><span id="cb33-10"><code><span class="dv">0</span></code></span><span id="cb33-10"><code><span class="fl">.1</span></code></span><span id="cb33-10"><code>, </code></span><span id="cb33-10"><code><span class="dv">0</span></code></span><span id="cb33-10"><code><span class="fl">.9</span></code></span><span id="cb33-10"><code>}|&gt;, </code></span> <span id="cb33-11"><code>      </code></span><span id="cb33-11"><code><span class="fu">DistanceFunction</span></code></span><span id="cb33-11"><code> -&gt; </code></span><span id="cb33-11"><code><span class="fu">EuclideanDistance</span></code></span><span id="cb33-11"><code>, </code></span> <span id="cb33-12"><code>      </code></span><span id="cb33-12"><code><span class="fu">Method</span></code></span><span id="cb33-12"><code> -&gt; {"NelderMead", "PostProcess" -&gt; </code></span><span id="cb33-12"><code><span class="fu">False</span></code></span><span id="cb33-12"><code>}, </code></span> <span id="cb33-13"><code>      </code></span><span id="cb33-13"><code><span class="fu">MaxIterations</span></code></span><span id="cb33-13"><code> -&gt; </code></span><span id="cb33-13"><code><span class="dv">1000</span></code></span><span id="cb33-13"><code> </code></span> <span id="cb33-14"><code>     ]; </code></span> <span id="cb33-15"><code> ]</code></span> <code></code> <span id="cb33-17"><code>(*{</code></span><span id="cb33-17"><code><span class="dv">28</span></code></span><span id="cb33-17"><code><span class="fl">.0993</span></code></span><span id="cb33-17"><code>, </code></span><span id="cb33-17"><code><span class="fu">Null</span></code></span><span id="cb33-17"><code>}*)</code></span></pre>
</div>
<p>Here are the found parameters:</p>
<div class="sourceCode" id="cb34">
<pre class="sourceCode mathematica"><span id="cb34-1"><code>calRes = ecmObj3</code></span><span id="cb34-1"><code>⟹</code></span><span id="cb34-1"><code>ECMMonTakeValue</code></span> <code></code> <span id="cb34-3"><code>(*{</code></span><span id="cb34-3"><code><span class="dv">152516</span></code></span><span id="cb34-3"><code>., {aip -&gt; </code></span><span id="cb34-3"><code><span class="dv">10</span></code></span><span id="cb34-3"><code>., aincp -&gt; </code></span><span id="cb34-3"><code><span class="dv">3</span></code></span><span id="cb34-3"><code><span class="fl">.67018</span></code></span><span id="cb34-3"><code>, qsd -&gt; </code></span><span id="cb34-3"><code><span class="dv">81</span></code></span><span id="cb34-3"><code><span class="fl">.7067</span></code></span><span id="cb34-3"><code>, ql -&gt; </code></span><span id="cb34-3"><code><span class="dv">111</span></code></span><span id="cb34-3"><code><span class="fl">.422</span></code></span><span id="cb34-3"><code>, qcrf -&gt; </code></span><span id="cb34-3"><code><span class="dv">0</span></code></span><span id="cb34-3"><code><span class="fl">.312499</span></code></span><span id="cb34-3"><code>}}*)</code></span></pre>
</div>
<h4 id="using-different-minimization-methods-and-distance-functions">Using different minimization methods and distance functions</h4>
<p>In the monad the calibration of the models is done with <code>NMinimize</code>. Hence, the monad function <code>ECMMonCalibrate</code> takes all options of <code>NMinimize</code> and can do calibrations with the same data and parameter search space using different global minima finding methods and distance functions.</p>
<p><strong>Remark:</strong> <code>EuclideanDistance</code> is an obvious distance function, but use others like infinity norm and sum norm. Also, we can use a distance function that takes parts of the data. (E.g. between days 50 and 150 because the rest of the data is, say, unreliable.)</p>
<h3 id="verification-of-the-fit">Verification of the fit</h3>
<div class="sourceCode" id="cb35">
<pre class="sourceCode mathematica"><span id="cb35-1"><code>maxTime = </code></span><span id="cb35-1"><code><span class="fu">Length</span></code></span><span id="cb35-1"><code>[aTargets[[</code></span><span id="cb35-1"><code><span class="dv">1</span></code></span><span id="cb35-1"><code>]]];</code></span></pre>
</div>
<div class="sourceCode" id="cb36">
<pre class="sourceCode mathematica"><span id="cb36-1"><code>ecmObj4 = </code></span> <span id="cb36-2"><code>   ECMMonUnit[]</code></span><span id="cb36-2"><code>⟹</code></span> <span id="cb36-3"><code>    ECMMonSetSingleSiteModel[modelSEI2HR]</code></span><span id="cb36-3"><code>⟹</code></span> <span id="cb36-4"><code>    ECMMonAssignInitialConditions[&lt;|TP[</code></span><span id="cb36-4"><code><span class="dv">0</span></code></span><span id="cb36-4"><code>] -&gt; usaPopulation, SP[</code></span><span id="cb36-4"><code><span class="dv">0</span></code></span><span id="cb36-4"><code>] -&gt; usaPopulation - </code></span><span id="cb36-4"><code><span class="dv">1</span></code></span><span id="cb36-4"><code>, ISSP[</code></span><span id="cb36-4"><code><span class="dv">0</span></code></span><span id="cb36-4"><code>] -&gt; </code></span><span id="cb36-4"><code><span class="dv">1</span></code></span><span id="cb36-4"><code>|&gt;]</code></span><span id="cb36-4"><code>⟹</code></span> <span id="cb36-5"><code>    ECMMonAssignRateRules[</code></span><span id="cb36-5"><code><span class="fu">Join</span></code></span><span id="cb36-5"><code>[aDefaultPars, Association[calRes[[</code></span><span id="cb36-5"><code><span class="dv">2</span></code></span><span id="cb36-5"><code>]]]]]</code></span><span id="cb36-5"><code>⟹</code></span> <span id="cb36-6"><code>    ECMMonSimulate[maxTime]</code></span><span id="cb36-6"><code>⟹</code></span> <span id="cb36-7"><code>    ECMMonPlotSolutions[</code></span><span id="cb36-7"><code><span class="dt">___</span></code></span><span id="cb36-7"><code> ~~ "Population" ~~ </code></span><span id="cb36-7"><code><span class="dt">___</span></code></span><span id="cb36-7"><code>, maxTime, </code></span><span id="cb36-7"><code><span class="fu">ImageSize</span></code></span><span id="cb36-7"><code> -&gt; </code></span><span id="cb36-7"><code><span class="fu">Large</span></code></span><span id="cb36-7"><code>, </code></span><span id="cb36-7"><code><span class="fu">LogPlot</span></code></span><span id="cb36-7"><code> -&gt; </code></span><span id="cb36-7"><code><span class="fu">False</span></code></span><span id="cb36-7"><code>];</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/12rw9e4vl0vy0.png" alt="12rw9e4vl0vy0"></p>
<div class="sourceCode" id="cb37">
<pre class="sourceCode mathematica"><span id="cb37-1"><code>aSol4 = ecmObj4</code></span><span id="cb37-1"><code>⟹</code></span><span id="cb37-1"><code>ECMMonGetSolutionValues[Keys[aTargets], maxTime]</code></span><span id="cb37-1"><code>⟹</code></span><span id="cb37-1"><code>ECMMonTakeValue;</code></span></pre>
</div>
<div class="sourceCode" id="cb38">
<pre class="sourceCode mathematica"><span id="cb38-1"><code><span class="fu">Map</span></code></span><span id="cb38-1"><code>[</code></span><span id="cb38-1"><code><span class="fu">ListLogPlot</span></code></span><span id="cb38-1"><code>[{aSol4[#], aTargets[#]}, </code></span><span id="cb38-1"><code><span class="fu">PlotLabel</span></code></span><span id="cb38-1"><code> -&gt; #, </code></span><span id="cb38-1"><code><span class="fu">PlotRange</span></code></span><span id="cb38-1"><code> -&gt; </code></span><span id="cb38-1"><code><span class="fu">All</span></code></span><span id="cb38-1"><code>, </code></span><span id="cb38-1"><code><span class="fu">ImageSize</span></code></span><span id="cb38-1"><code> -&gt; </code></span><span id="cb38-1"><code><span class="fu">Medium</span></code></span><span id="cb38-1"><code>, PlotLegends -&gt; {"Calibrated model", "Target"}] &amp;, Keys[aTargets]]</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/10kkuh7578jjz.png" alt="10kkuh7578jjz"></p>
<h3 id="conclusions-from-the-calibration-results">Conclusions from the calibration results</h3>
<p>We see the that with the calibration found parameter values the model can fit the data for the first 200 days, after that it overestimates the evolution of the infected and deceased popupulations.</p>
<p>We can conjecture that:</p>
<ul>
<li>The model is too simple, hence inadequate</li>
<li>That more complicated quarantine policy functions have to be used</li>
<li>That the calibration process got stuck in some local minima</li>
</ul>
<h2 id="future-plans">Future plans</h2>
<p>In this section we outline some of the directions in which the presented work on <code>ECMMon</code> can be extended.</p>
<h3 id="more-unit-tests-and-random-unit-tests">More unit tests and random unit tests</h3>
<p>We consider the preparation and systematic utilization of unit tests to be a very important component of any software development. Unit tests are especially important when complicated software package like <code>ECMMon</code> are developed.</p>
<p>For the presented software monad (and its separately developed, underlying packages) have implemented a few collections of tests, see [AAp10, AAp11].</p>
<p>We plan to extend and add more complicated unit tests that test for both quantitative and qualitative behavior. Here are some examples for such tests:</p>
<ul>
<li>Stock-vs-stock orbits produced by simulations of certain epidemic models</li>
<li>Expected theoretical relationships between populations (or other stocks) for certain initial conditions and rates</li>
<li>Wave-like propagation of the proportions of the infected populations in multi-site models over artificial countries and traveling patterns</li>
<li>Finding of correct parameter values with model calibration over different data (both artificial and real life)</li>
<li>Expected number of equations for different model set-ups</li>
<li>Expected (relative) speed of simulations with respect to model sizes</li>
</ul>
<p>Further for the monad <code>ECMMon</code> we plant to develop random pipeline unit tests as the ones in [AAp12] for the classification monad <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/MonadicContextualClassification.m">ClCon</a>, [<a href="https://mathematicaforprediction.wordpress.com/2018/05/15/a-monad-for-classification-workflows/">AA11</a>].</p>
<h3 id="more-comprehensive-calibration-guides-and-documentation">More comprehensive calibration guides and documentation</h3>
<p>We plan to produce more comprehensive guides for doing calibration with <code>ECMMon</code> and in general with Mathematica’s <a href="https://reference.wolfram.com/language/ref/NDSolve.html">NDSolve</a> and <a href="https://reference.wolfram.com/language/ref/NMinimize.html">NMinimize</a> functions.</p>
<h3 id="full-correspondence-between-the-mathematica-and-r-implementations">Full correspondence between the Mathematica and R implementations</h3>
<p>The ingredients of the software monad <code>ECMMon</code> and <code>ECMMon</code> itself were designed and implemented in Mathematica first. The corresponding design and implementation was done in R, [<a href="https://github.com/antononcube/ECMMon-R">AAr2</a>]. To distinguish the two implementations we call the R one ECMMon-R and Mathematica (Wolfram Language) one ECMMon-WL.</p>
<p>At this point the calibration is not implemented in ECMMon-R, but we plan to do that soon.</p>
<p>Using ECMMon-R (and the RStudio’s Shiny ecosystem) allows for highly shareable interactive interfaces to be programed. Here is an example: <a href="https://antononcube.shinyapps.io/SEI2HR-flexdashboard/" rel="nofollow">https://antononcube.shinyapps.io/SEI2HR-flexdashboard/</a> .</p>
<p>(With Mathematica similar interactive interfaces are presented in [AA7, AA8].)</p>
<h3 id="model-transfer-between-mathematica-and-r">Model transfer between Mathematica and R</h3>
<p>We are very interested in transferring epidemiological models from Mathematica to R (or Python, or Julia.)</p>
<p>This can be done in two principle ways: (i) using Mathematica expressions parsers, or (ii) using matrix representations. We plan to investigate the usage of both approaches.</p>
<h3 id="conversational-agent">Conversational agent</h3>
<p>Consider the making of a conversational agent for epidemiology modeling workflows building. Initial design and implementation is given in [AA13, AA14].</p>
<p>Consider the following epidemiology modeling workflow specification:</p>
<div class="sourceCode" id="cb39">
<pre class="sourceCode mathematica"><span id="cb39-1"><code>lsCommands = "create </code></span><span id="cb39-1"><code><span class="fu">with</span></code></span><span id="cb39-1"><code> SEI2HR;assign </code></span><span id="cb39-1"><code><span class="dv">100000</span></code></span><span id="cb39-1"><code> to </code></span><span id="cb39-1"><code><span class="fu">total</span></code></span><span id="cb39-1"><code> population;</code></span><span id="cb39-1"><code><span class="fu">set</span></code></span><span id="cb39-1"><code> infected normally symptomatic population to be </code></span><span id="cb39-1"><code><span class="dv">0</span></code></span><span id="cb39-1"><code>;</code></span><span id="cb39-1"><code><span class="fu">set</span></code></span><span id="cb39-1"><code> infected severely symptomatic population to be </code></span><span id="cb39-1"><code><span class="dv">1</span></code></span><span id="cb39-1"><code>;assign </code></span><span id="cb39-1"><code><span class="dv">0</span></code></span><span id="cb39-1"><code><span class="fl">.56</span></code></span><span id="cb39-1"><code> to contact rate of infected normally symptomatic population;assign </code></span><span id="cb39-1"><code><span class="dv">0</span></code></span><span id="cb39-1"><code><span class="fl">.58</span></code></span><span id="cb39-1"><code> to contact rate of infected severely symptomatic population;assign </code></span><span id="cb39-1"><code><span class="dv">0</span></code></span><span id="cb39-1"><code><span class="fl">.1</span></code></span><span id="cb39-1"><code> to contact rate of the hospitalized population;simulate </code></span><span id="cb39-1"><code><span class="fu">for</span></code></span><span id="cb39-1"><code> </code></span><span id="cb39-1"><code><span class="dv">240</span></code></span><span id="cb39-1"><code> days;</code></span><span id="cb39-1"><code><span class="fu">plot</span></code></span><span id="cb39-1"><code> populations results;calibrate </code></span><span id="cb39-1"><code><span class="fu">for</span></code></span><span id="cb39-1"><code> target DIPt -&gt; tsDeaths, over parameters contactRateISSP </code></span><span id="cb39-1"><code><span class="fu">in</span></code></span><span id="cb39-1"><code> from </code></span><span id="cb39-1"><code><span class="dv">0</span></code></span><span id="cb39-1"><code><span class="fl">.1</span></code></span><span id="cb39-1"><code> to </code></span><span id="cb39-1"><code><span class="dv">0</span></code></span><span id="cb39-1"><code><span class="fl">.7</span></code></span><span id="cb39-1"><code>;echo pipeline value";</code></span></pre>
</div>
<p>Here is the <code>ECMMon</code> code generated using the workflow specification:</p>
<div class="sourceCode" id="cb40">
<pre class="sourceCode mathematica"><span id="cb40-1"><code>ToEpidemiologyModelingWorkflowCode[lsCommands, "Execute" -&gt; </code></span><span id="cb40-1"><code><span class="fu">False</span></code></span><span id="cb40-1"><code>, "StringResult" -&gt; </code></span><span id="cb40-1"><code><span class="fu">True</span></code></span><span id="cb40-1"><code>]</code></span> <code></code> <span id="cb40-3"><code>(*"ECMMonUnit[SEI2HRModel[</code></span><span id="cb40-3"><code><span class="fu">t</span></code></span><span id="cb40-3"><code>]] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonAssignInitialConditions[&lt;|TP[</code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code>] -&gt; </code></span><span id="cb40-3"><code><span class="dv">100000</span></code></span><span id="cb40-3"><code>|&gt;] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonAssignInitialConditions[&lt;|INSP[</code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code>] -&gt; </code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code>|&gt;] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonAssignInitialConditions[&lt;|ISSP[</code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code>] -&gt; </code></span><span id="cb40-3"><code><span class="dv">1</span></code></span><span id="cb40-3"><code>|&gt;] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonAssignRateRules[&lt;|\\[</code></span><span id="cb40-3"><code><span class="fu">Beta</span></code></span><span id="cb40-3"><code>][INSP] -&gt; </code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code><span class="fl">.56</span></code></span><span id="cb40-3"><code>|&gt;] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonAssignRateRules[&lt;|\\[</code></span><span id="cb40-3"><code><span class="fu">Beta</span></code></span><span id="cb40-3"><code>][ISSP] -&gt; </code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code><span class="fl">.58</span></code></span><span id="cb40-3"><code>|&gt;] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonAssignRateRules[&lt;|\\[</code></span><span id="cb40-3"><code><span class="fu">Beta</span></code></span><span id="cb40-3"><code>][HP] -&gt; </code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code><span class="fl">.1</span></code></span><span id="cb40-3"><code>|&gt;] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonSimulate[\"MaxTime\" -&gt; </code></span><span id="cb40-3"><code><span class="dv">240</span></code></span><span id="cb40-3"><code>] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonPlotSolutions[ \"Stocks\" -&gt; </code></span><span id="cb40-3"><code><span class="dt">__</span></code></span><span id="cb40-3"><code> ~~ \"Population\"] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonCalibrate[ \"Target\" -&gt; &lt;|DIP -&gt; tsDeaths|&gt;, \"Parameters\" -&gt; &lt;|\\[</code></span><span id="cb40-3"><code><span class="fu">Beta</span></code></span><span id="cb40-3"><code>][ISSP] -&gt; {</code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code><span class="fl">.1</span></code></span><span id="cb40-3"><code>, </code></span><span id="cb40-3"><code><span class="dv">0</span></code></span><span id="cb40-3"><code><span class="fl">.7</span></code></span><span id="cb40-3"><code>}|&gt; ] </code></span><span id="cb40-3"><code>⟹</code></span><span id="cb40-3"><code>ECMMonEchoValue[]"*)</code></span></pre>
</div>
<p>Here is the execution of the code above:</p>
<div class="sourceCode" id="cb41">
<pre class="sourceCode mathematica"><span id="cb41-1"><code><span class="fu">Block</span></code></span><span id="cb41-1"><code>[{tsDeaths = </code></span><span id="cb41-1"><code><span class="fu">Take</span></code></span><span id="cb41-1"><code>[lsDeaths, </code></span><span id="cb41-1"><code><span class="dv">150</span></code></span><span id="cb41-1"><code>]}, ToEpidemiologyModelingWorkflowCode[lsCommands]];</code></span></pre>
</div>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0cs73r03ki1mi.png" alt="0cs73r03ki1mi"></p>
<p><img src="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0227wiq3locdf.png" alt="0227wiq3locdf"></p>
<h4 id="different-target-languages">Different target languages</h4>
<p>Using the natural commands workflow specification we can generate code to other languages, like, Python or R:</p>
<div class="sourceCode" id="cb42">
<pre class="sourceCode mathematica"><span id="cb42-1"><code>ToEpidemiologyModelingWorkflowCode[lsCommands, "Target" -&gt; "Python"]</code></span> <code></code> <span id="cb42-3"><code>(*"obj = ECMMonUnit( model = SEI2HRModel())obj = ECMMonAssignInitialConditions( ecmObj = obj, initConds = [TPt = </code></span><span id="cb42-3"><code><span class="dv">100000</span></code></span><span id="cb42-3"><code>])obj = ECMMonAssignInitialConditions( ecmObj = obj, initConds = [INSPt = </code></span><span id="cb42-3"><code><span class="dv">0</span></code></span><span id="cb42-3"><code>])obj = ECMMonAssignInitialConditions( ecmObj = obj, initConds = [ISSPt = </code></span><span id="cb42-3"><code><span class="dv">1</span></code></span><span id="cb42-3"><code>])obj = ECMMonAssignRateValues( ecmObj = obj, rateValues = [contactRateINSP = </code></span><span id="cb42-3"><code><span class="dv">0</span></code></span><span id="cb42-3"><code><span class="fl">.56</span></code></span><span id="cb42-3"><code>])obj = ECMMonAssignRateValues( ecmObj = obj, rateValues = [contactRateISSP = </code></span><span id="cb42-3"><code><span class="dv">0</span></code></span><span id="cb42-3"><code><span class="fl">.58</span></code></span><span id="cb42-3"><code>])obj = ECMMonAssignRateValues( ecmObj = obj, rateValues = [contactRateHP = </code></span><span id="cb42-3"><code><span class="dv">0</span></code></span><span id="cb42-3"><code><span class="fl">.1</span></code></span><span id="cb42-3"><code>])obj = ECMMonSimulate( ecmObj = obj, maxTime = </code></span><span id="cb42-3"><code><span class="dv">240</span></code></span><span id="cb42-3"><code>)obj = ECMMonPlotSolutions( ecmObj = obj, stocksSpec = \".*Population\")obj = ECMMonCalibrate( ecmObj = obj,  target = [DIPt = tsDeaths], parameters = [contactRateISSP = [</code></span><span id="cb42-3"><code><span class="dv">0</span></code></span><span id="cb42-3"><code><span class="fl">.1</span></code></span><span id="cb42-3"><code>, </code></span><span id="cb42-3"><code><span class="dv">0</span></code></span><span id="cb42-3"><code><span class="fl">.7</span></code></span><span id="cb42-3"><code>]] )"*)</code></span></pre>
</div>
<h2 id="references">References</h2>
<h3 id="articles">Articles</h3>
<p>[Wk1] Wikipedia entry, <a href="https://en.wikipedia.org/wiki/Monad_(functional_programming)">Monad</a>.</p>
<p>[Wk2] Wikipedia entry, <a href="https://en.wikipedia.org/wiki/Compartmental_models_in_epidemiology">“Compartmental models in epidemiology”</a>.</p>
<p>[Wk3] Wikipedia entry, <a href="https://en.wikipedia.org/wiki/Coronavirus_disease_2019">“Coronavirus disease 2019”</a>.</p>
<p>[BC1] Lucia Breierova, Mark Choudhari, <a href="https://ocw.mit.edu/courses/sloan-school-of-management/15-988-system-dynamics-self-study-fall-1998-spring-1999/readings/sensitivityanalysis.pdf">An Introduction to Sensitivity Analysis</a>, (1996), Massachusetts Institute of Technology.</p>
<p>[JS1] John D.Sterman, Business Dynamics: Systems Thinking and Modeling for a Complex World. (2000), New York: McGraw.</p>
<p>[HH1] Herbert W. Hethcote (2000). <a href="http://leonidzhukov.net/hse/2014/socialnetworks/papers/2000SiamRev.pdf">“The Mathematics of Infectious Diseases”</a>. SIAM Review. 42 (4): 599–653. Bibcode:2000SIAMR..42..599H. doi:10.1137/s0036144500371907.</p>
<p>[AA1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MarkdownDocuments/Monad-code-generation-and-extension.md">”Monad code generation and extension”</a>, (2017), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction at GitHub/antononcube</a><em>.</em></p>
<p>[AA2] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/Coronavirus-propagation-modeling-considerations.md">“Coronavirus propagation modeling considerations”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA3] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/Basic-experiments-workflow-for-simple-epidemiological-models.md">“Basic experiments workflow for simple epidemiological models”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA4] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/Scaling-of-epidemiology-models-with-multi-site-compartments.md">“Scaling of Epidemiology Models with Multi-site Compartments”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA5] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/WirVsVirus-hackathon-Multi-site-SEI2R-over-a-hexagonal-grid-graph.md">“WirVsVirus hackathon multi-site SEI2R over a hexagonal grid graph”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA6] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/NYTimes-COVID-19-data-visualization.md">“NY Times COVID-19 data visualization”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA7] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/SEI2HR-model-with-quarantine-scenarios.md">“SEI2HR model with quarantine scenarios”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA8] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/Documents/SEI2HR-Econ-model-with-quarantine-and-supplies-scenarios.md">“SEI2HR-Econ model with quarantine and supplies scenarios”</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA9] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/org/Modelers-questionnaire.org">Modelers questionnaire</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA10] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/org/Calibrators-questionnaire.org">Calibrators questionnaire</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AA11] Anton Antonov, <a href="https://mathematicaforprediction.wordpress.com/2018/05/15/a-monad-for-classification-workflows/">A monad for classification workflows</a>, (2018), <a href="https://mathematicaforprediction.wordpress.com">MathematicaForPrediction at WordPress</a>.</p>
<h3 id="repositories-packages">Repositories, packages</h3>
<p>[WRI1] Wolfram Research, Inc., <a href="https://www.wolframcloud.com/obj/resourcesystem/published/DataRepository/resources/Epidemic-Data-for-Novel-Coronavirus-COVID-19">“Epidemic Data for Novel Coronavirus COVID-19”</a>, <a href="https://www.wolframcloud.com">WolframCloud</a>.</p>
<p>[WRI2] Wolfram Research Inc., <a href="https://github.com/antononcube/SystemModeling/blob/master/Data/dfUSACountyRecords.csv">USA county records</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">System Modeling at GitHub</a>.</p>
<p>[NYT1] The New York Times, <a href="https://github.com/nytimes/covid-19-data">Coronavirus (Covid-19) Data in the United States</a>, (2020), GitHub.</p>
<p>[AAr1] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/tree/master/Projects/Coronavirus-propagation-dynamics">Coronavirus propagation dynamics project</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAr2] Anton Antonov, <a href="https://github.com/antononcube/ECMMon-R">Epidemiology Compartmental Modeling Monad R package</a>, (2020), <a href="https://github.com/antononcube/ECMMon-R">ECMMon-R at GitHu/antononcube</a>.</p>
<p>[AAp1] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/StateMonadCodeGenerator.m">State monad code generator Mathematica package</a>, (2017), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction at GitHub/antononcube</a><em>.</em></p>
<p>[AAp2] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/MonadicProgramming/MonadicTracing.m">Monadic tracing Mathematica package</a>, (2017), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction at GitHub/antononcube</a><em>.</em></p>
<p>[AAp3] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/EpidemiologyModels.m">Epidemiology models Mathematica package</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp4] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/EpidemiologyModelModifications.m">Epidemiology models modifications Mathematica package</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp5] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/EpidemiologyModelingVisualizationFunctions.m">Epidemiology modeling visualization functions Mathematica package</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp6] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/WL/SystemDynamicsInteractiveInterfacesFunctions.m">System dynamics interactive interfaces functions Mathematica package</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp7] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/MultiSiteModelSimulation.m">Multi-site model simulation Mathematica package</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp8] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/MonadicEpidemiologyCompartmentalModeling.m">Monadic Epidemiology Compartmental Modeling Mathematica package</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp9] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/Misc/HextileBins.m">Hextile bins Mathematica package</a>, (2020), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction at GitHub/antononcube</a>.</p>
<p>[AAp10] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/UnitTests/MonadicEpidemiologyCompartmentalModeling-Unit-Tests.mt">Monadic Epidemiology Compartmental Modeling Mathematica unit tests</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp11] Anton Antonov, <a href="https://github.com/antononcube/SystemModeling/blob/master/Projects/Coronavirus-propagation-dynamics/WL/UnitTests/EpidemiologyModels-NDSolve-Unit-Tests.m">Epidemiology Models NDSolve Mathematica unit tests</a>, (2020), <a href="https://github.com/antononcube/SystemModeling">SystemModeling at GitHub/antononcube</a>.</p>
<p>[AAp12] Anton Antonov, <a href="https://github.com/antononcube/MathematicaForPrediction/blob/master/UnitTests/MonadicContextualClassificationRandomPipelinesUnitTests.m">Monadic contextual classification random pipelines Mathematica unit tests</a>, (2018), <a href="https://github.com/antononcube/MathematicaForPrediction">MathematicaForPrediction at GitHub/antononcube</a><em>.</em></p>
<p>[AAp13] Anton Antonov, <a href="https://github.com/antononcube/Raku-DSL-English-EpidemiologyModelingWorkflows">Epidemiology Modeling Workflows Raku package</a>, (2020), <a href="https://github.com/antononcube/Raku-DSL-English-EpidemiologyModelingWorkflows">Raku-DSL-English-EpidemiologyModelingWorkflows at GitHu/antononcube</a>.</p>
<p>[AAp14] Anton Antonov, <a href="https://github.com/antononcube/ConversationalAgents/blob/master/Packages/WL/ExternalParsersHookup.m">External Parsers Hookup Mathematica package</a>, (2019), <a href="https://github.com/antononcube/ConversationalAgents">ConversationalAgents at GitHub</a>.</p>
]]></content:encoded>
					
					<wfw:commentRss>https://mathematicaforprediction.wordpress.com/2021/01/02/epidemiology-compartmental-modeling-monad/feed/</wfw:commentRss>
			<slash:comments>1</slash:comments>
		
		
		
		<media:thumbnail url="https://mathematicaforprediction.files.wordpress.com/2021/01/ecmmon-monad-tracing.png" />
		<media:content url="https://mathematicaforprediction.files.wordpress.com/2021/01/ecmmon-monad-tracing.png" medium="image">
			<media:title type="html">ECMMon-monad-tracing</media:title>
		</media:content>

		<media:content url="https://1.gravatar.com/avatar/7676a2cb294d0b5eea38d0acef91aa7f?s=96&#38;d=identicon&#38;r=G" medium="image">
			<media:title type="html">antononcube</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0ejgq885m1unt.png" medium="image">
			<media:title type="html">0ejgq885m1unt</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/14u60cftusqlc.png" medium="image">
			<media:title type="html">14u60cftusqlc</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/06grm5lhtjiv9.png" medium="image">
			<media:title type="html">06grm5lhtjiv9</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/01mnhk5boxlto.png" medium="image">
			<media:title type="html">01mnhk5boxlto</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1km2posdmqoic.png" medium="image">
			<media:title type="html">1km2posdmqoic</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0lqx1d453pio1.png" medium="image">
			<media:title type="html">0lqx1d453pio1</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Diagrams/Model-development-and-decision-making.jpeg" medium="image">
			<media:title type="html">Model-development-and-decision-making</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Diagrams/ECMMon-workflow.jpg" medium="image">
			<media:title type="html">ECMMon-workflow</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Diagrams/Coronavirus-propagation-simple-dynamics.jpeg" medium="image">
			<media:title type="html">Coronavirus-propagation-simple-dynamics</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1fjs0wfx4mrpj.png" medium="image">
			<media:title type="html">1fjs0wfx4mrpj</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1db54x7hgf4iw.png" medium="image">
			<media:title type="html">1db54x7hgf4iw</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0y0cfyttq7yn6.png" medium="image">
			<media:title type="html">0y0cfyttq7yn6</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0gh46eljka9v5.png" medium="image">
			<media:title type="html">0gh46eljka9v5</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/04xdyad4mmniu.png" medium="image">
			<media:title type="html">04xdyad4mmniu</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1mn5x0eb0hbvl.png" medium="image">
			<media:title type="html">1mn5x0eb0hbvl</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/009qnefuurlhw.png" medium="image">
			<media:title type="html">009qnefuurlhw</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/09xeiox9ane2w.png" medium="image">
			<media:title type="html">09xeiox9ane2w</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/13kldiv0a47ua.png" medium="image">
			<media:title type="html">13kldiv0a47ua</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0jjxrwhkaj7ys.png" medium="image">
			<media:title type="html">0jjxrwhkaj7ys</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1qgjcibkzvib0.png" medium="image">
			<media:title type="html">1qgjcibkzvib0</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1bm71msuv1s02.png" medium="image">
			<media:title type="html">1bm71msuv1s02</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0l96q6lg8vg9n.png" medium="image">
			<media:title type="html">0l96q6lg8vg9n</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1w1u7nso952k8.png" medium="image">
			<media:title type="html">1w1u7nso952k8</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0gp4bff16s2rj.png" medium="image">
			<media:title type="html">0gp4bff16s2rj</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1pfvwkdwlm72j.png" medium="image">
			<media:title type="html">1pfvwkdwlm72j</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0in55gql6v1yi.png" medium="image">
			<media:title type="html">0in55gql6v1yi</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1fxxap0npojve.png" medium="image">
			<media:title type="html">1fxxap0npojve</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1e0ctc7lt1tbh.png" medium="image">
			<media:title type="html">1e0ctc7lt1tbh</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0a1hc3qgvuof7.png" medium="image">
			<media:title type="html">0a1hc3qgvuof7</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1veewx20b1778.png" medium="image">
			<media:title type="html">1veewx20b1778</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0es5cj4hgrljm.png" medium="image">
			<media:title type="html">0es5cj4hgrljm</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/17ofnpddvw8ud.png" medium="image">
			<media:title type="html">17ofnpddvw8ud</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1e260m2euunsl.png" medium="image">
			<media:title type="html">1e260m2euunsl</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1u4ta8aypszhz.png" medium="image">
			<media:title type="html">1u4ta8aypszhz</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/1u9akes6b4dx0.png" medium="image">
			<media:title type="html">1u9akes6b4dx0</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/12rw9e4vl0vy0.png" medium="image">
			<media:title type="html">12rw9e4vl0vy0</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/10kkuh7578jjz.png" medium="image">
			<media:title type="html">10kkuh7578jjz</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0cs73r03ki1mi.png" medium="image">
			<media:title type="html">0cs73r03ki1mi</media:title>
		</media:content>

		<media:content url="https://github.com/antononcube/SystemModeling/raw/master/Projects/Coronavirus-propagation-dynamics/Documents/Diagrams/Epidemiology-Compartmental-Modeling-Monad/0227wiq3locdf.png" medium="image">
			<media:title type="html">0227wiq3locdf</media:title>
		</media:content>
	</item>
	</channel>
</rss>
