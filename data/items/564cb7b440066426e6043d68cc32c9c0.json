{
  "title": "Bluetooth device gone (and back) in Dell Vostro with Ubuntu 18.04",
  "link": "https://rinzewind.org/blog-en/2021/bluetooth-device-gone-and-back-in-dell-vostro-with-ubuntu-1804.html",
  "description": "<p><em>(This article is in part a copy &amp; paste of the same question I asked in a \ncouple of forums (<a href=\"https://ubuntuforums.org/showthread.php?t=2456692&amp;p=14014846\">1</a>, <a href=\"https://askubuntu.com/questions/1308862/bluetooth-device-suddenly-gone/1310594\">2</a>), along with the solution and some additional \nobservations.)</em></p>\n<h2>Original question</h2>\n<p>I have a Dell Vostro 15 3000 running (X)Ubuntu 18.04. It's been working well, \nbut yesterday I noticed the Bluetooth icon missing from the taskbar and started \ninvestigating why.</p>\n<p>The issue seems to be that the Bluetooth device my computer has is gone. This is \na normal startup log, or at least what I understand to be normal, from \n<code>kern.log</code>:</p>\n<div class=\"highlight\"><pre><span></span><code>Jan  <span class=\"m\">4</span> <span class=\"m\">08</span>:24:15 serenity kernel: <span class=\"o\">[</span>   <span class=\"m\">10</span>.593120<span class=\"o\">]</span> Bluetooth: Core ver <span class=\"m\">2</span>.22\nJan  <span class=\"m\">4</span> <span class=\"m\">08</span>:24:15 serenity kernel: <span class=\"o\">[</span>   <span class=\"m\">10</span>.593130<span class=\"o\">]</span> NET: Registered protocol family <span class=\"m\">31</span>\nJan  <span class=\"m\">4</span> <span class=\"m\">08</span>:24:15 serenity kernel: <span class=\"o\">[</span>   <span class=\"m\">10</span>.593131<span class=\"o\">]</span> Bluetooth: HCI device and connection manager initialized\nJan  <span class=\"m\">4</span> <span class=\"m\">08</span>:24:15 serenity kernel: <span class=\"o\">[</span>   <span class=\"m\">10</span>.593134<span class=\"o\">]</span> Bluetooth: HCI socket layer initialized\nJan  <span class=\"m\">4</span> <span class=\"m\">08</span>:24:15 serenity kernel: <span class=\"o\">[</span>   <span class=\"m\">10</span>.593135<span class=\"o\">]</span> Bluetooth: L2CAP socket layer initialized\nJan  <span class=\"m\">4</span> <span class=\"m\">08</span>:24:15 serenity kernel: <span class=\"o\">[</span>   <span class=\"m\">10</span>.593136<span class=\"o\">]</span> Bluetooth: SCO socket layer initialized\n</code></pre></div>\n\n\n<p>Yesterday this appeared in the logs upon startup:</p>\n<div class=\"highlight\"><pre><span></span><code>Jan <span class=\"m\">16</span> <span class=\"m\">09</span>:31:51 serenity kernel: <span class=\"o\">[</span>   <span class=\"m\">19</span>.944964<span class=\"o\">]</span> Bluetooth: hci0: <span class=\"nb\">command</span> 0x0c52 tx timeout\n</code></pre></div>\n\n\n<p>After this happened, no more Bluetooth. I tried restarting, I tried an older \nkernel, I double-checked the Bluetooth is activated in the BIOS, I tried loading \nmanually the necessary kernel modules. I've listed those using a similar laptop \nI have, and are the following:</p>\n<div class=\"highlight\"><pre><span></span><code>bluetooth             <span class=\"m\">544768</span>  <span class=\"m\">14</span> btrtl,btintel,btbcm,bnep,btusb,rfcomm\necdh_generic           <span class=\"m\">16384</span>  <span class=\"m\">1</span> bluetooth\n</code></pre></div>\n\n\n<p>However, it's like the device is not there.</p>\n<p>Also, this started showing up in kern.log now:</p>\n<div class=\"highlight\"><pre><span></span><code>Jan <span class=\"m\">16</span> <span class=\"m\">20</span>:13:34 serenity kernel: <span class=\"o\">[</span>    <span class=\"m\">2</span>.768790<span class=\"o\">]</span> usb <span class=\"m\">1</span>-10: device descriptor read/64, error -71\nJan <span class=\"m\">16</span> <span class=\"m\">20</span>:13:34 serenity kernel: <span class=\"o\">[</span>    <span class=\"m\">3</span>.004853<span class=\"o\">]</span> usb <span class=\"m\">1</span>-10: device descriptor read/64, error -71\n</code></pre></div>\n\n\n<p>I'm absolutely puzzled. The problem looks very similar to the one posted \n<a href=\"https://bbs.archlinux.org/viewtopic.php?id=193813\">here</a>, but I've tried resetting the device and it doesn't work. The laptop \nhas been off all night and the device is still missing. If anyone could point me \nin the right direction I'd be grateful.</p>\n<p>More information:</p>\n<div class=\"highlight\"><pre><span></span><code>$ lsusb\nBus <span class=\"m\">002</span> Device <span class=\"m\">001</span>: ID 1d6b:0003 Linux Foundation <span class=\"m\">3</span>.0 root hub\nBus <span class=\"m\">001</span> Device <span class=\"m\">004</span>: ID 0bda:5520 Realtek Semiconductor Corp.\nBus <span class=\"m\">001</span> Device <span class=\"m\">003</span>: ID 046d:c52b Logitech, Inc. Unifying Receiver\nBus <span class=\"m\">001</span> Device <span class=\"m\">002</span>: ID 045e:07f8 Microsoft Corp. Wired Keyboard <span class=\"m\">600</span> <span class=\"o\">(</span>model <span class=\"m\">1576</span><span class=\"o\">)</span>\nBus <span class=\"m\">001</span> Device <span class=\"m\">001</span>: ID 1d6b:0002 Linux Foundation <span class=\"m\">2</span>.0 root hub\n</code></pre></div>\n\n\n<p>No Bluetooth device there. Also:</p>\n<div class=\"highlight\"><pre><span></span><code>$ rfkill list\n<span class=\"m\">0</span>: phy0: Wireless LAN\n    Soft blocked: no\n    Hard blocked: no\n</code></pre></div>\n\n\n<h2>Additional details and solution</h2>\n<p>In summary, it looks like the Bluetooth device is gone and my Linux system sees \nan unknown USB device instead. I tried booting up with a Fedora 32 USB stick I \nhad lying around and I could see exactly the same messages in the logs, so it \nlooked like it wasn't a software problem. I also tried disabling the Bluetooth \nin the BIOS, then enabling it again after a reboot; this didn't fix the problem \neither.</p>\n<p>In the end, I found the solution in <a href=\"https://www.dell.com/community/Inspiron/Bluetooth-gone-G3/td-p/7405868\">this discussion in the Dell support \nforums</a>, which detail pretty much the same issue I was reporting. One thing I \nhadn't tried was to shut the computer off <strong>and</strong> unplug the battery. I did \nthat, and the next reboot brought the Bluetooth device back to life.</p>",
  "dc:creator": "José María Mateos",
  "pubDate": "Sun, 24 Jan 2021 08:57:00 -0500",
  "guid": "tag:rinzewind.org,2021-01-24:/blog-en/2021/bluetooth-device-gone-and-back-in-dell-vostro-with-ubuntu-1804.html",
  "category": "Blog"
}