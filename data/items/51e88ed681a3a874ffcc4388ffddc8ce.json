{
  "title": "Foundations of Computational Finance",
  "link": "https://www.mathematica-journal.com/2020/08/18/foundations-of-computational-finance/",
  "comments": "https://www.mathematica-journal.com/2020/08/18/foundations-of-computational-finance/#respond",
  "pubDate": "Tue, 18 Aug 2020 21:56:00 +0000",
  "dc:creator": "Todd Akers",
  "category": "Volume 22",
  "guid": "https://www.mathematica-journal.com/?p=59471",
  "description": "https://doi.org/10.3888/tmj.22-2 The Wolfram Language has numerous knowledge-based built-in functions to support financial computations. This article introduces many built-in and other financial functions that are based on concepts and models covered in undergraduate-level finance courses. Examples are taken from a wide range of finance areas. They emphasize importing and visualization of data from many sources, valuation, [&#8230;]",
  "content:encoded": "<div>\n<div class=\"DOIReference\"><span style=\"font-size: xx-small;\"><a href=\"https://doi.org/10.3888/tmj.22-2\">https://doi.org/10.3888/tmj.22-2</a></span></div>\n<div>\n<p>The Wolfram Language has numerous knowledge-based built-in functions to support financial computations. This article introduces many built-in and other financial functions that are based on concepts and models covered in undergraduate-level finance courses. Examples are taken from a wide range of finance areas. They emphasize importing and visualization of data from many sources, valuation, capital budgeting, analysis of stock returns, portfolio optimization and analysis of bonds and stock options. We hope that all the functions selected in this article are very useful for analyzing real-world financial data. All examples provide a unique set of tools for users to engage with real-world financial data and solve practical problems. The feature of automatic data retrieval from online sources and its analysis makes all results reproducible without any modifications in the code. We hope this feature will attract new users from the finance community. <span id=\"more-59471\"></span></p>\n<h3>1. Introduction</h3>\n<p>Finance is computational in nature and often involves the analysis and visualization of complex data, optimization, simulation and use of data for risk management. Without the proper use of technology, it is almost impossible to analyze these functions of modern finance. Moreover, the field of finance has become far more driven by data and technology since the 1990s, which has made large-scale data analysis the norm. Data-driven decision-making and predictive modeling are now the heart of every strategic financial decision. Since the publication of Varian [<a href=\"#Varian1\">1</a>, <a href=\"#Varian2\">2</a>], Shaw [<a href=\"#Shaw\">3</a>] and Stojanovic [<a href=\"#Stojanovic\">4</a>], there have been many updates and new functions, but no new articles or books have been written to cover wide areas of computational finance. This article provides a comprehensive overview of functions related to finance and introduces many functions that are useful for real-world financial data analysis using Mathematica 12.</p>\n<p>We have provided all the custom functions in the text so that users can make changes as they learn how to program in the Wolfram Language. Furthermore, we minimize the explanation of any financial concepts in this article as our focus is on introducing financial application of the Wolfram Language.</p>\n<p>We begin by defining some symbols that are frequently used as input arguments of custom functions in the article. The article uses <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_1.gif\" alt=\"\" width=\"50\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_2.gif\" alt=\"\" width=\"58\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_3.gif\" alt=\"\" width=\"75\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_4.gif\" alt=\"\" width=\"58\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_5.gif\" alt=\"\" width=\"50\" height=\"15\" /> as arguments in many functions defined in this article. Most of these symbols are used as input in the built-in function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_6.gif\" alt=\"\" width=\"108\" height=\"15\" />. All these arguments must be specified in the format acceptable in the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_7.gif\" alt=\"\" width=\"108\" height=\"15\" /> function. We use <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_8.gif\" alt=\"\" width=\"50\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_9.gif\" alt=\"\" width=\"58\" height=\"15\" /> to represent a company<span class=\"special-character CloseCurlyQuote\">’</span>s or companies<span class=\"special-character CloseCurlyQuote\">’</span> stock ticker symbol or symbols. It could be a string or a list of strings. The format <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_10.gif\" alt=\"\" width=\"75\" height=\"15\" /> represents the start date of the sample period specified and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_11.gif\" alt=\"\" width=\"58\" height=\"15\" /> represents the last date of the analysis period. Both must be specified as date objects in any date format supported by <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_12.gif\" alt=\"\" width=\"83\" height=\"15\" />. Similarly, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_13.gif\" alt=\"\" width=\"50\" height=\"15\" /> represents data frequency. It may include <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_14.gif\" alt=\"\" width=\"41\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_15.gif\" alt=\"\" width=\"49\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_16.gif\" alt=\"\" width=\"57\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_17.gif\" alt=\"\" width=\"49\" height=\"15\" />. In the subsequent functions defined in this article, we will not describe them when they are used as arguments.</p>\n<p>The article is organized into 13 sections:</p>\n<p>1. this Introduction</p>\n<p>2. importing and visualizing data from different sources</p>\n<p>3. capital budgeting and business valuation</p>\n<p>4. functions for the analysis of security returns</p>\n<p>5. rolling-window performance analysis</p>\n<p>6. financial application of optimization</p>\n<p>7. decomposing the risk of a portfolio into its components</p>\n<p>8. importing factor data and running factor models</p>\n<p>9. computing different types of portfolio performance measures</p>\n<p>10. technical analysis of stock prices</p>\n<p>11. bond analysis</p>\n<p>12. analyzing derivative products</p>\n<p>13. concluding remarks</p>\n<h3>2. Accessing Financial Data and Basic Data Visualization</h3>\n<p>The most commonly used built-in functions for retrieving company-specific financial data are <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_18.gif\" alt=\"\" width=\"58\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_19.gif\" alt=\"\" width=\"91\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_20.gif\" alt=\"\" width=\"75\" height=\"15\" />. For example,</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_21.gif\" alt=\"\" width=\"628\" height=\"15\" /></p>\n<p>imports Facebook&#8217;s financial statement data and</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_22.gif\" alt=\"\" width=\"337\" height=\"15\" /></p>\n<p>imports Facebook&#8217;s price-related data.</p>\n<p>Similarly, the function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_23.gif\" alt=\"\" width=\"108\" height=\"15\" /> can be used to get data about stocks and other financial instruments. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_24.gif\" alt=\"\" width=\"99\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_25.gif\" alt=\"\" width=\"133\" height=\"15\" /> can be used to chart prices against time. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_26.gif\" alt=\"\" width=\"99\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_27.gif\" alt=\"\" width=\"190\" height=\"15\" /> can be used to make interactive plots with additional features of adding different technical indicators. Other functions such as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_28.gif\" alt=\"\" width=\"75\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_29.gif\" alt=\"\" width=\"83\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_30.gif\" alt=\"\" width=\"133\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_31.gif\" alt=\"\" width=\"116\" height=\"15\" /> can also be used to visualize financial data. In the remaining part of this section, we are going to show you how to import data from different sources and visualize it.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_1.gif\" alt=\"\" width=\"580\" height=\"142\" /></p>\n<p>We download Apple<span class=\"special-character CloseCurlyQuote\">’</span>s return on assets (ROA), return on equity (ROE) and revenue growth over the period January 1, 2001, to January 1, 2019, and plot them.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_2.gif\" alt=\"\" width=\"580\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_1.gif\" alt=\"\" width=\"414\" height=\"296\" /></p>\n<p>Similarly, we define the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_32.gif\" alt=\"\" width=\"141\" height=\"15\" /> function to compare any specified property of different companies. The function takes a list of stock symbols, beginning period, end period and a property to consider as its arguments.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_3.gif\" alt=\"\" width=\"580\" height=\"160\" /></p>\n<p>We plot the revenue growth of Apple, Facebook, Walmart and Bank of America over the period January 1, 2000, to January 1, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_4.gif\" alt=\"\" width=\"580\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_2.gif\" alt=\"\" width=\"414\" height=\"296\" /></p>\n<p>Second, we import and visualize data from the Federal Reserve Bank of St. Louis, as it is one of the most important data sources when it comes to economic data. The built-in function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_33.gif\" alt=\"\" width=\"116\" height=\"15\" /> can be used to request the data from the Federal Reserve Economic Data API. Its argument structure is:</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_34.gif\" alt=\"\" width=\"590\" height=\"15\" /></p>\n<p>where <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_35.gif\" alt=\"\" width=\"25\" height=\"15\" /> is a series ID or a list of IDs. It returns a time series containing data for the specified series. It is often of interest to plot the economic time series with the recession dates.</p>\n<p>The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_36.gif\" alt=\"\" width=\"91\" height=\"15\" /> function downloads and plots the selected series along with the shaded recession period. The function takes series ID, start date, end date and title as inputs and returns a graph. It uses recession indicators based on USREC (US recession) data from the National Bureau of Economic Research (NBER) for the United States from the period following the peak through the trough to indicate the recession period. The Federal Reserve Bank of St. Louis may require the API key to download its data. The API key can be obtained freely by creating a user account at <a href=\"https://fred.stlouisfed.org\" target=\"_blank\">https://fred.stlouisfed.org</a> (click &#8220;my account&#8221; and follow the instructions).</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_5.gif\" alt=\"\" width=\"580\" height=\"412\" /></p>\n<p>Now we can download any series and plot it. For example, we download and plot the Leading Index for the United States (USSLIND) over the period January 30, 1990, to January 30, 2019. Please use the API key 207071a5f2e90e7816259d3c32c1ab81 if needed. The shaded regions indicate recession periods.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_6.gif\" alt=\"\" width=\"425\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_3.gif\" alt=\"\" width=\"414\" height=\"293\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_7.gif\" alt=\"\" width=\"580\" height=\"268\" /></p>\n<p>We download and plot the historical real S&P 500 prices by month (MULTPL/SP500_REAL_PRICE _MONTH) over the period March 31, 1975, to May 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_8.gif\" alt=\"\" width=\"580\" height=\"107\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_4.gif\" alt=\"\" width=\"414\" height=\"295\" /></p>\n<p>Finally, we show how to create a dataset. The built-in function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_37.gif\" alt=\"\" width=\"58\" height=\"15\" /> is very useful for organizing large or small sets of data.</p>\n<p>The function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_38.gif\" alt=\"\" width=\"116\" height=\"15\" /> can be used to get a company&#8217;s fundamental data. After the data is stored, we can organize and analyze the data.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_9.gif\" alt=\"\" width=\"580\" height=\"250\" /></p>\n<p>For example, we download return on assets (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_39.gif\" alt=\"\" width=\"42\" height=\"16\" />), return on equity (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_40.gif\" alt=\"\" width=\"40\" height=\"16\" />) and revenue growth (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_41.gif\" alt=\"\" width=\"103\" height=\"16\" />) for Apple Inc. (AAPL) over the period January 1, 2000, to January 1, 2019, and make a dataset. After the dataset is constructed, we can pull data and do further analysis using a rich set of built-in Wolfram knowledge.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_10.gif\" alt=\"\" width=\"580\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_5.gif\" alt=\"\" width=\"580\" height=\"178\" /></p>\n<h3>3. Common Financial Decision Making, Capital Budgeting and Business Valuation</h3>\n<p>Basic concepts used in common financial decision making are important for learning and understanding the finance discipline. Many functions such as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_42.gif\" alt=\"\" width=\"141\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_43.gif\" alt=\"\" width=\"66\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_44.gif\" alt=\"\" width=\"58\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_45.gif\" alt=\"\" width=\"83\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_46.gif\" alt=\"\" width=\"75\" height=\"15\" /> are directly related to finance. Other functions such as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_47.gif\" alt=\"\" width=\"41\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_48.gif\" alt=\"\" width=\"66\" height=\"15\" /> can be used to find one of the unknowns when relevant information is given. All these functions are useful for solving time value of money, capital begetting and business valuation problems. The Mathematica documentation provides numerous examples of how to use these functions. In this section, we are going to focus on a few examples concerning loan amortization, capital budgeting and business valuation.</p>\n<p>A loan amortization table is often used to visualize periodic payments of the loan, loan balance and payment breakdown into principle payment and interest payment. The function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_49.gif\" alt=\"\" width=\"141\" height=\"15\" /> returns an amortization table given its input arguments. It takes four arguments:</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_50.gif\" alt=\"\" width=\"17\" height=\"15\" />: current value of loan amount</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_51.gif\" alt=\"\" width=\"41\" height=\"15\" />: loan term in years</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_52.gif\" alt=\"\" width=\"25\" height=\"15\" />: annual percentage interest rate</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_53.gif\" alt=\"\" width=\"75\" height=\"15\" />: frequency of loan payment per year: 12 for monthly payment, 1 for annual payment, and so on</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_54.gif\" alt=\"\" width=\"17\" height=\"15\" />: (an optional argument) future value of the loan amount; if no value for <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_55.gif\" alt=\"\" width=\"17\" height=\"15\" /> is provided, the future value of the loan is assumed to be zero</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_11.gif\" alt=\"\" width=\"580\" height=\"372\" /></p>\n<p>Using this function, we compute an amortization table for a loan of $40,000 with 1-year loan term, 5% APR paid monthly.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_12.gif\" alt=\"\" width=\"298\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_6.gif\" alt=\"\" width=\"536\" height=\"281\" /></p>\n<p>The most commonly used decision tools in capital budgeting are net present value (NPV), internal rate of return (IRR), modified internal rate of return (MIRR) and profitability index (PI). These are defined in terms of the cash flows <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_56.gif\" alt=\"\" width=\"21\" height=\"16\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_57.gif\" alt=\"\" width=\"89\" height=\"16\" />, the discount rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_58.gif\" alt=\"\" width=\"5\" height=\"16\" /> and the reinvestment rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_59.gif\" alt=\"\" width=\"9\" height=\"16\" /> by:</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_13.gif\" alt=\"\" width=\"273\" height=\"39\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_14.gif\" alt=\"\" width=\"306\" height=\"39\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_15.gif\" alt=\"\" width=\"461\" height=\"22\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_16.gif\" alt=\"\" width=\"184\" height=\"53\" /></p>\n<p>We use the built-in Mathematica functions <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_60.gif\" alt=\"\" width=\"75\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_61.gif\" alt=\"\" width=\"66\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_62.gif\" alt=\"\" width=\"66\" height=\"15\" /> in the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_63.gif\" alt=\"\" width=\"174\" height=\"15\" /> function to compute these measures. It takes cash flows <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_64.gif\" alt=\"\" width=\"17\" height=\"15\" /> (a list), discount rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_65.gif\" alt=\"\" width=\"8\" height=\"15\" /> and reinvestment rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_66.gif\" alt=\"\" width=\"17\" height=\"15\" /> as its arguments.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_17.gif\" alt=\"\" width=\"580\" height=\"178\" /></p>\n<p>We illustrate the use of the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_67.gif\" alt=\"\" width=\"174\" height=\"15\" /> function with an example. Say a project requires a $50,000 initial investment and is expected to produce, after tax, a cash flow of $15,000, $8,000, $10,000, $12,000, $14,000 and $16,000 over the next six years. The discount rate is 10% and the reinvestment rate is 11%. We compute the project<span class=\"special-character CloseCurlyQuote\">’</span>s NPV, IRR, MIRR and PI.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_18.gif\" alt=\"\" width=\"580\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_7.gif\" alt=\"\" width=\"475\" height=\"15\" /></p>\n<p>One of the most widely used business valuation models is the discounted cash flow model, in which the value of any asset is obtained by discounting the expected cash flows on that asset at a rate that reflects its riskiness. In its most general form, the value of a company is the present value of the expected free cash flows the company can generate in perpetuity. Because we cannot estimate free cash flows (FCF) in perpetuity, we generally allow for a period where FCF can grow at extraordinary rates, but we allow for closure in the model by assuming that the growth rate will decline to a stable rate that can be sustained forever at some point in the future. If we assume that the discount rate is the weighted average cost of capital (WACC), FCF grows at the rate of <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_68.gif\" alt=\"\" width=\"7\" height=\"16\" /> per year and that the last year<span class=\"special-character CloseCurlyQuote\">’</span>s free cash flow is <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_69.gif\" alt=\"\" width=\"53\" height=\"16\" />, then the value of the firm can be defined as</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_19.gif\" alt=\"\" width=\"156\" height=\"46\" /></p>\n<p>If we assume that FCF grows at the rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_70.gif\" alt=\"\" width=\"13\" height=\"16\" /> for the next <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_71.gif\" alt=\"\" width=\"13\" height=\"16\" /> years and at the rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_72.gif\" alt=\"\" width=\"13\" height=\"16\" /> thereafter, then the value of the firm can be written as</p>\n<table class=\"DisplayFormulaNumbered\">\n<tbody>\n<tr>\n<td><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormulaNumbered_1.gif\" alt=\"\" width=\"370\" height=\"48\" /></td>\n<td class=\"DisplayFormulaNumberedLabel\"><a name=\"DFN:1\"></a>(1)</td>\n</tr>\n</tbody>\n</table>\n<p>We implement formula (<a href=\"#DFN:1\">1</a>) with <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_73.gif\" alt=\"\" width=\"133\" height=\"15\" /> that takes five arguments:</p>\n<p>1. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_74.gif\" alt=\"\" width=\"25\" height=\"15\" />, last year&#8217;s free cash flows</p>\n<p>2. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_75.gif\" alt=\"\" width=\"17\" height=\"15\" />, the annual growth rate of free cash flows in the first growth period</p>\n<p>3. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_76.gif\" alt=\"\" width=\"17\" height=\"15\" />, the number of years in the first growth period</p>\n<p>4. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_77.gif\" alt=\"\" width=\"17\" height=\"15\" />, the stable growth rate</p>\n<p>5. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_78.gif\" alt=\"\" width=\"33\" height=\"15\" />, the weighted average cost of capital</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_20.gif\" alt=\"\" width=\"372\" height=\"69\" /></p>\n<p>Suppose that a company has $100 as its past year<span class=\"special-character CloseCurlyQuote\">’</span>s CFC, its FCF is expected to grow at 5% for the next five years and 2.5% thereafter and that its WACC is 9.5%. We compute its value.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_21.gif\" alt=\"\" width=\"349\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_8.gif\" alt=\"\" width=\"58\" height=\"15\" /></p>\n<p>The most practical approach is to assume that a company goes through three phases: growth, transition and maturity. First, a company<span class=\"special-character CloseCurlyQuote\">’</span>s growth increases. In the transition phase, the growth rate decreases. In the mature phase, a company grows at the same rate as that of the overall economy.</p>\n<p>Assume that the FCF is positive and grew at the rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_79.gif\" alt=\"\" width=\"13\" height=\"16\" /> last year. Assume further that it grows at the higher rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_80.gif\" alt=\"\" width=\"13\" height=\"16\" /> each year for the next <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_81.gif\" alt=\"\" width=\"13\" height=\"16\" /> years and that after <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_82.gif\" alt=\"\" width=\"13\" height=\"16\" /> years, it declines at the rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_83.gif\" alt=\"\" width=\"13\" height=\"16\" /> each year for the next <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_84.gif\" alt=\"\" width=\"13\" height=\"16\" /> years. Finally, assume the company grows at the stable positive rate <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_85.gif\" alt=\"\" width=\"13\" height=\"16\" /> per year after <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_86.gif\" alt=\"\" width=\"41\" height=\"16\" /> years and that the cost of capital is represented by WACC. Then the value of the firm can be written as</p>\n<table class=\"DisplayFormulaNumbered\">\n<tbody>\n<tr>\n<td><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormulaNumbered_2.gif\" alt=\"\" width=\"556\" height=\"109\" /></td>\n<td class=\"DisplayFormulaNumberedLabel\"><a name=\"DFN:2\"></a>(2)</td>\n</tr>\n</tbody>\n</table>\n<p>We implement formula (<a href=\"#DFN:2\">2</a>) with <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_87.gif\" alt=\"\" width=\"149\" height=\"15\" /> that takes eight arguments:</p>\n<p>1. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_88.gif\" alt=\"\" width=\"25\" height=\"15\" />, last year&#8217;s free cash flows</p>\n<p>2. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_89.gif\" alt=\"\" width=\"17\" height=\"15\" />, last year&#8217;s FCF growth rate</p>\n<p>3. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_90.gif\" alt=\"\" width=\"17\" height=\"15\" />, the incremental growth rate in the high growth period</p>\n<p>4. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_91.gif\" alt=\"\" width=\"17\" height=\"15\" />, the number of years in the high growth period</p>\n<p>5. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_92.gif\" alt=\"\" width=\"17\" height=\"15\" />, the declining growth rate in the translational growth period</p>\n<p>6. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_93.gif\" alt=\"\" width=\"17\" height=\"15\" />, the number of years in the translational growth period</p>\n<p>7. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_94.gif\" alt=\"\" width=\"17\" height=\"15\" />, the stable growth rate in the maturity growth period</p>\n<p>8. <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_95.gif\" alt=\"\" width=\"33\" height=\"15\" />, the weighted average cost of capital</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_22.gif\" alt=\"\" width=\"580\" height=\"142\" /></p>\n<p>To apply the function, consider a company in the early stage of its life cycle, assuming that the company experienced 10 percent growth in the past year. The company is expected to grow by 8% more each year for the next 7 years and its growth will start to decline by 5% each year after the seventh year for 5 years. After 12 years, the company is expected to grow at the same rate as that of the overall economy, which is 2.5% per year. Suppose the past year<span class=\"special-character CloseCurlyQuote\">’</span>s CFC was $100 million and the weighted average cost of capital is 9.5%. We compute the value of the company.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_23.gif\" alt=\"\" width=\"479\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_9.gif\" alt=\"\" width=\"60\" height=\"15\" /></p>\n<p>When using <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_96.gif\" alt=\"\" width=\"149\" height=\"15\" />, we assume that the growth rate in the stable phase is never negative. Therefore, do not assume the declining growth rate to be too high. Otherwise, the growth rate of FCF in the maturity phase may be negative.</p>\n<h3>4. Analysis of Stock Returns</h3>\n<p>There are various methods in analyzing historical stock prices and returns data. We can use different kinds of charts and graphs as well as descriptive statistics. Similarly, it is also important to understand whether the stock returns distribution is normal. In the next two subsections, we explain some of the most common charts and descriptive measures.</p>\n<h4>4.1 Individual Stock Return Analysis</h4>\n<p>Commonly used charts for historical performance analysis are time series plot of prices, normalized prices (historical prices divided by the price at the beginning), continuous draw-downs (cumulative continuous returns) and cumulative returns. The function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_97.gif\" alt=\"\" width=\"174\" height=\"15\" />l takes four arguments as defined in Section 1 and returns four different plots: historical prices, the normalized price, continuous draw-downs and cumulative returns.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_24.gif\" alt=\"\" width=\"580\" height=\"304\" /></p>\n<p>We can apply <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_98.gif\" alt=\"\" width=\"174\" height=\"15\" />l to any symbol and period. For example, we plot the historical stock prices and returns of Walmart Inc. (WMT) over the period October 10, 2018, to June 7, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_25.gif\" alt=\"\" width=\"519\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_10.gif\" alt=\"\" width=\"444\" height=\"367\" /></p>\n<p>A histogram and an empirical plot of kernel density estimates are often used to describe the general shape of the data. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_99.gif\" alt=\"\" width=\"91\" height=\"15\" /> function takes four arguments as defined in Section 1 and returns density and histogram plots of returns.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_26.gif\" alt=\"\" width=\"580\" height=\"268\" /></p>\n<p>Using the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_100.gif\" alt=\"\" width=\"91\" height=\"15\" /> function, we download the daily closing price of the S&P 500 index over the period October 1, 2000, to October 1, 2019, and plot the histogram, the empirical density function and the density function of a normal distribution with the same mean and variance.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_27.gif\" alt=\"\" width=\"436\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_11.gif\" alt=\"\" width=\"414\" height=\"319\" /></p>\n<p>Many built-in functions can be used to compute different descriptive statistics. These descriptive statistics describe properties of distributions, such as location, dispersion and shape. The most common measures are computed by <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_101.gif\" alt=\"\" width=\"207\" height=\"15\" />:</p>\n<p><span class=\"special-character Bullet\">•</span> holding period return</p>\n<p><span class=\"special-character Bullet\">•</span> average return</p>\n<p><span class=\"special-character Bullet\">•</span> geometric mean return</p>\n<p><span class=\"special-character Bullet\">•</span> cumulative returns</p>\n<p><span class=\"special-character Bullet\">•</span> standard deviation</p>\n<p><span class=\"special-character Bullet\">•</span> minimum return</p>\n<p><span class=\"special-character Bullet\">•</span> maximum return</p>\n<p><span class=\"special-character Bullet\">•</span> skewness</p>\n<p><span class=\"special-character Bullet\">•</span> kurtosis</p>\n<p><span class=\"special-character Bullet\">•</span> historical value at risk</p>\n<p><span class=\"special-character Bullet\">•</span> historical conditional value at risk</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_28.gif\" alt=\"\" width=\"580\" height=\"790\" /></p>\n<p>For example, we compute the descriptive statistics for Walmart Inc. (WMT) using monthly returns over the period October 10, 2010, to June 6, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_29.gif\" alt=\"\" width=\"580\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_12.gif\" alt=\"\" width=\"211\" height=\"279\" /></p>\n<p>It is also informative to examine the historical performance of an individual stock. In such an analysis, we calculate monthly statistics using daily returns and report them on a monthly basis. We define the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_102.gif\" alt=\"\" width=\"207\" height=\"15\" /> function to download historical stock prices, compute desired statistics and return a dataset. The function takes four arguments: stock ticker symbol, start date, end date and a statistical function such as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_103.gif\" alt=\"\" width=\"33\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_104.gif\" alt=\"\" width=\"141\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_105.gif\" alt=\"\" width=\"41\" height=\"15\" />, and returns a dataset. For the function to work, it requires more than two years of data.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_30.gif\" alt=\"\" width=\"580\" height=\"790\" /></p>\n<p>For example, we compute the monthly cumulative returns for Walmart Inc. (WMT) using daily returns over the period October 1, 2010, to June 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_31.gif\" alt=\"\" width=\"526\" height=\"34\" /></p>\n<p>Once we compute the statistics, we can take specific columns by specifying their names.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_32.gif\" alt=\"\" width=\"580\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_13.gif\" alt=\"\" width=\"580\" height=\"178\" /></p>\n<p>We are often interested in knowing whether returns data follows a normal distribution because understanding whether stock returns are normal or not is very important in investment management. One way to check whether returns are normally distributed or not is to compare the empirical quantiles of the data with normal distribution. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_106.gif\" alt=\"\" width=\"99\" height=\"15\" /> function can be used to produce quantile-quantile plots. Many other built-in functions can help to assess whether returns are normally distributed.</p>\n<p>The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_107.gif\" alt=\"\" width=\"157\" height=\"15\" /> function can be used to test whether data is normally distributed and can also be used to assess the goodness of fit of data to any distribution.</p>\n<h4>4.2 Analysis of Multiple Stocks Returns</h4>\n<p>As a majority of financial data is multivariate, it is advantageous to perform comparative analysis of multiple security returns. In some cases, one has to compare one series with another. In other cases, many variables might have to be simultaneously measured to capture the complex nature of the relationship among variables. Comparing the complexities of these factors gives the analyst a more detailed account of the relationships between selected returns, thus allowing for a better interpretation of their values and behaviors. In this section, we first compare the performance of one asset with another using graphs, then compute descriptive statistics as well as correlation matrices.</p>\n<p>Two most commonly used graphs for comparing historical performance of more than one stock/ETF are time series plots of normalized prices and cumulative returns. The next two functions take four arguments as defined in Section 1 and compute normalized prices and cumulative returns.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_33.gif\" alt=\"\" width=\"580\" height=\"394\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_34.gif\" alt=\"\" width=\"580\" height=\"394\" /></p>\n<p>We get normalized prices and cumulative returns and plot them for three stocks (Facebook, Inc. (FB), Costco Wholesale Corporation (COST) and Walmart Inc. (WMT)) over the period May 1, 2000, to May 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_35.gif\" alt=\"\" width=\"580\" height=\"106\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_14.gif\" alt=\"\" width=\"414\" height=\"311\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_36.gif\" alt=\"\" width=\"558\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_15.gif\" alt=\"\" width=\"414\" height=\"303\" /></p>\n<p>Besides graphs, we can also compute descriptive statistics and compare their performance. We define a function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_108.gif\" alt=\"\" width=\"215\" height=\"15\" /> for that purpose. It takes four arguments as defined in Section 1 and returns a table with different types of descriptive statistics.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_37.gif\" alt=\"\" width=\"580\" height=\"484\" /></p>\n<p>For example, we download historical data and compute different descriptive statistics for three stocks (Walmart Inc. (WMT), Apple Inc. (AAPL) and Microsoft Corporation (MSFT) ) using monthly data over the period January 1, 2010, to March 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_38.gif\" alt=\"\" width=\"580\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_16.gif\" alt=\"\" width=\"417\" height=\"281\" /></p>\n<p>Similarly to how we calculated an individual stock<span class=\"special-character CloseCurlyQuote\">’</span>s monthly statistics in Section 4.1, we define the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_109.gif\" alt=\"\" width=\"182\" height=\"15\" /> function to compute monthly statistics for more than one stock given the arguments: stock ticker symbols, start date, end date and a statistical function such as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_110.gif\" alt=\"\" width=\"33\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_111.gif\" alt=\"\" width=\"141\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_112.gif\" alt=\"\" width=\"41\" height=\"15\" />.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_39.gif\" alt=\"\" width=\"580\" height=\"268\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_40.gif\" alt=\"\" width=\"580\" height=\"106\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_41.gif\" alt=\"\" width=\"580\" height=\"178\" /></p>\n<p>For example, we compute the monthly cumulative returns for four stocks (Walmart Inc. (WMT), Apple Inc. (AAPL), Microsoft Corporation (MSFT) and Netflix, Inc. (NFLX)) over the period January 1, 2010, to June 30, 2019, and create a dataset. The first column represents year and month, the first four digits for the year and the last two digits for the month.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_42.gif\" alt=\"\" width=\"554\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_17.gif\" alt=\"\" width=\"580\" height=\"178\" /></p>\n<p>Similarly, box-and-whisker charts, paired histograms, paired smooth histograms and matrix scatterplots are often used to examine multivariate data. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_113.gif\" alt=\"\" width=\"124\" height=\"15\" /> function can be used to make a box plot that gives a glimpse of the distribution of the given dataset. You can see the statistical information by hovering over the boxes in the plot. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_114.gif\" alt=\"\" width=\"174\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_115.gif\" alt=\"\" width=\"199\" height=\"15\" /> functions are used to create paired histogram and smooth distribution plots. They can be used to compare how two datasets are distributed. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_116.gif\" alt=\"\" width=\"157\" height=\"15\" /> function from the Statistical Plots package can be used to make scatter plots of multivariate data. It creates scatter plots comparing the data in each column against other columns. More complex analysis of multivariate data can be done using functions from the Multivariate Statistics package. The package contains functions to compute descriptive statistics for multivariate data and distributions derived from the multivariate normal distribution. All these functions are well explained in the official documentation.</p>\n<h3>5. Rolling-Window Performance Analysis</h3>\n<p>Rolling-window performance analysis is a simple technique to access variability of the statistical performance measures. For example, if we want to access the stability of mean or standard deviation of returns on a stock over time, we can choose rolling window (the number of consecutive observations per rolling window), estimate the mean or standard deviation and plot series of the estimates. A little fluctuation is normal but large fluctuations indicate a shift in the values of the estimate. Built-in functions such as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_117.gif\" alt=\"\" width=\"108\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_118.gif\" alt=\"\" width=\"75\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_119.gif\" alt=\"\" width=\"157\" height=\"15\" /> are useful for rolling-window performance analysis. In this section, we are going to show a few examples of how to compute rolling-window-based performance statistics.</p>\n<p>We define <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_120.gif\" alt=\"\" width=\"224\" height=\"15\" /> that can be used to plot rolling-window statistics given its five inputs: stock ticker symbol, start date, end date, size of window in days and function to apply, which can be any built-in or user-defined function.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_43.gif\" alt=\"\" width=\"551\" height=\"179\" /></p>\n<p>For example, we compute and plot the 90-day rolling mean to standard deviation ratio on Walmart&#8217;s daily stock returns over the period January 1, 2001, to March 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_44.gif\" alt=\"\" width=\"555\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_18.gif\" alt=\"\" width=\"414\" height=\"278\" /></p>\n<p>Similarly, we define the function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_121.gif\" alt=\"\" width=\"182\" height=\"15\" /> to compute the rolling correlation of two series and apply it together with <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_122.gif\" alt=\"\" width=\"75\" height=\"15\" /> to the desired data.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_45.gif\" alt=\"\" width=\"580\" height=\"179\" /></p>\n<p>We use the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_123.gif\" alt=\"\" width=\"182\" height=\"15\" /> function to plot the 90-day rolling correlation of daily returns on two stocks, WMT and COST, for the period from March 30, 2009, to March 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_46.gif\" alt=\"\" width=\"580\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_19.gif\" alt=\"\" width=\"414\" height=\"298\" /></p>\n<p>Sometimes, it is also useful to store these time-varying descriptive statistics as a dataset so that we can use them in the subsequent analysis. The function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_124.gif\" alt=\"\" width=\"182\" height=\"15\" />, given its input, computes the geometric mean, standard deviation and the ratio of the arithmetic mean to the standard deviation on a rolling-window basis.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_47.gif\" alt=\"\" width=\"580\" height=\"286\" /></p>\n<p>For example, we compute the 90-day rolling-window geometric mean (GM), standard deviation (Std. Dev.) and arithmetic mean to standard deviation ratio (AM/Std. Dev.) of Walmart<span class=\"special-character CloseCurlyQuote\">’</span>s daily stock returns over the period July 1, 2018, to October 30, 2019. You can scroll through the dataset.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_48.gif\" alt=\"\" width=\"513\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_20.gif\" alt=\"\" width=\"580\" height=\"178\" /></p>\n<h3>6. Portfolio Optimization</h3>\n<p>Mean-variance analysis is one of the foundations of financial economics. Portfolio optimization is essential, whether it be in professional or personal financial planning. In this section, we are going to show how to implement the most commonly used optimization techniques in finance using historical returns. We want to point out that future returns on investment depend on expected returns and other conditioning information, not on the past returns. Past returns are used only for illustration and do not guarantee future returns.</p>\n<p>Define the following variables:</p>\n<p><span class=\"special-character Bullet\">•</span> <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_125.gif\" alt=\"\" width=\"10\" height=\"16\" /> is the risk-free rate</p>\n<p><span class=\"special-character Bullet\">•</span> <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_126.gif\" alt=\"\" width=\"13\" height=\"16\" /> is the proportion of wealth invested in security <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_127.gif\" alt=\"\" width=\"4\" height=\"16\" /></p>\n<p><span class=\"special-character Bullet\">•</span> <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_128.gif\" alt=\"\" width=\"12\" height=\"16\" /> is the average return on security <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_129.gif\" alt=\"\" width=\"4\" height=\"16\" /></p>\n<p><span class=\"special-character Bullet\">•</span> <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_130.gif\" alt=\"\" width=\"15\" height=\"19\" /> is the variance of security <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_131.gif\" alt=\"\" width=\"4\" height=\"16\" /></p>\n<p><span class=\"special-character Bullet\">•</span> <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_132.gif\" alt=\"\" width=\"17\" height=\"18\" /> is the covariance between securities <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_133.gif\" alt=\"\" width=\"4\" height=\"16\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_134.gif\" alt=\"\" width=\"6\" height=\"16\" /></p>\n<p><span class=\"special-character Bullet\">•</span> <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_135.gif\" alt=\"\" width=\"16\" height=\"18\" /> is the correlation between securities <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_136.gif\" alt=\"\" width=\"4\" height=\"16\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_137.gif\" alt=\"\" width=\"6\" height=\"16\" /></p>\n<p>Then we define the vectors of mean returns and weights and the covariance matrix:</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_49.gif\" alt=\"\" width=\"297\" height=\"75\" /></p>\n<p>The formulas for the portfolio mean and variance are <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_138.gif\" alt=\"\" width=\"126\" height=\"18\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_139.gif\" alt=\"\" width=\"195\" height=\"21\" />, respectively. The corresponding Mathematica code is <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_140.gif\" alt=\"\" width=\"24\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_141.gif\" alt=\"\" width=\"40\" height=\"15\" />.</p>\n<p>In order to compute portfolio statistics, we need returns data. We can use the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_142.gif\" alt=\"\" width=\"116\" height=\"15\" /> function to download historical returns data. It takes four arguments as defined in Section 1 and gives a matrix of returns. Most functions in this section use the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_143.gif\" alt=\"\" width=\"116\" height=\"15\" /> function, so run it before you run other functions.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_50.gif\" alt=\"\" width=\"580\" height=\"142\" /></p>\n<p>To compute basic portfolio statistics such as portfolio mean, variance, standard deviation and Sharpe ratio, we can use <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_144.gif\" alt=\"\" width=\"157\" height=\"15\" />, which takes six arguments. The first four arguments are as defined in Section 1 and the other two are a list of weights and the optional risk-free rate.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_51.gif\" alt=\"\" width=\"580\" height=\"377\" /></p>\n<p>For example, we compute the portfolio mean, variance, standard deviation and Sharpe ratio for the portfolio that consists of the stock returns of five companies: Apple (AAPL), Walmart (WMT), Boeing (BA), 3M and Exxon Mobil (XOM), using monthly returns over the period January 1, 2009, to May 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_52.gif\" alt=\"\" width=\"550\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_21.gif\" alt=\"\" width=\"323\" height=\"57\" /></p>\n<p>The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_145.gif\" alt=\"\" width=\"99\" height=\"15\" /> function plots the Markowitz portfolio frontier; it takes a matrix of returns obtained from <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_146.gif\" alt=\"\" width=\"116\" height=\"15\" /> as its only argument. The function uses the concept that any two efficient portfolios are enough to establish the whole portfolio frontier, as first proved by Black [<a href=\"#Black\">5</a>]. It accepts any <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_147.gif\" alt=\"\" width=\"66\" height=\"15\" /> option.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_53.gif\" alt=\"\" width=\"580\" height=\"346\" /></p>\n<p>For example, we plot the portfolio frontier for the portfolio that consists of stock returns of five companies: Apple (AAPL), Walmart (WMT), Boeing (BA), 3M and Exxon Mobil (XOM), using monthly returns over the period January 1, 2009, to May 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_54.gif\" alt=\"\" width=\"580\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_22.gif\" alt=\"\" width=\"443\" height=\"296\" /></p>\n<p>Next, we solve two kinds of portfolio problems: global minimum variance portfolio and tangency portfolio. In terms of the notation defined earlier in this section, the global minimum variance portfolio can be obtained by minimizing <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_148.gif\" alt=\"\" width=\"16\" height=\"21\" /> subject to <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_149.gif\" alt=\"\" width=\"62\" height=\"17\" /> and solving for <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_150.gif\" alt=\"\" width=\"13\" height=\"16\" />. Its solution can be obtained with the built-in Mathematica function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_151.gif\" alt=\"\" width=\"75\" height=\"15\" />.</p>\n<p>The function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_152.gif\" alt=\"\" width=\"323\" height=\"15\" /> computes weights, returning the portfolio allocation on stocks considered for a global minimum variance portfolio.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_55.gif\" alt=\"\" width=\"580\" height=\"233\" /></p>\n<p>We compute the global minimum variance portfolio weights using the monthly stock returns of five companies: Apple (AAPL), Walmart (WMT), Boeing (BA), 3M and Exxon Mobil (XOM), over the period January 1, 2009, to May 30, 2019.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_56.gif\" alt=\"\" width=\"580\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_23.gif\" alt=\"\" width=\"407\" height=\"15\" /></p>\n<p>Similarly, the tangency portfolio can be obtained by maximizing <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_153.gif\" alt=\"\" width=\"74\" height=\"21\" />, where <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_154.gif\" alt=\"\" width=\"10\" height=\"16\" /> is the risk-free rate (a constant in this case), subject to <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_155.gif\" alt=\"\" width=\"62\" height=\"17\" /> and solving for <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_156.gif\" alt=\"\" width=\"13\" height=\"16\" />. The solution uses the built-in Mathematica function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_157.gif\" alt=\"\" width=\"75\" height=\"15\" />. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_158.gif\" alt=\"\" width=\"199\" height=\"15\" /> function computes the tangency portfolio weights given its five inputs, four as defined in the Section 1 and the risk-free rate.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_57.gif\" alt=\"\" width=\"580\" height=\"232\" /></p>\n<p>Assuming a monthly risk-free rate of 0.1667 percent and using monthly data over the period January 1, 2009, to May 30, 2019, we calculate the tangency portfolio weights for our portfolio of five stocks: (Apple (AAPL), Walmart (WMT), Boeing (BA), 3M and Exxon Mobil (XOM)).</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_58.gif\" alt=\"\" width=\"580\" height=\"34\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_24.gif\" alt=\"\" width=\"408\" height=\"15\" /></p>\n<p>Portfolio optimization using the Wolfram Language is very flexible. We can formulate any kind of portfolio and use built-in functions such as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_159.gif\" alt=\"\" width=\"75\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_160.gif\" alt=\"\" width=\"75\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_161.gif\" alt=\"\" width=\"174\" height=\"15\" /> to get numerical solutions to the portfolio problem.</p>\n<h3>7. Portfolio Risk Decomposition</h3>\n<p>In this section, we concentrate on how to decompose a measure of portfolio risk (portfolio standard deviation) into risk contribution from individual assets included in the portfolio. It helps to see how individual assets influence portfolio risk. When risk is measured by standard deviation, we can use Euler<span class=\"special-character CloseCurlyQuote\">’</span>s theorem for decomposing risk into asset-specific risk contribution. Euler<span class=\"special-character CloseCurlyQuote\">’</span>s theorem provides an additive decomposition of a homogeneous function. For reference, see Campolieti and Makarov [<a href=\"#Campolieti-Makarov\">6</a>]. Using Euler<span class=\"special-character CloseCurlyQuote\">’</span>s theorem, we can define the percentage contribution to portfolio standard deviation of an asset as <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_162.gif\" alt=\"\" width=\"70\" height=\"21\" />, where <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_163.gif\" alt=\"\" width=\"17\" height=\"16\" /> is the marginal contribution of the asset, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_164.gif\" alt=\"\" width=\"14\" height=\"16\" /> is the weight of the asset, and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_165.gif\" alt=\"\" width=\"16\" height=\"18\" /> is the portfolio standard deviation.</p>\n<p>We define the function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_166.gif\" alt=\"\" width=\"141\" height=\"15\" /> for portfolio risk decomposition. It takes five arguments, four arguments as defined in Section 1 and a list of portfolio weights; it returns a bar chart representing the individual asset&#8217;s risk contribution to the portfolio standard deviation.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_59.gif\" alt=\"\" width=\"580\" height=\"250\" /></p>\n<p>We calculate the risk contribution of each asset in a portfolio that consists of five stocks using the historical monthly returns over the period January 30, 2010, to May 30, 2019 and make a bar chart.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_60.gif\" alt=\"\" width=\"552\" height=\"52\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_25.gif\" alt=\"\" width=\"440\" height=\"281\" /></p>\n<h3>8. Factor Models</h3>\n<p>Currently, factor models are widely accepted and used in finance to construct portfolios, to evaluate portfolio performance and for risk analysis. Factor models are regression models. We can use the built-in function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_167.gif\" alt=\"\" width=\"116\" height=\"15\" /> to estimate and evaluate the appropriateness of the regression models. In addition, we can download all factor data directly from Prof. Kenneth French<span class=\"special-character CloseCurlyQuote\">’</span>s data library. Before we apply factor models to real-world data, we need data in the form</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_61.gif\" alt=\"\" width=\"33\" height=\"16\" /></p>\n<p>where</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_62.gif\" alt=\"\" width=\"136\" height=\"79\" /></p>\n<p>is a matrix of values of independent variables and</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_63.gif\" alt=\"\" width=\"55\" height=\"75\" /></p>\n<p>is a vector of values of a dependent variable.</p>\n<p>Commonly used factor models are summarized in Table 1. We can find more about the factor models in Fama and French [<a href=\"#Fama-French\">7</a>]. We use the following notation: <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_168.gif\" alt=\"\" width=\"30\" height=\"16\" /> for excess return on the security or portfolio, MKT for excess return on the value-weighted market portfolio, SML for return on a diversified portfolio of small-capitalization stocks minus the return on a diversified portfolio of large-capitalization stocks, HML for difference in the returns on diversified portfolios of high-book-to-market stocks and low-book-to-market stocks, MOM for difference in returns on diversified portfolios of the prior year<span class=\"special-character CloseCurlyQuote\">’</span>s winners and losers, RMW for difference between the returns on diversified portfolios of stocks with robust and weak profitability, CMA for difference between the returns on diversified portfolios of the stocks of low and high investment firms, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_169.gif\" alt=\"\" width=\"8\" height=\"16\" /> for risk-adjusted return on security or portfolio and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_170.gif\" alt=\"\" width=\"32\" height=\"16\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_171.gif\" alt=\"\" width=\"31\" height=\"16\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_172.gif\" alt=\"\" width=\"32\" height=\"16\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_173.gif\" alt=\"\" width=\"35\" height=\"16\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_174.gif\" alt=\"\" width=\"35\" height=\"16\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_175.gif\" alt=\"\" width=\"33\" height=\"17\" /> for betas or factor loadings.</p>\n<div id=\"1546589653\" class=\"Table\"><a name=\"1546589653\"></a><br />\n<img style=\"vertical-align: middle;\" title=\"InterpretationBox[Description, TextCell[Enter column head here, Italic, Editable -> True]] InterpretationBox[Models for r-rf, TextCell[Enter column head here, Italic, Editable -> True]]; InterpretationBox[Capital asset pricing model (CAPM), TextCell[Enter data here, Editable -> True]] CAPM=alpha+beta_(MKT)MKT; InterpretationBox[Fama-French three-factor model, TextCell[Enter data here, Editable -> True]] InterpretationBox[{{FF, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[3]}, =, {CAPM, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[SMB]}, SMB}, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[HML]}, HML}}}, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Carhart four-factor model, TextCell[Enter data here, Editable -> True]] InterpretationBox[{{C, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[4]}, =, {{FF, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[3]}, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[RMW]}, RMW}}}, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Fama-French five-factor model, TextCell[Enter data here, Editable -> True]] InterpretationBox[{{FF, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[5]}, =, {{C, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[4]}, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[CMA]}, CMA}}}, TextCell[Enter data here, Editable -> True]]\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_1.gif\" alt=\"InterpretationBox[Description, TextCell[Enter column head here, Italic, Editable -> True]] InterpretationBox[Models for r-rf, TextCell[Enter column head here, Italic, Editable -> True]]; InterpretationBox[Capital asset pricing model (CAPM), TextCell[Enter data here, Editable -> True]] CAPM=alpha+beta_(MKT)MKT; InterpretationBox[Fama-French three-factor model, TextCell[Enter data here, Editable -> True]] InterpretationBox[{{FF, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[3]}, =, {CAPM, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[SMB]}, SMB}, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[HML]}, HML}}}, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Carhart four-factor model, TextCell[Enter data here, Editable -> True]] InterpretationBox[{{C, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[4]}, =, {{FF, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[3]}, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[RMW]}, RMW}}}, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Fama-French five-factor model, TextCell[Enter data here, Editable -> True]] InterpretationBox[{{FF, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[5]}, =, {{C, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[4]}, +, {{beta, _, DocumentationBuild&#96;Utils&#96;Private&#96;Parenth[CMA]}, CMA}}}, TextCell[Enter data here, Editable -> True]]\" width=\"577\" height=\"120\" /></div>\n<div id=\"1534119701\" class=\"NumberedTableCaption\"><a name=\"1534119701\"></a><strong>Table 1.</strong> Overview of factor models.</div>\n<p>Before we estimate these models using real data, we need factors data. We download five factors and the momentum factor data from Kenneth French<span class=\"special-character CloseCurlyQuote\">’</span>s website (<a href=\"http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html\" target=\"_blank\">http://mba.tuck.dartmouth.edu/pages/faculty/ken.french/data_library.html</a>) and define variables to store them.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_64.gif\" alt=\"\" width=\"580\" height=\"90\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_65.gif\" alt=\"\" width=\"580\" height=\"90\" /></p>\n<p>The function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_176.gif\" alt=\"\" width=\"91\" height=\"15\" /> takes only two arguments, the start date and end date, and returns time series of all factors data. The start date and end date must be specified as date objects.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_66.gif\" alt=\"\" width=\"580\" height=\"556\" /></p>\n<p>Similarly, the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_177.gif\" alt=\"\" width=\"157\" height=\"15\" /> function can be used to get a stock<span class=\"special-character CloseCurlyQuote\">’</span>s monthly returns data. It takes three arguments, a ticker symbol of any publicly traded company, and the start and end dates for the analysis period.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_67.gif\" alt=\"\" width=\"569\" height=\"142\" /></p>\n<p>Using <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_178.gif\" alt=\"\" width=\"91\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_179.gif\" alt=\"\" width=\"157\" height=\"15\" />, we define <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_180.gif\" alt=\"\" width=\"157\" height=\"15\" /> to combine factors and returns data. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_181.gif\" alt=\"\" width=\"157\" height=\"15\" /> takes four arguments (the symbol of the stock for which we want to estimate the factor model, the start date, the end date and an integer that represents the number of factors) and returns a data matrix suitable for <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_182.gif\" alt=\"\" width=\"116\" height=\"15\" />.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_68.gif\" alt=\"\" width=\"580\" height=\"323\" /></p>\n<p>Next, we estimate different factor models for Apple<span class=\"special-character CloseCurlyQuote\">’</span>s stock using monthly data from October 1, 2008, to March 30, 2019. We estimate the capital asset pricing model (CAPM) with market factor (MKT).</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_69.gif\" alt=\"\" width=\"580\" height=\"52\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_26.gif\" alt=\"\" width=\"345\" height=\"57\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_70.gif\" alt=\"\" width=\"580\" height=\"52\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_27.gif\" alt=\"\" width=\"166\" height=\"99\" /></p>\n<p>We estimate the Fama<span class=\"special-character Dash\">–</span>French three-factor model with market, size and value factors (MKT, SMB, HML).</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_71.gif\" alt=\"\" width=\"580\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_28.gif\" alt=\"\" width=\"361\" height=\"93\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_72.gif\" alt=\"\" width=\"565\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_29.gif\" alt=\"\" width=\"166\" height=\"99\" /></p>\n<p>Similarly, we estimate the Carhart four-factor model with market, size, value and momentum factors (MKT, SMB, HML, MOM).</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_73.gif\" alt=\"\" width=\"580\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_30.gif\" alt=\"\" width=\"365\" height=\"111\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_74.gif\" alt=\"\" width=\"565\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_31.gif\" alt=\"\" width=\"166\" height=\"99\" /></p>\n<p>Finally, the Fama<span class=\"special-character Dash\">–</span>French five-factor model with market, size, value, profitability and investment factors (MKT, SMB, HML, RMW, CMA) is estimated as follows.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_75.gif\" alt=\"\" width=\"580\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_32.gif\" alt=\"\" width=\"356\" height=\"129\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_76.gif\" alt=\"\" width=\"565\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_33.gif\" alt=\"\" width=\"166\" height=\"99\" /></p>\n<p>Once the model is estimated, we must access different properties related to data and fitted models. To assess how well the model fits the data and how well the model meets the assumptions, there are many built-in functions.To learn more about obtaining diagnostic information, see the properties of <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_183.gif\" alt=\"\" width=\"116\" height=\"15\" />.</p>\n<h3>9. Stock Portfolio Performance Measures</h3>\n<p>There are various measures to evaluate the performance and risk of portfolios. Most of these measures are used to evaluate a portfolio of interest against a chosen benchmark, by taking a snapshot of the past or considering the entire historical picture. We will compute some common metrics often employed by investors while analyzing performance measures. All the computations are based on the formulas developed in Bacon [<a href=\"#Bacon\">8</a>]. Most common measures are summarized in the function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_184.gif\" alt=\"\" width=\"265\" height=\"15\" />. The function takes four arguments:</p>\n<p><span class=\"special-character Bullet\">•</span> ticker symbols for the test assets and the benchmark asset</p>\n<p><span class=\"special-character Bullet\">•</span> periodic risk-free rate</p>\n<p><span class=\"special-character Bullet\">•</span> time period</p>\n<p><span class=\"special-character Bullet\">•</span> frequency of data</p>\n<p>We repeat the definition of the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_185.gif\" alt=\"\" width=\"116\" height=\"15\" /> function defined earlier to make this section self-contained.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_77.gif\" alt=\"\" width=\"580\" height=\"142\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_78.gif\" alt=\"\" width=\"580\" height=\"1583\" /></p>\n<p>The next example uses stocks, although these measures are used to evaluate the performance of portfolios, mutual funds and exchange-traded funds. We evaluate the performance of (Walmart Inc. (WMT), Apple Inc. (AAPL) and Microsoft Corporation (MSFT) ) against the S&P 500 index (^SPX) using 0.0016 as a monthly risk-free rate and month as the data frequency over the period January 1, 1995, to March 30, 2019.</p>\n<div class=\"Code\">\n<pre>computePortfolioPerformanceTable[{\"WMT\",\"AAPL\",\"MSFT\"},\"^SPX\",0.0016,\n{1995,01,01},{2019,03,30},\"Month\"]//Text</pre>\n</div>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_34.gif\" alt=\"\" width=\"445\" height=\"399\" /></p>\n<h3>10. Interactive Graphics and Technical Analysis of Stock Prices</h3>\n<p>Short-term traders commonly use interactive graphics and technical indicators of stock prices to profit from stocks that may be overbought or oversold. Much is based on market sentiment, but also market timing. When a stock is oversold, the price is low and people want to buy. In comparison, when a stock is overbought, the price is between its normal range and higher, and people do not want to buy, or may want to short sell. Many technical indicators are used to determine a given stock<span class=\"special-character CloseCurlyQuote\">’</span>s peak or bottom price and how to take advantage of that information. Three of the most useful functions for technical analysis of stocks are <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_186.gif\" alt=\"\" width=\"99\" height=\"15\" />, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_187.gif\" alt=\"\" width=\"190\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_188.gif\" alt=\"\" width=\"133\" height=\"15\" />. The documentation provides a comprehensive set of examples on how to use them.</p>\n<p>We show one example of how to use the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_189.gif\" alt=\"\" width=\"99\" height=\"15\" /> function and one example of how to use <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_190.gif\" alt=\"\" width=\"190\" height=\"15\" />.</p>\n<p>You can choose the chart type and from over 100 technical indicators, which are divided into eight groups:</p>\n<p><span class=\"special-character Bullet\">•</span> basic</p>\n<p><span class=\"special-character Bullet\">•</span> moving average</p>\n<p><span class=\"special-character Bullet\">•</span> market strength</p>\n<p><span class=\"special-character Bullet\">•</span> momentum</p>\n<p><span class=\"special-character Bullet\">•</span> trend</p>\n<p><span class=\"special-character Bullet\">•</span> volatility</p>\n<p><span class=\"special-character Bullet\">•</span> band</p>\n<p><span class=\"special-character Bullet\">•</span> statistical</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_191.gif\" alt=\"\" width=\"190\" height=\"15\" /> displays all the available technical indicators.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_79.gif\" alt=\"\" width=\"190\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_35.gif\" alt=\"\" width=\"580\" height=\"502\" /></p>\n<p>Here is the basic format:</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_192.gif\" alt=\"\" width=\"597\" height=\"15\" /></p>\n<p>Alternatively, use:</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_193.gif\" alt=\"\" width=\"466\" height=\"15\" /></p>\n<p>The time series data must be of the form:</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_194.gif\" alt=\"\" width=\"374\" height=\"88\" /></p>\n<p>The historical open, high, low, close and volume data retrieved from <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_195.gif\" alt=\"\" width=\"108\" height=\"15\" /> can also be used as data input. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_196.gif\" alt=\"\" width=\"99\" height=\"15\" /> function has many options that can be used to enhance graphics. We produce a chart using historical prices of Apple&#8217;s stock and volume over the period January 1, 2018, to March 30, 2019.</p>\n<p>The top of the chart shows a plot of historical prices and 50-day and 200-day moving averages. The second part shows the historical volume. The last two parts show plots of two indicators, the commodity channel index (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_197.gif\" alt=\"\" width=\"174\" height=\"15\" />) and the relative strength index (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_198.gif\" alt=\"\" width=\"174\" height=\"15\" />).</p>\n<p>A good introduction to technical indicators can be found in standard references, including at Fidelity Learning Center [<a href=\"#Fidelity\">9</a>].</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_80.gif\" alt=\"\" width=\"580\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_36.gif\" alt=\"\" width=\"414\" height=\"417\" /></p>\n<p>The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_199.gif\" alt=\"\" width=\"190\" height=\"15\" /> function provides a point-and-click interactive chart, with a similar setup:</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_200.gif\" alt=\"\" width=\"635\" height=\"142\" /></p>\n<p>Alternatively, use:</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_201.gif\" alt=\"\" width=\"566\" height=\"15\" /></p>\n<p>For example, we make a chart showing prices, volume and indicators for historical data of Apple&#8217;s stock over the period January 1, 2018, to March 30, 2019. The <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_202.gif\" alt=\"\" width=\"190\" height=\"15\" /> function provides a user-friendly environment where you can drag a slider to view different parts of the chart or you can choose different indicators with point-and-click.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_81.gif\" alt=\"\" width=\"580\" height=\"70\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_37.gif\" alt=\"\" width=\"527\" height=\"700\" /></p>\n<h3>11. Essentials of Bond Mathematics</h3>\n<p>A bond is a long-term debt instrument in which a borrower agrees to make payments of principal and interest, on specific dates, to the holders of the bond. When it comes to analysis and pricing of bonds and computing returns, convexity and duration are important concepts. When a bond is traded between coupon payment dates, its price has two parts: the quoted price and the accrued interest. The quoted price is net of accrued interest, and does not include accrued interest. Accrued interest is the proportion or share of the next coupon payment. The full price is the price of a bond including any interest that has accrued since issue of the most recent coupon payment. Similarly, yield to maturity is the rate of return earned on a bond if it is held to maturity. Duration is a measure of the average length of time for which money is invested in a coupon bond. Convexity estimates the change in the bond price given a change in the yield to maturity, assuming a nonlinear relationship between the two. The built-in functions <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_203.gif\" alt=\"\" width=\"108\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_204.gif\" alt=\"\" width=\"66\" height=\"15\" /> can be used to compute various properties including value of the bond, accrued interest, yield, duration, modified duration, convexity, and so on. This section provides a few examples of how to use <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_205.gif\" alt=\"\" width=\"108\" height=\"15\" /> and how the concepts of bond convexity and duration can be used in bond portfolio management.</p>\n<p>We discuss zero-coupon bonds first. The zero-coupon bond does not make coupon payments. The only cash payment is the face value of the bond on the maturity date. The yield to maturity (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_206.gif\" alt=\"\" width=\"21\" height=\"16\" />) for a zero-coupon bond with <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_207.gif\" alt=\"\" width=\"7\" height=\"16\" /> periods to maturity, current price <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_208.gif\" alt=\"\" width=\"8\" height=\"16\" /> and face value <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_209.gif\" alt=\"\" width=\"18\" height=\"16\" /> can be obtained by solving <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_210.gif\" alt=\"\" width=\"106\" height=\"16\" />.</p>\n<p>For example, we compute the yield to maturity of a zero-coupon bond with a $10,000 face value, time to maturity 4 years and current price $9,662 using <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_211.gif\" alt=\"\" width=\"50\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_212.gif\" alt=\"\" width=\"66\" height=\"15\" />.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_82.gif\" alt=\"\" width=\"357\" height=\"40\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_38.gif\" alt=\"\" width=\"158\" height=\"15\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_83.gif\" alt=\"\" width=\"580\" height=\"124\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_39.gif\" alt=\"\" width=\"142\" height=\"15\" /></p>\n<p>Similarly, <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_213.gif\" alt=\"\" width=\"66\" height=\"15\" /> can also be used to compute the yield to maturity of a nonzero coupon payment bond.</p>\n<p>For example, we compute the yield to maturity of a $1,000 par value 10-year bond with 5% semiannual coupons issued on June 20, 2013, with maturity date of June 20, 2023, selling for $920 on September 15, 2018.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_84.gif\" alt=\"\" width=\"528\" height=\"222\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_40.gif\" alt=\"\" width=\"117\" height=\"15\" /></p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_214.gif\" alt=\"\" width=\"108\" height=\"15\" /> can also be used to compute the price, duration, modified duration and convexity of a bond. For example, we compute those values for a bond with 8% yield, 8% annual coupons, 10-year maturity and $1,000 face value.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_85.gif\" alt=\"\" width=\"580\" height=\"88\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_41.gif\" alt=\"\" width=\"270\" height=\"15\" /></p>\n<p>There are different approaches to bond portfolio management. We concentrate here on a liability-driven portfolio strategy, in which the characteristics of the bonds that are held in the portfolio are coordinated with those of the liabilities the investor is obligated to pay. The matching techniques can range from an attempt to exactly match the levels and timing of the required cash payments to more general approaches that focus on other investment characteristics, such as setting the average duration or convexity of the bond portfolio equal to that of the underlying liabilities. One specific example would be to construct the portfolio so that the duration of the bond portfolio is equal to the duration of cash obligation and the total money invested in the bond portfolio today is equal to the present value of the future cash obligations.</p>\n<p>To illustrate the concept of bond portfolio management, assume that we have an obligation to pay $1,000,000 in 10 years and there are two bonds available for investment. The first bond matures in 30 years with $100 face value and annual coupon payment of 6%. The second bond matures in 10 years with $100 face value and annual coupon payment of 5%. The yield to maturity is 9% on both bonds. We can decide on how much to invest in each bond so that the overall portfolio is immunized against changes in the interest rate.</p>\n<p>We compute the duration of each bond using <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_215.gif\" alt=\"\" width=\"108\" height=\"15\" />, which gives that the duration of bond 1 is 11.88 and that of bond 2 is 6.75. Assuming that the proportion of money invested in bonds 1 and 2 is <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_216.gif\" alt=\"\" width=\"15\" height=\"16\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_217.gif\" alt=\"\" width=\"15\" height=\"16\" />, the immunized portfolio is found by solving the simultaneous equations:</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_86.gif\" alt=\"\" width=\"146\" height=\"37\" /></p>\n<p>These two equations can be solved using <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_218.gif\" alt=\"\" width=\"41\" height=\"15\" />.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_87.gif\" alt=\"\" width=\"391\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_42.gif\" alt=\"\" width=\"243\" height=\"15\" /></p>\n<p>The result shows how much money should be allocated to each bond. More examples can be found in Benninga [<a href=\"#Benninga\">10</a>]. A more general approach to bond portfolio management can be solved by using linear programming. It is beyond the scope of this article to introduce linear programming.</p>\n<h3>12. Binomial and Black<span class=\"special-character Dash\">–</span>Scholes<span class=\"special-character Dash\">–</span>Morton Stock Option Pricing Models</h3>\n<p>The most popular options pricing models are the binomial model and the Black<span class=\"special-character Dash\">–</span>Scholes<span class=\"special-character Dash\">–</span>Morton option pricing formulas for European options. In the next two subsections, we discuss these models and their implementation.</p>\n<h4>12.1 Binomial Option Pricing Model</h4>\n<div id=\"299878867\" class=\"Quote\"><a name=\"299878867\"></a>Following the notation from Hull [<a href=\"#Hull\">11</a>], define:</div>\n<div id=\"1687046500\" class=\"Quote\"><a name=\"1687046500\"></a><img style=\"vertical-align: middle;\" title=\"S_0\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_2.gif\" alt=\"S_0\" width=\"13\" height=\"16\" />: the current stock price</div>\n<div id=\"471348486\" class=\"Quote\"><a name=\"471348486\"></a><img style=\"vertical-align: middle;\" title=\"K\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_4.gif\" alt=\"K\" width=\"10\" height=\"16\" />: the strike price</div>\n<div id=\"1353282150\" class=\"Quote\"><a name=\"1353282150\"></a><img style=\"vertical-align: middle;\" title=\"rf\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_6.gif\" alt=\"rf\" width=\"10\" height=\"16\" />: the annual risk-free rate</div>\n<div id=\"2086360432\" class=\"Quote\"><a name=\"2086360432\"></a><img style=\"vertical-align: middle;\" title=\"sigma\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_8.gif\" alt=\"sigma\" width=\"9\" height=\"16\" />: the annual standard deviation of the stock returns</div>\n<div id=\"937008774\" class=\"Quote\"><a name=\"937008774\"></a><img style=\"vertical-align: middle;\" title=\"T\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_10.gif\" alt=\"T\" width=\"9\" height=\"16\" />: the time to expiration of the option in years</div>\n<div id=\"1240908550\" class=\"Quote\"><a name=\"1240908550\"></a><img style=\"vertical-align: middle;\" title=\"n\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_12.gif\" alt=\"n\" width=\"7\" height=\"16\" />: the total number of up and down moves</div>\n<div id=\"1583385862\" class=\"Quote\"><a name=\"1583385862\"></a><img style=\"vertical-align: middle;\" title=\"j\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_14.gif\" alt=\"j\" width=\"6\" height=\"16\" />: the number of upward moves.</div>\n<div id=\"691206369\" class=\"Quote\"><a name=\"691206369\"></a>Then <img style=\"vertical-align: middle;\" title=\"n-j\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_16.gif\" alt=\"n-j\" width=\"28\" height=\"16\" /> is the number of down moves on the tree.</div>\n<p>In terms of these variables, we can define:</p>\n<p><span class=\"special-character Bullet\">•</span> time per period <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_219.gif\" alt=\"\" width=\"53\" height=\"16\" /></p>\n<p><span class=\"special-character Bullet\">•</span> up factor <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_220.gif\" alt=\"\" width=\"61\" height=\"22\" /></p>\n<p><span class=\"special-character Bullet\">•</span> down factor <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_221.gif\" alt=\"\" width=\"68\" height=\"22\" /></p>\n<p><span class=\"special-character Bullet\">•</span> probability of an up move <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_222.gif\" alt=\"\" width=\"79\" height=\"33\" /></p>\n<p><span class=\"special-character Bullet\">•</span> probability of a down move <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_223.gif\" alt=\"\" width=\"52\" height=\"16\" /></p>\n<p><span class=\"special-character Bullet\">•</span> stock price <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_224.gif\" alt=\"\" width=\"54\" height=\"18\" /> at node <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_225.gif\" alt=\"\" width=\"7\" height=\"16\" /></p>\n<p><span class=\"special-character Bullet\">•</span> payoff from a European call <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_226.gif\" alt=\"\" width=\"128\" height=\"21\" /></p>\n<p><span class=\"special-character Bullet\">•</span> payoff from a European put <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_227.gif\" alt=\"\" width=\"128\" height=\"21\" /></p>\n<p>In the risk-neutral world, the price of the call and put using the <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_228.gif\" alt=\"\" width=\"7\" height=\"16\" />-period binomial options pricing model can be computed as:</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_88.gif\" alt=\"\" width=\"306\" height=\"35\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_DisplayFormula_89.gif\" alt=\"\" width=\"304\" height=\"35\" /></p>\n<p>The functions <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_229.gif\" alt=\"\" width=\"141\" height=\"15\" /> and <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_230.gif\" alt=\"\" width=\"133\" height=\"15\" /> calculate the prices of European call and put options; they output the option price. Each function takes six arguments as defined at the beginning of this subsection.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_90.gif\" alt=\"\" width=\"558\" height=\"254\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_91.gif\" alt=\"\" width=\"562\" height=\"254\" /></p>\n<p>We use these functions to find the prices of call and put options when the current stock price is $50, the strike price is $45, the annual volatility is 40%, the risk-free rate is 10%, the time to maturity is half a year and the total number of up and down moves is 500.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_92.gif\" alt=\"\" width=\"356\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_43.gif\" alt=\"\" width=\"58\" height=\"15\" /></p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_93.gif\" alt=\"\" width=\"348\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_44.gif\" alt=\"\" width=\"58\" height=\"15\" /></p>\n<h4>12.2 Black<span class=\"special-character Dash\">–</span>Scholes<span class=\"special-character Dash\">–</span>Morton Options Pricing Model</h4>\n<div id=\"113410473\" class=\"Quote\"><a name=\"113410473\"></a>Similar to the binomial option pricing formula defined in the last section, we follow Hull [<a href=\"#Hull\">11</a>] to explain the Black<span class=\"special-character Dash\">–</span>Scholes<span class=\"special-character Dash\">–</span>Morton option pricing formulas. Define the variables:</div>\n<div id=\"1602071827\" class=\"Quote\"><a name=\"1602071827\"></a><img style=\"vertical-align: middle;\" title=\"c_0\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_18.gif\" alt=\"c_0\" width=\"12\" height=\"16\" />: the current call option value</div>\n<div id=\"1565596608\" class=\"Quote\"><a name=\"1565596608\"></a><img style=\"vertical-align: middle;\" title=\"p_0\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_20.gif\" alt=\"p_0\" width=\"14\" height=\"16\" />: the current put option value</div>\n<div id=\"2114058766\" class=\"Quote\"><a name=\"2114058766\"></a><img style=\"vertical-align: middle;\" title=\"S_0\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_22.gif\" alt=\"S_0\" width=\"13\" height=\"16\" />: the current stock price</div>\n<div id=\"2134100585\" class=\"Quote\"><a name=\"2134100585\"></a><img style=\"vertical-align: middle;\" title=\"K\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_24.gif\" alt=\"K\" width=\"10\" height=\"16\" />: the exercise price</div>\n<div id=\"527056553\" class=\"Quote\"><a name=\"527056553\"></a><img style=\"vertical-align: middle;\" title=\"T\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_26.gif\" alt=\"T\" width=\"9\" height=\"16\" />: the time in years until the option expires</div>\n<div id=\"1999935908\" class=\"Quote\"><a name=\"1999935908\"></a><img style=\"vertical-align: middle;\" title=\"rf\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_28.gif\" alt=\"rf\" width=\"10\" height=\"16\" />: the annual risk-free interest rate</div>\n<div id=\"903238236\" class=\"Quote\"><a name=\"903238236\"></a><img style=\"vertical-align: middle;\" title=\"sigma\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_30.gif\" alt=\"sigma\" width=\"9\" height=\"16\" />: the annual standard deviation of the rate of return of the underlying stock</div>\n<div id=\"896966445\" class=\"Quote\"><a name=\"896966445\"></a><img style=\"vertical-align: middle;\" title=\"delta\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_32.gif\" alt=\"delta\" width=\"6\" height=\"16\" />: the annual dividend yield of the underlying stock</div>\n<div id=\"138993203\" class=\"Quote\"><a name=\"138993203\"></a>Furthermore, assume that <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_231.gif\" alt=\"\" width=\"70\" height=\"45\" /> is the standard normal density function (where <img style=\"vertical-align: middle;\" title=\"e approx 2.71828...\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_34.gif\" alt=\"e approx 2.71828...\" width=\"83\" height=\"16\" /> the base of the natural logarithms) and let <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_37.gif\" alt=\"\" width=\"102\" height=\"22\" /> be the standard normal cumulative distribution function, so that <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_232.gif\" alt=\"\" width=\"28\" height=\"16\" /> denotes the probability that a random variable drawn from a standard normal distribution is less than <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_233.gif\" alt=\"\" width=\"7\" height=\"16\" />. Then the call and put values can be computed as</div>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_234.gif\" alt=\"\" width=\"197\" height=\"18\" />,</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_235.gif\" alt=\"\" width=\"253\" height=\"18\" />,</p>\n<p>where</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_236.gif\" alt=\"\" width=\"165\" height=\"29\" />,</p>\n<p><img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_237.gif\" alt=\"\" width=\"93\" height=\"21\" />.</p>\n<p>Table 2 summarizes the price sensitivity measures of call and put options (denoted by Greek symbols) with respect to their major price determinants; here <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_238.gif\" alt=\"\" width=\"9\" height=\"16\" /> stands for value of the option.</p>\n<div id=\"1782071188\" class=\"Table\"><a name=\"1782071188\"></a><br />\n<img style=\"vertical-align: middle;\" title=\"InterpretationBox[Greeks, TextCell[Enter data here, Editable -> True]] Evaluation InterpretationBox[Interpretation, TextCell[Enter data here, Editable -> True]]; InterpretationBox[estimated change in value relative to change in:, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Delta (Delta), TextCell[Enter data here, Editable -> True]] (partialV)/(partialS) InterpretationBox[the underlying asset price, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Vega (upsilon), TextCell[Enter data here, Editable -> True]] (partialV)/(partialsigma) InterpretationBox[the underlying asset volatility, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Rho (rho), TextCell[Enter data here, Editable -> True]] (partialV)/(partialr) InterpretationBox[the risk-free interest rate, TextCell[Enter data here, Editable -> True]]; Theta (theta) (partialV)/(partialT) the time to expiration (for a negative change); Gamma (Gamma) (partial^2V)/(partialS^2) estimated change in delta relative to a change in the underlying asset price\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Image_38.gif\" alt=\"InterpretationBox[Greeks, TextCell[Enter data here, Editable -> True]] Evaluation InterpretationBox[Interpretation, TextCell[Enter data here, Editable -> True]]; InterpretationBox[estimated change in value relative to change in:, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Delta (Delta), TextCell[Enter data here, Editable -> True]] (partialV)/(partialS) InterpretationBox[the underlying asset price, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Vega (upsilon), TextCell[Enter data here, Editable -> True]] (partialV)/(partialsigma) InterpretationBox[the underlying asset volatility, TextCell[Enter data here, Editable -> True]]; InterpretationBox[Rho (rho), TextCell[Enter data here, Editable -> True]] (partialV)/(partialr) InterpretationBox[the risk-free interest rate, TextCell[Enter data here, Editable -> True]]; Theta (theta) (partialV)/(partialT) the time to expiration (for a negative change); Gamma (Gamma) (partial^2V)/(partialS^2) estimated change in delta relative to a change in the underlying asset price\" width=\"635\" height=\"225\" /></div>\n<div id=\"44603118\" class=\"NumberedTableCaption\"><a name=\"44603118\"></a><strong>Table 2.</strong> Greeks as measures of sensitivity.</div>\n<p>The built-in Mathematica function <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_239.gif\" alt=\"\" width=\"157\" height=\"15\" /> computes the values and other price sensitivity measures for common types of derivative contracts. The function can compute the value of an option, any of delta, gamma, theta and vega, as well as the implied volatility of the contract. The Mathematica documentation provides many examples of how to use <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_240.gif\" alt=\"\" width=\"157\" height=\"15\" />. Here are the first 10 of a list of 101 available contracts.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_94.gif\" alt=\"\" width=\"327\" height=\"15\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_45.gif\" alt=\"\" width=\"265\" height=\"186\" /></p>\n<p>For example, we compute the price and Greeks of the European-style put option with strike price $50, expiration date 0.3846 years, interest rate 5%, annual volatility 20%, no annual dividend and current price $49.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_95.gif\" alt=\"\" width=\"580\" height=\"52\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_46.gif\" alt=\"\" width=\"580\" height=\"34\" /></p>\n<p>Similarly, we compute the implied volatility of an American-style call option with the same values of the parameters.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_96.gif\" alt=\"\" width=\"580\" height=\"52\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_47.gif\" alt=\"\" width=\"50\" height=\"15\" /></p>\n<p>One interesting application of <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_241.gif\" alt=\"\" width=\"157\" height=\"15\" /> is to get real-world data and compute related measures related to options. We define <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_242.gif\" alt=\"\" width=\"190\" height=\"15\" /> that computes the theoretical value of options and their Greeks, which takes five arguments:</p>\n<p><span class=\"special-character Bullet\">•</span> ticker symbol (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_243.gif\" alt=\"\" width=\"50\" height=\"15\" />)</p>\n<p><span class=\"special-character Bullet\">•</span> strike price (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_244.gif\" alt=\"\" width=\"8\" height=\"15\" />)</p>\n<p><span class=\"special-character Bullet\">•</span> expiration date (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_245.gif\" alt=\"\" width=\"116\" height=\"15\" />)</p>\n<p><span class=\"special-character Bullet\">•</span> risk-free rate (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_246.gif\" alt=\"\" width=\"17\" height=\"15\" />)</p>\n<p><span class=\"special-character Bullet\">•</span> either <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_247.gif\" alt=\"\" width=\"82\" height=\"15\" /> or <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_248.gif\" alt=\"\" width=\"82\" height=\"15\" /> (<img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_249.gif\" alt=\"\" width=\"33\" height=\"15\" />)</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_97.gif\" alt=\"\" width=\"580\" height=\"538\" /></p>\n<p>We compute the European-style option parameters for Boeing (BA), assuming that the option expires on December 28, 2020, with exercise price $145 and risk-free rate 0.0187. Make sure that the expiration date is later than the current date, since <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_250.gif\" alt=\"\" width=\"190\" height=\"15\" /> uses historical data.</p>\n<p class=\"input\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Input_98.gif\" alt=\"\" width=\"580\" height=\"52\" /></p>\n<p class=\"output\"><img src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Output_48.gif\" alt=\"\" width=\"211\" height=\"155\" /></p>\n<p>We strongly encourage you to explore the built-in or online documentation for the powerful <img style=\"vertical-align: middle;\" src=\"https://content.wolfram.com/uploads/sites/19/2020/08/Adhikari-1_Math_251.gif\" alt=\"\" width=\"157\" height=\"15\" /> function.</p>\n<h3>13. Conclusion</h3>\n<p>The article provides a brief overview of built-in functions and introduces many functions especially designed for analysis of financial data. In particular, we have focused on functions that are more relevant to introductory computational financial concepts. We emphasize importing company fundamental data and its visualization, analysis of individual stocks and portfolio returns, factor models and the use of built-in functions for bond and financial derivative analysis. The functions we have provided are just a few examples. The Wolfram Language can do much more than what we have shown in this article. Interested readers can start exploring the Wolfram Language via Mathematica<span class=\"special-character CloseCurlyQuote\">’</span>s extensive documentation.</p>\n<h3>References</h3>\n<table class=\"ReferenceTable\">\n<tbody>\n<tr>\n<td class=\"Reference\"><a name=\"Varian1\"></a>[1]</td>\n<td>H. R. Varian, ed., <em>Economic and Financial Modeling with Mathematica</em>, New York: Springer-Verlag, 1993.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Varian2\"></a>[2]</td>\n<td>H. R. Varian, ed., <em>Computational Economics and Finance Modeling and Analysis with Mathematica</em>, New York: Springer-Verlag, 1996.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Shaw\"></a>[3]</td>\n<td>W. Shaw, <em>Modelling Financial Derivatives with Mathematica</em>, Cambridge, UK: Cambridge University Press, 1998.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Stojanovic\"></a>[4]</td>\n<td>S. Stojanovic, <em>Computational Financial Mathematics using MATHEMATICA Optimal Trading in Stocks and Options</em>, Boston: Birkh<span class=\"special-character ADoubleDot\">ä</span>user, 2003.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Black\"></a>[5]</td>\n<td>F. Black, <span class=\"special-character OpenCurlyDoubleQuote\">“</span>Capital Market Equilibrium with Restricted Borrowing,<span class=\"special-character CloseCurlyDoubleQuote\">”</span> <em>Journal of Business</em>, <strong>4</strong>(3), 1972 pp. 444<span class=\"special-character Dash\">–</span>455. <a href=\"https://www.jstor.org/stable/2351499\" target=\"_blank\">www.jstor.org/stable/2351499</a>.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Campolieti-Makarov\"></a>[6]</td>\n<td>G. Campolieti and R. Makarov, <em>Financial Mathematics: A Comprehensive Treatment</em>, London: Chapman and Hall/CRC Press, 2014.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Fama-French\"></a>[7]</td>\n<td>E. F. Fama and K. R. French, <span class=\"special-character OpenCurlyDoubleQuote\">“</span>A Five-Factor Asset Pricing Model,<span class=\"special-character CloseCurlyDoubleQuote\">”</span> <em>Journal of Financial Economics</em>, <strong>116</strong>(1), 2015 pp.1<span class=\"special-character Dash\">–</span>22. <a href=\"https://doi.org/10.1016/j.jfineco.2014.10.010\" target=\"_blank\">doi:10.1016/j.jfineco.2014.10.010</a>.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Bacon\"></a>[8]</td>\n<td>C. R. Bacon, <em>Practical Risk-Adjusted Performance Measurement</em>, 2nd ed., Hoboken: Wiley, 2013.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Fidelity\"></a>[9]</td>\n<td>Fidelity Learning Center. <span class=\"special-character OpenCurlyDoubleQuote\">“</span>Technical Indicator Guide.<span class=\"special-character CloseCurlyDoubleQuote\">”</span> (Jul 29, 2020) <a href=\"https://www.fidelity.com/learning-center/trading-investing/technical-analysis/technical-indicator-guide/overview\" target=\"_blank\">www.fidelity.com/learning-center/trading-investing/technical-analysis/technical-indicator-guide/overview</a>.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Benninga\"></a>[10]</td>\n<td>S. Benninga, <em>Financial Modeling</em>, 4th ed., Massachusetts: The MIT Press, 2014.</td>\n</tr>\n<tr>\n<td class=\"Reference\"><a name=\"Hull\"></a>[11]</td>\n<td>J.C. Hull, <em>Options, Futures and Other Derivatives</em>, 10th ed., New York: Pearson Education Limited, 2018.</td>\n</tr>\n<tr>\n<td id=\"1099737697\" class=\"DOIReference\" colspan=\"2\"><a name=\"1099737697\"></a>R. Adhikari, <span class=\"special-character OpenCurlyDoubleQuote\">“</span>Foundations of Computational Finance,<span class=\"special-character CloseCurlyDoubleQuote\">”</span> <em>The Mathematica Journal</em>, 2020. <a href=\"https://doi.org/10.3888/tmj.22-2\">https://doi.org/10.3888/tmj.22–2</a>.</td>\n</tr>\n</tbody>\n</table>\n<h3 class=\"SectionAboutAuthor\">About the Author</h3>\n<p class=\"TextAboutAuthor\">Ramesh Adhikari is an assistant professor of finance at Humboldt State University. Prior to coming to HSU, he taught undergraduate and graduate students at the Tribhuvan University and worked at the Central Bank of Nepal. He was also a research fellow at the Osaka Sangyo University, Osaka, Japan. He earned a Ph.D. in Financial Economics from the University of New Orleans. He is interested in the areas of computational finance and high-dimensional statistics.</p>\n<p class=\"TextAboutAuthor\"><strong>Ramesh Adhikari</strong><br />\n<em>School of Business, Humboldt State University<br />\n1 Harpst Street<br />\nArcata, CA 95521</em><br />\n<em><a href=\"mailto:ramesh.adhikari@humboldt.edu\">ramesh.adhikari@humboldt.edu</a></em></p>\n</div>\n</div>\n",
  "wfw:commentRss": "https://www.mathematica-journal.com/2020/08/18/foundations-of-computational-finance/feed/",
  "slash:comments": 0
}