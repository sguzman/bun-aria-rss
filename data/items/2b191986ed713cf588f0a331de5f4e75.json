{
  "title": "The multiple meanings of \"nameserver\" and \"DNS resolver\"",
  "link": "",
  "updated": "2022-02-14T12:31:34+00:00",
  "id": "https://jvns.ca/blog/2022/02/14/some-dns-terminology/",
  "content": "\n\n<p>I&rsquo;m working on a zine about DNS right now, so I&rsquo;ve been thinking about DNS\nterminology a lot more than a normal person. Here&rsquo;s something slightly\nconfusing I&rsquo;ve noticed about DNS terminology!</p>\n\n<p>Two of the most common DNS server terms (&ldquo;nameserver&rdquo; and &ldquo;DNS resolver&rdquo;)\nhave different meanings depending on the situation.</p>\n\n<p>Now this isn&rsquo;t a problem if you already understand how DNS works &ndash; I can\neasily figure out what type of &ldquo;nameserver&rdquo; is being discussed based on\ncontext.</p>\n\n<p>But it can be a problem if you&rsquo;re trying to learn how DNS works and you don&rsquo;t\nrealize that those words might refer to different things depending on the\ncontext &ndash; it&rsquo;s confusing! So I&rsquo;m going to explain the different possible\nmeanings and how to figure out which meaning is intended.</p>\n\n<h3 id=\"the-2-meanings-of-nameserver\">the 2 meanings of &ldquo;nameserver&rdquo;</h3>\n\n<p>There are 2 types of nameservers, and which one the term &ldquo;nameserver&rdquo; means\ndepends on the context.</p>\n\n<p><strong>Meaning 1: &ldquo;authoritative&rdquo; nameservers</strong></p>\n\n<p>When you update the DNS records for a domain, those records are stored on a\nserver called an <strong>authoritative nameserver</strong>.</p>\n\n<p>This is what &ldquo;nameserver&rdquo; means in the context of a <strong>specific domain</strong>. Here are a few examples:</p>\n\n<ul>\n<li>&ldquo;Connect a domain you already own to Wix by changing its <em>name servers</em>.&rdquo;</li>\n<li>&ldquo;Almost all domains rely on multiple <em>nameservers</em> to increase reliability:\nif one nameserver goes down or is unavailable, DNS queries can go to\nanother one.&rdquo;</li>\n<li>&ldquo;You can update the <em>nameserver</em> records yourself by following the steps\nyour domain registrar may provide in the help content at their website&rdquo;</li>\n</ul>\n\n<p><strong>Meaning 2. &ldquo;recursive&rdquo; nameservers, also known as &ldquo;DNS resolvers&rdquo;</strong></p>\n\n<p>These servers cache DNS records. Your browser doesn&rsquo;t make a request to an\nauthoritative nameserver directly. Instead it makes a request to a DNS resolver (aka recursive nameserver)\nwhich figures out what the right authoritative nameserver to talk to is, gets\nthe record, and caches the result.</p>\n\n<p>This is what &ldquo;nameserver&rdquo; means in the context of <strong>you browsing the internet</strong>.\n(&ldquo;your computer&rsquo;s nameservers&rdquo;). Here are a few examples:</p>\n\n<ul>\n<li>&ldquo;Changing <em>nameservers</em> can be a pain on some devices and require multiple\nclicks through a user interface. On Windows 10, for example&hellip;&rdquo;</li>\n<li>&ldquo;Are your DNS <em>nameservers</em> impeding your Internet experience? NEW RELEASE\nadds nameservers  1.1.1.1,  1.0.0.1  and  9.9.9.9&rdquo;</li>\n<li>&ldquo;Configure your network settings to use the IP addresses 8.8.8.8 and 8.8.4.4 as your DNS servers&rdquo;</li>\n</ul>\n\n<p>I prefer to use the term &ldquo;DNS resolver&rdquo; even though it has 2 meanings because\nit&rsquo;s much more commonly used than &ldquo;recursive nameserver&rdquo;.</p>\n\n<h3 id=\"meanings-of-dns-resolver\">meanings of &ldquo;DNS resolver&rdquo;</h3>\n\n<p>A DNS resolver can either be a library or a server. (I&rsquo;m sorry, I know I said\nthat a DNS resolver is a server earlier. But sometimes it&rsquo;s a library.)</p>\n\n<p><strong>Meaning 1a: &ldquo;stub resolver&rdquo; (library version)</strong></p>\n\n<p>A &ldquo;stub resolver&rdquo; is something (it can be either a library or a DNS server)\nwhich doesn&rsquo;t know how to resolve DNS names itself, it&rsquo;s just in charge of\nforwarding DNS queries to the &ldquo;real&rdquo; DNS resolver. Let&rsquo;s talk about stub resolvers that are libraries first.</p>\n\n<p>For example, the <code>getaddrinfo</code> function from libc doesn&rsquo;t know how to look up\nDNS records itself, it just knows to look in <code>/etc/resolv.conf</code> and forward the\nquery to whatever DNS server(s) it finds there.</p>\n\n<p>How you can tell if this is what&rsquo;s meant: if it&rsquo;s part of your computer&rsquo;s\noperating system and/or if it&rsquo;s a library, it&rsquo;s a stub resolver.</p>\n\n<p>Examples of this meaning of &ldquo;DNS resolver&rdquo;:</p>\n\n<ul>\n<li>&ldquo;The <em>resolver</em> is a set of routines in the C library that provide access to\nthe Internet Domain Name System (DNS)&rdquo;</li>\n<li>&ldquo;These are the DNS servers used to resolve web addresses. You can list up to\nthree, and the <em>resolver</em> tries each of them, one by one, until it finds one\nthat works.&rdquo;</li>\n<li>&ldquo;If the command succeeds, you will receive the following message &ldquo;Successfully flushed the <em>DNS Resolver</em> Cache.&ldquo;&rdquo;</li>\n</ul>\n\n<p><strong>Meaning 1b: &ldquo;stub resolver&rdquo; (server version)</strong></p>\n\n<p>Stub resolvers aren&rsquo;t always libraries though, like <code>systemd-resolved</code> and\n<code>dnsmasq</code> are stub resolvers but they&rsquo;re servers. Your router might be running\n<code>dnsmasq</code>.</p>\n\n<p>This is also known as a &ldquo;DNS forwarder&rdquo;.</p>\n\n<p>How you can tell if this is what&rsquo;s meant: if your router is running it or it&rsquo;s\npart of your OS, it&rsquo;s probably a stub resolver.</p>\n\n<p><strong>Meaning 2: a recursive nameserver (a server)</strong></p>\n\n<p>A &ldquo;recursive nameserver&rdquo; (like we talked about before) is a server that knows\nhow to find the authoritative nameservers for a domain. This is the kind of DNS resolver I was talking about in this <a href=\"https://jvns.ca/blog/2022/02/01/a-dns-resolver-in-80-lines-of-go/\">A toy DNS resolver</a>\npost a couple of weeks ago (though mine wasn&rsquo;t a server).</p>\n\n<p>How to tell if this is what&rsquo;s meant: if it&rsquo;s <code>unbound</code>, <code>bind</code>, 8.8.8.8,\n1.1.1.1, or run by your ISP, then it&rsquo;s a recursive nameserver.</p>\n\n<p>Examples of this meaning of &ldquo;DNS resolver&rdquo;:</p>\n\n<ul>\n<li>&ldquo;The DNS Resolver in pfSenseÂ® software utilizes unbound, which is a\nvalidating, recursive, caching <em>DNS resolver</em>&hellip;&rdquo;</li>\n<li>&ldquo;We invite you to try Google Public DNS as your primary or secondary <em>DNS resolver</em>&hellip;&rdquo;</li>\n<li>&ldquo;I work for a reasonably large mobile service provider and we are in the process of implementing our own <em>DNS resolver</em>&hellip;&rdquo;</li>\n</ul>\n\n<h3 id=\"the-most-popular-dns-server-words\">the most popular DNS server words</h3>\n\n<p>I also did a quick unscientific survey of which terms to refer to DNS servers\nwere the most common by counting Google results. Here&rsquo;s what I found:</p>\n\n<ul>\n<li>dns server: 8,000,000</li>\n<li>nameserver: 4,200,000</li>\n<li>dns resolver: 933,000</li>\n<li>public DNS server: 204,000</li>\n<li>root nameserver: 42,000</li>\n<li>recursive resolver: 38,500</li>\n<li>stub resolver: 26,100</li>\n<li>authoritative nameserver: 17,000</li>\n<li>dns resolution service: 9,450</li>\n<li>TLD nameserver: 7,500</li>\n<li>dns recursor: 5,300</li>\n<li>recursive nameserver: 5,060</li>\n</ul>\n\n<p>Basically what this tells me is that by a pretty big margin, the most popular\nwords used when talking about DNS serves are &ldquo;nameserver&rdquo;, and &ldquo;DNS resolver&rdquo;.</p>\n\n<p>The more specific terms like &ldquo;recursive nameserver&rdquo;, &ldquo;authoritative\nnameserver&rdquo;, and &ldquo;stub resolver&rdquo; are much less common.</p>\n\n<h3 id=\"that-s-all\">that&rsquo;s all!</h3>\n\n<p>I hope this helps some folks understand what these words mean! The terminology\nis a bit messier than I&rsquo;d like, but it seems better to me to explain it than to\nuse less-ambiguous language that isn&rsquo;t as commonly used in practice.</p>\n"
}