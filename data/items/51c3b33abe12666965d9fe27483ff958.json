{
  "title": "A Linux Live USB as a statistical programming dev environment",
  "link": "https://www.r-bloggers.com/2022/10/a-linux-live-usb-as-a-statistical-programming-dev-environment/",
  "dc:creator": "Econometrics and Free Software",
  "pubDate": "Sat, 29 Oct 2022 00:00:00 +0000",
  "category": "R bloggers",
  "guid": "https://www.brodrigues.co/blog/2022-10-29-mkusb_minp/",
  "description": "<div style = \"width:60%; display: inline-block; float:left; \">\n<p>This blog post is divided in two parts: in the first part I’ll show you how<br />\nto create a Linux Live USB with persistent storage that can be used as<br />\ndevelopment environment, and in the second part I’ll show you the easiest<br />\nway to set up RStudio and ...</p></div>\n<div style = \"width: 40%; display: inline-block; float:right;\"></div>\n<div style=\"clear: both;\"></div>\n<strong>Continue reading</strong>: <a href=\"https://www.r-bloggers.com/2022/10/a-linux-live-usb-as-a-statistical-programming-dev-environment/\">A Linux Live USB as a statistical programming dev environment</a>",
  "content:encoded": "<!-- \n<div style=\"min-height: 30px;\">\n[social4i size=\"small\" align=\"align-left\"]\n</div>\n-->\n\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 12px;\">\n[This article was first published on  <strong><a href=\"https://www.brodrigues.co/blog/2022-10-29-mkusb_minp/\"> Econometrics and Free Software</a></strong>, and kindly contributed to <a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers</a>].  (You can report issue about the content on this page <a href=\"https://www.r-bloggers.com/contact-us/\">here</a>)\n<hr>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div>\n<div style=\"text-align:center;\">\n<p><video width=\"450\" controls>\n<source src=\"https://www.brodrigues.co/img/tux_usb_ubuntu_startup.mp4\" type=\"video/mp4\">\n</video></p>\n</div>\n<p>This blog post is divided in two parts: in the first part I’ll show you how\nto create a Linux Live USB with persistent storage that can be used as\ndevelopment environment, and in the second part I’ll show you the easiest\nway to set up RStudio and R in Ubuntu.</p>\n<div id=\"making-your-own-portable-development-environment-based-on-ubuntu-or-debian\" class=\"section level2\">\n<h2>Making your own, portable, development environment based on Ubuntu or Debian</h2>\n<p>I’m currently teaching a course at the University of Luxembourg, which\nfocuses on setting up reproducible analytical pipelines (if you’re\ninterested, you can find the course notes <a href=\"https://rap4mads.eu/\" rel=\"nofollow\" target=\"_blank\">here</a>).</p>\n<p>The problem is that my work laptop runs Windows, and I didn’t want to teach\non Windows since I make heavy use of the command line. Plus I don’t have\nadmin rights on this machine, so installing what I needed would have been a pain.\nI also don’t have a personal laptop, so I use my wife’s laptop. However, the\nlaptop is completely full of pictures of our kids, so I couldn’t install what I needed…\nThis is when I thought about making a persistent live USB with Kubuntu on it\n(Kubuntu is a variant of Ubuntu with KDE as the desktop manager instead of Gnome)\nwith all the software I needed (R, Quarto, RStudio basically). It works quite well, and\nwas also quite easy to do. But what is a live USB anyways?\nA live USB is a full Linux installation on a USB stick, that you can use to test\ndifferent Linux distributions or even to install said distribution on computers.</p>\n<p>The first step is to get a USB stick. Those are quite cheap nowadays, but you’ll\nneed at least one with 8GB of space, and ideally USB 3 (you probably can’t find\nany USB 2 these days anyways). I’ve bought a 32GB one for 10€.</p>\n<p>Then, we need to install Ubuntu on it. I’ll be using Kubuntu 22.04, which is an LTS\nrelease. I would always recommend an LTS release for something like crafting\na development environment. So if you’re reading this in the future, and there’s a new\nLTS (could be 24.04, 26.04, etc), you’d need to get that one.</p>\n<p>Creating a live USB is quite simple, but the issue if you create a live USB using the standard\nmethods is that whatever you do on it once you’re logged in while get erased after rebooting. A\npersistent live USB, I’m sure you’ve guessed it, keeps your changes even after rebooting, which\nmeans that you basically end up with a portable development environment. Note however that only\nUbuntu (and variants) or Debian can be used to create persistent live USBs.</p>\n<p>You can create persistent live USB from another Linux distro, Windows or macOS.</p>\n<p>If you’re already running Ubuntu on your pc, you might want to take a look at <a href=\"https://help.ubuntu.com/community/mkusb#Persistent_live_systems\" rel=\"nofollow\" target=\"_blank\">this\npage</a>. You’ll need to install a\ntool called <code>mkusb</code>. If you’re not running Ubuntu, but find this tool in your distribution’s\npackage manager, I guess you’re good to go as well. In my case, I’m running opensuse tumbleweed,\nand could not find this program in the opensuse’s repositories. So I’ve used this\n<a href=\"https://help.ubuntu.com/community/mkusb/minp\" rel=\"nofollow\" target=\"_blank\">guide</a> that shows how to achieve the same thing\nusing a very simple to use shell script which you can get\n<a href=\"https://help.ubuntu.com/community/mkusb/minp?action=AttachFile&#038;do=view&#038; rel=\" target=\"_blank\">here</a>\ncalled <code>mkusb-minp</code>. So in my case, I simply\nhad to stick the USB stick in my computer, find out where it was mounted by running <code>df</code> in bash\n(in my case it was in <code>/dev/sdd</code>), download Kubuntu’s iso image and run the following in my\nterminal:</p>\n<pre>sudo ./mkusb-minp -p kubuntu-22.04.1-desktop-amd64.iso /dev/sdX</pre>\n<p>(<code>/dev/sdX</code>: replace the X by the right letter, for me it was <code>/dev/sdd</code>)</p>\n<p>If you’re using Windows, you can install <a href=\"https://rufus.ie/en/#\" rel=\"nofollow\" target=\"_blank\">Rufus</a> to create\na persistent live USB.</p>\n<p>It would seem that for macOS the process is a bit more involved, but I’ve found this\n<a href=\"https://sebay.github.io/posts/create-live-persistent-ubuntu-usb-on-mac/\" rel=\"nofollow\" target=\"_blank\">blog post</a>\nthat explains the process.</p>\n<p>Once the process is finished, you can boot into your live USB key. For this, you might\nneed to press <code>delete</code> or <code>F2</code> when your computer starts booting to access the\n<a href=\"https://www.computerhope.com/jargon/b/boot_menu.htm\" rel=\"nofollow\" target=\"_blank\">boot menu</a>.\nYou can then choose to boot from your USB device.</p>\n<p>Wait a bit and at some point you should see a prompt asking you if you want to\ntry or install Ubuntu. Choose <code>Try Ubuntu</code>:</p>\n<div style=\"text-align:center;\">\n<p><img src=\"https://i2.wp.com/www.brodrigues.co/img/try_ubuntu.png?w=578&#038;ssl=1\" data-recalc-dims=\"1\"></p>\n</div>\n<p>And then wait some minutes. Yes booting takes some time because you’re loading an entire\noperating system from a USB stick (hence why it’s a good idea to go with a USB 3 stick).\nAfter some time you should see a new window:</p>\n<div style=\"text-align:center;\">\n<p><img src=\"https://i1.wp.com/www.brodrigues.co/img/try_ubuntu2.png?w=578&#038;ssl=1\" data-recalc-dims=\"1\"></p>\n</div>\n<p>Once again, try Ubuntu, wait a bit, and that’s it you’re inside your dev environment!</p>\n</div>\n<div id=\"setting-up-r-and-rstudio\" class=\"section level2\">\n<h2>Setting up R and RStudio</h2>\n<p>Now that you’re inside your dev environment, you actually need to start adding some\ntools. Let’s start by adding R. The easiest way that I found is to use the\n<a href=\"https://eddelbuettel.github.io/r2u/\" rel=\"nofollow\" target=\"_blank\">r2u project</a> by\n<a href=\"https://github.com/eddelbuettel\" rel=\"nofollow\" target=\"_blank\">Dirk Eddelbuettel</a>. If you’re on Ubuntu 22.04,\nrun <a href=\"https://github.com/eddelbuettel/r2u/blob/master/inst/scripts/add_cranapt_jammy.sh\" rel=\"nofollow\" target=\"_blank\">this script</a>,\nas explained in the tutorial. This will add the required repositories that will install\nbinary versions of R packages in mere seconds. The script will also\nadd a repository to install the most recent version of R, so once the script is done running,\ninstall R and the <code>{tidyverse}</code> (or any other package) with the following command:</p>\n<pre>sudo apt install --no-install-recommends r-base r-cran-tidyverse</pre>\n<p>You can then install other packages from R using <code>install.packages(\"package_name\")</code> as usual,\nand this will also make use of the <code>r2u</code> repositories.</p>\n<p>All that’s missing now is RStudio (if you use RStudio). Surprisingly, when I set up my live USB\ntwo weeks ago, the current version of RStudio for Ubuntu would not install. This is apparently\nfixed with the daily versions which you can get <a href=\"https://dailies.rstudio.com/\" rel=\"nofollow\" target=\"_blank\">here</a>. But\nbefore that, do try to install the stable version. If you’re reading this sometime in the future,\nmaybe the issue I encountered has been fixed. Download RStudio from\n<a href=\"https://www.rstudio.com/products/rstudio/download/#download\" rel=\"nofollow\" target=\"_blank\">here</a>, and then double click on the\ndownloaded <code>.deb</code> package. If you see this message:</p>\n<pre>The following packages have unmet dependencies:\n rstudio : Depends: libssl1.0.0 but it is not installable or\n                    libssl1.0.2 but it is not installable or\n                    libssl1.1 but it is not installable\n           Recommends: r-base (>= 3.0.1) but it is not going to be installed\nE: Unable to correct problems, you have held broken packages.</pre>\n<p>then this means that the problem has not been fixed. In that case, run the following line to\nrepair everything:</p>\n<pre>sudo apt-get update --fix-missing</pre>\n<p>This should put you back into a clean state. So to continue, install a daily build from the link above.\nSimply click on the Ubuntu 22 button to download the daily. Unfortunately daily builds can be unstable\nand are usually used for testing purposes. So hopefully Posit will fix this soon.</p>\n<p>Of course, if you’re using the\n<a href=\"https://www.brodrigues.co/blog/2019-05-19-spacemacs/\" rel=\"nofollow\" target=\"_blank\">greatest IDE ever made</a> instead of RStudio,\nyou won’t have this issue.</p>\n<p>You can now keep installing things, for example <a href=\"https://quarto.org/docs/get-started/\" rel=\"nofollow\" target=\"_blank\">Quarto</a>, or\nPython, or, or, or… there are no limits, and performance, as you would have noticed is great, because\nthe operating system has access to all the resources from your machine. A persistent live USB is a\ngreat solution if you need a portable dev environment and don’t want/can’t use Docker for example.</p>\n<p>\nHope you enjoyed! If you found this blog post useful, you might want to follow\nme on <a href=\"https://fosstodon.org/@brodriguesco\" rel=\"nofollow\" target=\"_blank\">Mastodon</a> or <a href=\"https://www.twitter.com/brodriguesco\" rel=\"nofollow\" target=\"_blank\">twitter</a> for blog post updates and\n<a href=\"https://www.buymeacoffee.com/brodriguesco\" rel=\"nofollow\" target=\"_blank\">buy me an espresso</a> or <a href=\"https://www.paypal.me/brodriguesco\" rel=\"nofollow\" target=\"_blank\">paypal.me</a>, or buy my ebook on <a href=\"https://leanpub.com/modern_tidyverse\" rel=\"nofollow\" target=\"_blank\">Leanpub</a>.\nYou can also watch my videos on <a href=\"https://www.youtube.com/c/BrunoRodrigues1988/\" rel=\"nofollow\" target=\"_blank\">youtube</a>.\nSo much content for you to consoom!\n</p>\n<style>.bmc-button img{width: 27px !important;margin-bottom: 1px !important;box-shadow: none !important;border: none !important;vertical-align: middle !important;}.bmc-button{line-height: 36px !important;height:37px !important;text-decoration: none !important;display:inline-flex !important;color:#ffffff !important;background-color:#272b30 !important;border-radius: 3px !important;border: 1px solid transparent !important;padding: 1px 9px !important;font-size: 22px !important;letter-spacing:0.6px !important;box-shadow: 0px 1px 2px rgba(190, 190, 190, 0.5) !important;-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;margin: 0 auto !important;font-family:'Cookie', cursive !important;-webkit-box-sizing: border-box !important;box-sizing: border-box !important;-o-transition: 0.3s all linear !important;-webkit-transition: 0.3s all linear !important;-moz-transition: 0.3s all linear !important;-ms-transition: 0.3s all linear !important;transition: 0.3s all linear !important;}.bmc-button:hover, .bmc-button:active, .bmc-button:focus {-webkit-box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;text-decoration: none !important;box-shadow: 0px 1px 2px 2px rgba(190, 190, 190, 0.5) !important;opacity: 0.85 !important;color:#82518c !important;}</style>\n<p>\n<link href=\"https://fonts.googleapis.com/css?family=Cookie\" rel=\"stylesheet\"><a class=\"bmc-button\" href=\"https://www.buymeacoffee.com/brodriguesco\" rel=\"nofollow\" target=\"_blank\"><img src=\"https://www.buymeacoffee.com/assets/img/BMC-btn-logo.svg\" alt=\"Buy me an Espresso\"><span style=\"margin-left:5px\">Buy me an Espresso</span></a>\n</p>\n</div>\n</div>\n\n<div style=\"border: 1px solid; background: none repeat scroll 0 0 #EDEDED; margin: 1px; font-size: 13px;\">\n<div style=\"text-align: center;\">To <strong>leave a comment</strong> for the author, please follow the link and comment on their blog: <strong><a href=\"https://www.brodrigues.co/blog/2022-10-29-mkusb_minp/\"> Econometrics and Free Software</a></strong>.</div>\n<hr />\n<a href=\"https://www.r-bloggers.com/\" rel=\"nofollow\">R-bloggers.com</a> offers <strong><a href=\"https://feedburner.google.com/fb/a/mailverify?uri=RBloggers\" rel=\"nofollow\">daily e-mail updates</a></strong> about <a title=\"The R Project for Statistical Computing\" href=\"https://www.r-project.org/\" rel=\"nofollow\">R</a> news and tutorials about <a title=\"R tutorials\" href=\"https://www.r-bloggers.com/how-to-learn-r-2/\" rel=\"nofollow\">learning R</a> and many other topics. <a title=\"Data science jobs\" href=\"https://www.r-users.com/\" rel=\"nofollow\">Click here if you're looking to post or find an R/data-science job</a>.\n\n<hr>Want to share your content on R-bloggers?<a href=\"https://www.r-bloggers.com/add-your-blog/\" rel=\"nofollow\"> click here</a> if you have a blog, or <a href=\"http://r-posts.com/\" rel=\"nofollow\"> here</a> if you don't.\n</div><strong>Continue reading</strong>: <a href=\"https://www.r-bloggers.com/2022/10/a-linux-live-usb-as-a-statistical-programming-dev-environment/\">A Linux Live USB as a statistical programming dev environment</a>",
  "enclosure": "",
  "post-id": 334015
}