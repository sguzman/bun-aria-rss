{
  "title": "Installing Python Packages from a Jupyter Notebook",
  "link": "",
  "published": "2017-12-05T09:00:00-08:00",
  "updated": "2017-12-05T09:00:00-08:00",
  "author": {
    "name": "Jake VanderPlas"
  },
  "id": "tag:jakevdp.github.io,2017-12-05:blog/2017/12/05/installing-python-packages-from-jupyter/",
  "summary": "<p>In software, it's said that <a href=\"https://www.joelonsoftware.com/2002/11/11/the-law-of-leaky-abstractions/\">all abstractions are leaky</a>, and this is true for the Jupyter notebook as it is for any other software.\nI most often see this manifest itself with the following issue:</p>\n<blockquote><p>I installed <em>package X</em> and now I can't import it in the notebook. Help!</p>\n</blockquote>\n<p>This issue is a perrennial source of StackOverflow questions (e.g. <a href=\"https://stackoverflow.com/questions/39007571/running-jupyter-with-multiple-python-and-ipython-paths/\">this</a>, <a href=\"https://stackoverflow.com/questions/42500142/importerror-no-module-named-jwt-in-jupyter\">that</a>, <a href=\"https://stackoverflow.com/questions/32777807/importerror-no-module-named-cv2-using-jupyter\">here</a>, <a href=\"https://stackoverflow.com/questions/42500649/failed-to-import-numpy-as-np-when-i-worked-with-jupyter-notebook\">there</a>, <a href=\"https://stackoverflow.com/questions/46634660/jupyter-notebook-wrong-sys-path-and-sys-executable\">another</a>, <a href=\"https://stackoverflow.com/questions/44222513/cannot-import-datashader-installed-using-miniconda\">this one</a>, <a href=\"https://stackoverflow.com/questions/42178070/jupyter-notebook-importerror-no-module-named-sklearn\">that one</a>, <a href=\"https://stackoverflow.com/questions/42034508/fail-pandas-in-python3-jupyter-notebook\">and this</a>... etc.).</p>\n<p>Fundamentally the problem is usually rooted in the fact that the <strong>Jupyter kernels are disconnected from Jupyter's shell</strong>; in other words, the installer points to a different Python version than is being used in the notebook.\nIn the simplest contexts this issue does not arise, but when it does, debugging the problem requires knowledge of the intricacies of the operating system, the intricacies of Python package installation, and the intricacies of Jupyter itself.\nIn other words, the Jupyter notebook, like all abstractions, is leaky.</p>\n<p>In the wake of several discussions on this topic with colleagues, some online (<a href=\"https://twitter.com/amuellerml/status/932637063748444160\">exhibit A</a>, <a href=\"https://twitter.com/jakevdp/status/922846245848150016\">exhibit B</a>) and some off, I decided to treat this issue in depth here.\nThis post will address a couple things:</p>\n<ul>\n<li><p><strong>First</strong>, I'll provide a quick, bare-bones answer to the general question, <em>how can I install a Python package so it works with my jupyter notebook, using pip and/or conda?</em>.</p>\n</li>\n<li><p><strong>Second</strong>, I'll dive into some of the background of exactly <em>what</em> the Jupyter notebook abstraction is doing, how it interacts with the complexities of the operating system, and how you can think about where the \"leaks\" are, and thus better understand what's happening when things stop working.</p>\n</li>\n<li><p><strong>Third</strong>, I'll talk about some ideas the community might consider to help smooth-over these issues, including some changes that the Jupyter, Pip, and Conda developers might consider to ease the cognitive load on users.</p>\n</li>\n</ul>\n<p>This post will focus on two approaches to installing Python packages: <a href=\"https://pip.pypa.io/en/stable/\">pip</a> and <a href=\"https://conda.io/docs/\">conda</a>.\nOther package managers exist (including platform-specific tools like <a href=\"http://yum.baseurl.org/\">yum</a>, <a href=\"https://help.ubuntu.com/community/AptGet/Howto#Package_management_with_APT\">apt</a>, <a href=\"https://brew.sh/\">homebrew</a>, etc., as well as cross-platform tools like <a href=\"http://enstaller.readthedocs.io/en/latest/\">enstaller</a>), but I'm less familiar with them and won't be remarking on them further.</p>",
  "category": [
    "",
    "",
    ""
  ]
}