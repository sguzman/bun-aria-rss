{
  "title": "Visualizing the 2015 NL Cy Young Race",
  "link": "",
  "published": "2015-11-19T00:00:00-08:00",
  "updated": "2022-11-03T04:16:07-07:00",
  "author": {
    "name": "Greg Reda"
  },
  "id": "tag:www.gregreda.com,2015-11-19:/2015/11/19/nl-cyyoung-viz-2015/",
  "summary": "<p>This year's National League Cy Young race was pretty much a toss-up, with each of\n<a href=\"http://www.baseball-reference.com/players/a/arrieja01.shtml\">Jake Arrieta</a>, <a href=\"http://www.baseball-reference.com/players/g/greinza01.shtml\">Zack Greinke</a>, and <a href=\"http://www.baseball-reference.com/players/k/kershcl01.shtml\">Clayton Kershaw</a> putting up numbers\nwe haven't seen in a decade or more.</p>\n<p>By now we know that Arrieta wins the award, but being the Cubs homer I am, I â€¦</p>",
  "content": "<p>This year's National League Cy Young race was pretty much a toss-up, with each of\n<a href=\"http://www.baseball-reference.com/players/a/arrieja01.shtml\">Jake Arrieta</a>, <a href=\"http://www.baseball-reference.com/players/g/greinza01.shtml\">Zack Greinke</a>, and <a href=\"http://www.baseball-reference.com/players/k/kershcl01.shtml\">Clayton Kershaw</a> putting up numbers\nwe haven't seen in a decade or more.</p>\n<p>By now we know that Arrieta wins the award, but being the Cubs homer I am, I\nstarted digging into the data a few weeks ago in attempt to show that Arrieta\n<em>should</em> win the award. However, as is often the case when walking into an\nanalysis with preconcieved notions of its findings, I was left unable to make my\ncase with a straight face.</p>\n<p>Unable to confidently make the case that <em>any</em> of the contenders were more\ndeserving of the award than their peers, I decided to turn my work into an article highlighting the historic years each of them had. Unfortunately, the article\nnever wound up published, but you can still read it <a href=\"https://github.com/gjreda/cy-young-NL-2015/blob/master/README.md\">here</a>,\nthough it's obviously outdated now.</p>\n<p>Since I tend to use this site more for technical posts, it seemed like a good\nidea to walk through a couple pieces of my work -- if you're interested in\neverything, <a href=\"https://github.com/gjreda/cy-young-NL-2015\">I've pushed it up to GitHub</a>.</p>\n<h2>Preprocessing</h2>\n<p>In order to show the stats I cared about and their progression throughout each\npitcher's season, I needed to do some preprocessing of the data. Specifically,\nI needed to calculate a variety of statistics that are not included in the\ngame logs from <a href=\"http://www.baseball-reference.com\">Baseball Reference</a>.</p>\n<p>After loading the dataset and transforming the innings pitched (IP) field to a\nnumeric value, you'll see a fairly large section of code\n<a href=\"https://github.com/gjreda/cy-young-NL-2015/blob/master/cy-young.ipynb\">in the notebook</a>\nthat looks like this:</p>\n<div class=\"highlight\"><pre><span></span><code><span class=\"c1\"># Partial innings are stored as 7.1 or 7.2 in the Baseball Reference data.</span>\n<span class=\"c1\"># Convert it to properly represent 1/3 or 2/3 of an inning</span>\n<span class=\"c1\"># (necessary for various rate calculations).</span>\n<span class=\"k\">def</span> <span class=\"nf\">to_innings</span><span class=\"p\">(</span><span class=\"n\">IP</span><span class=\"p\">):</span>\n    <span class=\"n\">full</span><span class=\"p\">,</span> <span class=\"n\">partial</span> <span class=\"o\">=</span> <span class=\"nb\">map</span><span class=\"p\">(</span><span class=\"nb\">float</span><span class=\"p\">,</span> <span class=\"nb\">str</span><span class=\"p\">(</span><span class=\"n\">IP</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">split</span><span class=\"p\">(</span><span class=\"s1\">&#39;.&#39;</span><span class=\"p\">))</span>\n    <span class=\"k\">return</span> <span class=\"n\">full</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">partial</span> <span class=\"o\">/</span> <span class=\"mf\">3.</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># example: 7.1 --&gt; 7.3333</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;IP&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">IP</span><span class=\"o\">.</span><span class=\"n\">apply</span><span class=\"p\">(</span><span class=\"n\">to_innings</span><span class=\"p\">)</span>\n\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingIP&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">IP</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;IPGame&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">rollingIP</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">Rk</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingER&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">ER</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingERA&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingER&#39;</span><span class=\"p\">]</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingIP&#39;</span><span class=\"p\">]</span> <span class=\"o\">/</span> <span class=\"mf\">9.</span><span class=\"p\">)</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;strikeoutsPerIP&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SO</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingIP&#39;</span><span class=\"p\">]</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;K/9&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SO</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingIP&#39;</span><span class=\"p\">]</span> <span class=\"o\">/</span> <span class=\"mf\">9.</span><span class=\"p\">)</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;strikeoutsPerBF&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SO</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;hitsPerIP&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">H</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingIP&#39;</span><span class=\"p\">]</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;hitsPerAB&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">H</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">AB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingWHIP&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">H</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;rollingIP&#39;</span><span class=\"p\">]</span>\n<span class=\"c1\"># opponents against</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;1B&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">H</span> <span class=\"o\">-</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;2B&#39;</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;3B&#39;</span><span class=\"p\">]</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;HR&#39;</span><span class=\"p\">])</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;AVG&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">H</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">AB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;OBP&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">H</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">HBP</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span> \\\n                    <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">AB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span>\n                        <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">HBP</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;SLG&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;1B&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;2B&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"mi\">2</span><span class=\"p\">)</span> <span class=\"o\">+</span>\n                 <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;3B&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"mi\">3</span><span class=\"p\">)</span> <span class=\"o\">+</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;HR&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">*</span> <span class=\"mi\">4</span><span class=\"p\">))</span> \\\n                            <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">AB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;OPS&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">OBP</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SLG</span>\n\n<span class=\"c1\"># rates</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;BABIP&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">H</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">HR</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span> \\\n                        <span class=\"o\">/</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">AB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SO</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">-</span>\n                            <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">HR</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;HR%&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">HR</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;XBH%&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;2B&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;3B&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span>\n                    <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;HR&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;K%&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;SO&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;IP%&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">AB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SO</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">-</span>\n                    <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">HR</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span> \\\n                        <span class=\"o\">/</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">BF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span>\n<span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;GB%&#39;</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">arrieta</span><span class=\"p\">[</span><span class=\"s1\">&#39;GB&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">/</span>\n                    <span class=\"p\">(</span><span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">AB</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">-</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SO</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">-</span>\n                        <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">HR</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">()</span> <span class=\"o\">+</span> <span class=\"n\">arrieta</span><span class=\"o\">.</span><span class=\"n\">SF</span><span class=\"o\">.</span><span class=\"n\">cumsum</span><span class=\"p\">())</span>\n</code></pre></div>\n\n<p>Here we're adding new, cumulative statistics to each pitcher's DataFrame (e.g.\nwe can easily say what Arrieta's ERA was after his fourth start, or what his\nbatting average on balls in-play (BABIP) was in the second half of the season).</p>\n<h2>Visualizing their seasons</h2>\n<p>Now that we have various statistics on a rolling basis, we need a way to\ncompare their performances throughout the season. Thankfully, this is a perfect\nuse case for <a href=\"https://en.wikipedia.org/wiki/Small_multiple\">small multiples</a>,\nwhich is a technique meant specifically for comparison.</p>\n<p>To do so, we can create a dictionary where each pitcher is a key, and the value\nis another dictionary containing that pitcher's DataFrame, as well as a color\nand line style which we'll use in our plot. Then, we'll create a grid of empty\nsubplots, which will be populated by looping through our <code>PITCHERS</code> dictionary.</p>\n<div class=\"highlight\"><pre><span></span><code><span class=\"kn\">from</span> <span class=\"nn\">collections</span> <span class=\"kn\">import</span> <span class=\"n\">OrderedDict</span>\n\n<span class=\"n\">PITCHERS</span> <span class=\"o\">=</span> <span class=\"p\">{</span><span class=\"s1\">&#39;Arrieta&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">&#39;df&#39;</span><span class=\"p\">:</span> <span class=\"n\">arrieta</span><span class=\"p\">,</span> <span class=\"s1\">&#39;color&#39;</span><span class=\"p\">:</span> <span class=\"n\">ja</span><span class=\"p\">,</span> <span class=\"s1\">&#39;style&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;-&#39;</span><span class=\"p\">},</span>\n            <span class=\"s1\">&#39;Greinke&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">&#39;df&#39;</span><span class=\"p\">:</span> <span class=\"n\">greinke</span><span class=\"p\">,</span> <span class=\"s1\">&#39;color&#39;</span><span class=\"p\">:</span> <span class=\"n\">zg</span><span class=\"p\">,</span> <span class=\"s1\">&#39;style&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;-&#39;</span><span class=\"p\">},</span>\n            <span class=\"s1\">&#39;Kershaw&#39;</span><span class=\"p\">:</span> <span class=\"p\">{</span><span class=\"s1\">&#39;df&#39;</span><span class=\"p\">:</span> <span class=\"n\">kershaw</span><span class=\"p\">,</span> <span class=\"s1\">&#39;color&#39;</span><span class=\"p\">:</span> <span class=\"n\">kc</span><span class=\"p\">,</span> <span class=\"s1\">&#39;style&#39;</span><span class=\"p\">:</span> <span class=\"s1\">&#39;--&#39;</span><span class=\"p\">}}</span>\n<span class=\"n\">PITCHERS</span> <span class=\"o\">=</span> <span class=\"n\">OrderedDict</span><span class=\"p\">(</span><span class=\"nb\">sorted</span><span class=\"p\">(</span><span class=\"n\">PITCHERS</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()))</span>\n<span class=\"n\">stats</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">&#39;IP%&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;BABIP&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;XBH%&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;HR%&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;K%&#39;</span><span class=\"p\">]</span>\n\n<span class=\"n\">row_titles</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">&#39;</span><span class=\"si\">{}</span><span class=\"s1\">&#39;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">row_title</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">row_title</span> <span class=\"ow\">in</span> <span class=\"n\">PITCHERS</span><span class=\"o\">.</span><span class=\"n\">keys</span><span class=\"p\">()]</span>\n<span class=\"n\">col_titles</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"s1\">&#39;</span><span class=\"si\">{}</span><span class=\"s1\">&#39;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">col_title</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">col_title</span> <span class=\"ow\">in</span> <span class=\"n\">stats</span><span class=\"p\">]</span>\n\n<span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">axes</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">15</span><span class=\"p\">,</span><span class=\"mi\">6</span><span class=\"p\">),</span> <span class=\"n\">nrows</span><span class=\"o\">=</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">PITCHERS</span><span class=\"p\">),</span>\n                            <span class=\"n\">ncols</span><span class=\"o\">=</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">stats</span><span class=\"p\">),</span> <span class=\"n\">sharex</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">)</span>\n<span class=\"n\">fig</span><span class=\"o\">.</span><span class=\"n\">tight_layout</span><span class=\"p\">(</span><span class=\"n\">pad</span><span class=\"o\">=</span><span class=\"mf\">1.2</span><span class=\"p\">,</span> <span class=\"n\">h_pad</span><span class=\"o\">=</span><span class=\"mf\">1.5</span><span class=\"p\">)</span> <span class=\"c1\"># adjust layout spacing</span>\n\n<span class=\"c1\"># label each column with stat name</span>\n<span class=\"k\">for</span> <span class=\"n\">ax</span><span class=\"p\">,</span> <span class=\"n\">col_title</span> <span class=\"ow\">in</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">col_titles</span><span class=\"p\">):</span>\n    <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">set_title</span><span class=\"p\">(</span><span class=\"n\">col_title</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">15</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># label each row with player name</span>\n<span class=\"k\">for</span> <span class=\"n\">ax</span><span class=\"p\">,</span> <span class=\"n\">row_title</span> <span class=\"ow\">in</span> <span class=\"nb\">zip</span><span class=\"p\">(</span><span class=\"n\">axes</span><span class=\"p\">[:,</span><span class=\"mi\">0</span><span class=\"p\">],</span> <span class=\"n\">row_titles</span><span class=\"p\">):</span>\n    <span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">set_ylabel</span><span class=\"p\">(</span><span class=\"n\">row_title</span><span class=\"p\">,</span> <span class=\"n\">rotation</span><span class=\"o\">=</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"mi\">15</span><span class=\"p\">,</span> <span class=\"n\">labelpad</span><span class=\"o\">=</span><span class=\"mi\">40</span><span class=\"p\">)</span>\n\n<span class=\"c1\"># create grid - one chart for each pitcher + stat combination</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span><span class=\"p\">,</span> <span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">pitcher</span><span class=\"p\">)</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">PITCHERS</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()):</span>\n    <span class=\"k\">for</span> <span class=\"n\">j</span><span class=\"p\">,</span> <span class=\"n\">stat</span> <span class=\"ow\">in</span> <span class=\"nb\">enumerate</span><span class=\"p\">(</span><span class=\"n\">stats</span><span class=\"p\">):</span>\n        <span class=\"n\">title</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;</span><span class=\"si\">{}</span><span class=\"s1\">: </span><span class=\"si\">{}</span><span class=\"s1\">&#39;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">name</span><span class=\"p\">,</span> <span class=\"n\">stat</span><span class=\"p\">)</span>\n        <span class=\"n\">pitcher</span><span class=\"p\">[</span><span class=\"s1\">&#39;df&#39;</span><span class=\"p\">][</span><span class=\"n\">stat</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"n\">j</span><span class=\"p\">],</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">pitcher</span><span class=\"p\">[</span><span class=\"s1\">&#39;color&#39;</span><span class=\"p\">],</span>\n                                    <span class=\"n\">linestyle</span><span class=\"o\">=</span><span class=\"n\">pitcher</span><span class=\"p\">[</span><span class=\"s1\">&#39;style&#39;</span><span class=\"p\">])</span>\n\n        <span class=\"c1\"># for ease of comparison, let&#39;s plot the other pitchers on the same chart</span>\n        <span class=\"c1\"># but let&#39;s make them a light grey with the appropriate linestyle</span>\n        <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">PITCHERS</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">():</span>\n            <span class=\"k\">if</span> <span class=\"n\">k</span> <span class=\"o\">!=</span> <span class=\"n\">name</span><span class=\"p\">:</span>\n                <span class=\"n\">v</span><span class=\"p\">[</span><span class=\"s1\">&#39;df&#39;</span><span class=\"p\">][</span><span class=\"n\">stat</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">plot</span><span class=\"p\">(</span><span class=\"n\">ax</span><span class=\"o\">=</span><span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"n\">j</span><span class=\"p\">],</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">&#39;grey&#39;</span><span class=\"p\">,</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">0.4</span><span class=\"p\">,</span>\n                                    <span class=\"n\">linestyle</span><span class=\"o\">=</span><span class=\"n\">v</span><span class=\"p\">[</span><span class=\"s1\">&#39;style&#39;</span><span class=\"p\">])</span>\n\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"n\">j</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">tick_params</span><span class=\"p\">(</span><span class=\"n\">axis</span><span class=\"o\">=</span><span class=\"s1\">&#39;both&#39;</span><span class=\"p\">,</span> <span class=\"n\">which</span><span class=\"o\">=</span><span class=\"s1\">&#39;major&#39;</span><span class=\"p\">,</span> <span class=\"n\">labelsize</span><span class=\"o\">=</span><span class=\"mi\">13</span><span class=\"p\">)</span>\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"n\">j</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">axvline</span><span class=\"p\">(</span><span class=\"n\">allstarbreak</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"s1\">&#39;k&#39;</span><span class=\"p\">,</span> <span class=\"n\">linestyle</span><span class=\"o\">=</span><span class=\"s1\">&#39;:&#39;</span><span class=\"p\">,</span> <span class=\"n\">linewidth</span><span class=\"o\">=</span><span class=\"mi\">1</span><span class=\"p\">)</span>\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"n\">j</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">yaxis</span><span class=\"o\">.</span><span class=\"n\">set_major_locator</span><span class=\"p\">(</span><span class=\"n\">MaxNLocator</span><span class=\"p\">(</span><span class=\"n\">nbins</span><span class=\"o\">=</span><span class=\"mi\">4</span><span class=\"p\">))</span>\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">1.</span><span class=\"p\">)</span> <span class=\"c1\"># IP%</span>\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"mi\">1</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">.500</span><span class=\"p\">)</span> <span class=\"c1\"># BABIP</span>\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"mi\">2</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">.16</span><span class=\"p\">)</span> <span class=\"c1\"># XBH%</span>\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"mi\">3</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">.04</span><span class=\"p\">)</span> <span class=\"c1\"># HR%</span>\n        <span class=\"n\">axes</span><span class=\"p\">[</span><span class=\"n\">i</span><span class=\"p\">,</span><span class=\"mi\">4</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_ylim</span><span class=\"p\">(</span><span class=\"mi\">0</span><span class=\"p\">,</span> <span class=\"mf\">.36</span><span class=\"p\">)</span> <span class=\"c1\"># K%</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">savefig</span><span class=\"p\">(</span><span class=\"s1\">&#39;images/rates-comparison.png&#39;</span><span class=\"p\">,</span> <span class=\"n\">bbox_inches</span><span class=\"o\">=</span><span class=\"s1\">&#39;tight&#39;</span><span class=\"p\">,</span> <span class=\"n\">dpi</span><span class=\"o\">=</span><span class=\"mi\">120</span><span class=\"p\">)</span>\n</code></pre></div>\n\n<p>The resulting output is a 3 x 5 grid of charts, where each row corresponds to a\npitcher, and each column is a statistic.</p>\n<p><img alt=\"2015 NL Cy Young Race\" src=\"https://raw.githubusercontent.com/gjreda/cy-young-NL-2015/master/images/rates-comparison.png\"></p>\n<p>Again, this technique is meant for comparing different dimensions (people,\ncities, departments, etc.) against one another.</p>\n<p>For instance, looking down the\nleft-most column, we can see that batters put the ball in play (IP%) about\nequally against Arrieta and Greinke, but less so against Kershaw. Looking down\nthe far right column, we can see that Kershaw was put in play less often\ndue to his stronger ability to strike hitters out (K%).</p>\n<h2>Comparing batted ball exit velocity</h2>\n<p>With <a href=\"https://en.wikipedia.org/wiki/PITCHf/x\">PITCHf/x</a> installed in every MLB\npark, we can also look at data around each pitch made throughout\nthe season. <a href=\"baseballsavant.com\">Baseball Savant</a> is a great source of this data.</p>\n<p>Since it still wasn't clear who should win the award after looking at a variety\nof stats, it seemed interesting to answer the most basic question: Which pitcher\nwas hit harder? We know <a href=\"http://fivethirtyeight.com/features/chase-utley-is-the-unluckiest-man-in-baseball/\">there's a significant relationship</a>\nbetween a batted ball's exit velocity and its likelihood to wind up a hit, so\nthis should give us some indication of who was the more difficult pitcher to\nface.</p>\n<p><img alt=\"Exit Velocity Distribution By Pitcher\" src=\"/images/bb-velocity-distributions.png\"></p>\n<p>Looking at the observed distributions of their batted ball exit velocity doesn't\ntell us much\n-- Arrieta's mean exit velocity was 85.0 MPH, Greinke's 88.4, and Kershaw's 84.9.\nThose numbers are pretty close -- so close that we shouldn't assume they're\nstatistically significant, so let's test that using the\n<a href=\"https://en.wikipedia.org/wiki/Bootstrapping_(statistics)\">bootstrap</a>.</p>\n<p>With bootstrapping, we generate N random samples of our dataset (typically\n1,000 or 10,000). Since we're interested in speaking about the \"average\" batted\nball exit velocity, we take the mean of each random sample, resulting in an\napproximation of the mean's true distribution. From there, we can look at the\n95% confidence intervals to test for significance.</p>\n<div class=\"highlight\"><pre><span></span><code><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">seed</span><span class=\"p\">(</span><span class=\"mi\">49</span><span class=\"p\">)</span> <span class=\"c1\"># set random seed for consistency</span>\n\n<span class=\"c1\"># only sample from pitches that were hit</span>\n<span class=\"n\">arrietaBBs</span> <span class=\"o\">=</span> <span class=\"n\">arrietaPitches</span><span class=\"p\">[</span><span class=\"n\">arrietaPitches</span><span class=\"o\">.</span><span class=\"n\">batted_ball_velocity</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">batted_ball_velocity</span>\n<span class=\"n\">greinkeBBs</span> <span class=\"o\">=</span> <span class=\"n\">greinkePitches</span><span class=\"p\">[</span><span class=\"n\">greinkePitches</span><span class=\"o\">.</span><span class=\"n\">batted_ball_velocity</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">batted_ball_velocity</span>\n<span class=\"n\">kershawBBs</span> <span class=\"o\">=</span> <span class=\"n\">kershawPitches</span><span class=\"p\">[</span><span class=\"n\">kershawPitches</span><span class=\"o\">.</span><span class=\"n\">batted_ball_velocity</span> <span class=\"o\">&gt;</span> <span class=\"mi\">0</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">batted_ball_velocity</span>\n<span class=\"n\">arrietaSamples</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"n\">greinkeSamples</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n<span class=\"n\">kershawSamples</span> <span class=\"o\">=</span> <span class=\"p\">[]</span>\n\n<span class=\"c1\"># generate 1000 randomly sampled datasets for each pitcher</span>\n<span class=\"c1\"># each sampled dataset is the same length as our observed dataset</span>\n<span class=\"k\">for</span> <span class=\"n\">i</span> <span class=\"ow\">in</span> <span class=\"nb\">range</span><span class=\"p\">(</span><span class=\"mi\">1000</span><span class=\"p\">):</span>\n    <span class=\"n\">arrietaSamples</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">choice</span><span class=\"p\">(</span><span class=\"n\">arrietaBBs</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">arrietaBBs</span><span class=\"p\">),</span> <span class=\"n\">replace</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n    <span class=\"n\">greinkeSamples</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">choice</span><span class=\"p\">(</span><span class=\"n\">greinkeBBs</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">greinkeBBs</span><span class=\"p\">),</span> <span class=\"n\">replace</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n    <span class=\"n\">kershawSamples</span><span class=\"o\">.</span><span class=\"n\">append</span><span class=\"p\">(</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">random</span><span class=\"o\">.</span><span class=\"n\">choice</span><span class=\"p\">(</span><span class=\"n\">kershawBBs</span><span class=\"p\">,</span> <span class=\"n\">size</span><span class=\"o\">=</span><span class=\"nb\">len</span><span class=\"p\">(</span><span class=\"n\">kershawBBs</span><span class=\"p\">),</span> <span class=\"n\">replace</span><span class=\"o\">=</span><span class=\"kc\">True</span><span class=\"p\">))</span>\n\n<span class=\"c1\"># get the mean of each randomly sampled dataset</span>\n<span class=\"n\">arrietaMeans</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">obs</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">obs</span> <span class=\"ow\">in</span> <span class=\"n\">arrietaSamples</span><span class=\"p\">]</span>\n<span class=\"n\">greinkeMeans</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">obs</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">obs</span> <span class=\"ow\">in</span> <span class=\"n\">greinkeSamples</span><span class=\"p\">]</span>\n<span class=\"n\">kershawMeans</span> <span class=\"o\">=</span> <span class=\"p\">[</span><span class=\"n\">np</span><span class=\"o\">.</span><span class=\"n\">mean</span><span class=\"p\">(</span><span class=\"n\">obs</span><span class=\"p\">)</span> <span class=\"k\">for</span> <span class=\"n\">obs</span> <span class=\"ow\">in</span> <span class=\"n\">kershawSamples</span><span class=\"p\">]</span>\n\n<span class=\"c1\"># plot the distributions</span>\n<span class=\"n\">fig</span><span class=\"p\">,</span> <span class=\"n\">ax</span> <span class=\"o\">=</span> <span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">subplots</span><span class=\"p\">(</span><span class=\"n\">figsize</span><span class=\"o\">=</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">,</span> <span class=\"mi\">4</span><span class=\"p\">))</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">hist</span><span class=\"p\">(</span><span class=\"n\">arrietaMeans</span><span class=\"p\">,</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">.5</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"s1\">&#39;Arrieta&#39;</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">ja</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">hist</span><span class=\"p\">(</span><span class=\"n\">greinkeMeans</span><span class=\"p\">,</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">.6</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"s1\">&#39;Greinke&#39;</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">zg</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">hist</span><span class=\"p\">(</span><span class=\"n\">kershawMeans</span><span class=\"p\">,</span> <span class=\"n\">alpha</span><span class=\"o\">=</span><span class=\"mf\">.3</span><span class=\"p\">,</span> <span class=\"n\">label</span><span class=\"o\">=</span><span class=\"s1\">&#39;Kershaw&#39;</span><span class=\"p\">,</span> <span class=\"n\">color</span><span class=\"o\">=</span><span class=\"n\">kc</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">legend</span><span class=\"p\">(</span><span class=\"n\">loc</span><span class=\"o\">=</span><span class=\"s1\">&#39;best&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">xlabel</span><span class=\"p\">(</span><span class=\"s1\">&#39;Avg. Batted Ball Velocity&#39;</span><span class=\"p\">,</span> <span class=\"n\">fontsize</span><span class=\"o\">=</span><span class=\"mi\">15</span><span class=\"p\">)</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">spines</span><span class=\"p\">[</span><span class=\"s1\">&#39;right&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_visible</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">spines</span><span class=\"p\">[</span><span class=\"s1\">&#39;left&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_visible</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">spines</span><span class=\"p\">[</span><span class=\"s1\">&#39;top&#39;</span><span class=\"p\">]</span><span class=\"o\">.</span><span class=\"n\">set_visible</span><span class=\"p\">(</span><span class=\"kc\">False</span><span class=\"p\">)</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">xaxis</span><span class=\"o\">.</span><span class=\"n\">set_ticks_position</span><span class=\"p\">(</span><span class=\"s1\">&#39;bottom&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">tick_params</span><span class=\"p\">(</span><span class=\"n\">axis</span><span class=\"o\">=</span><span class=\"s1\">&#39;both&#39;</span><span class=\"p\">,</span> <span class=\"n\">which</span><span class=\"o\">=</span><span class=\"s1\">&#39;major&#39;</span><span class=\"p\">,</span> <span class=\"n\">labelsize</span><span class=\"o\">=</span><span class=\"mi\">13</span><span class=\"p\">)</span>\n<span class=\"n\">ax</span><span class=\"o\">.</span><span class=\"n\">get_yaxis</span><span class=\"p\">()</span><span class=\"o\">.</span><span class=\"n\">set_ticks</span><span class=\"p\">([])</span>\n<span class=\"n\">plt</span><span class=\"o\">.</span><span class=\"n\">savefig</span><span class=\"p\">(</span><span class=\"s1\">&#39;images/avg-batted-ball-velocity.png&#39;</span><span class=\"p\">,</span> <span class=\"n\">bbox_inches</span><span class=\"o\">=</span><span class=\"s1\">&#39;tight&#39;</span><span class=\"p\">,</span> <span class=\"n\">dpi</span><span class=\"o\">=</span><span class=\"mi\">120</span><span class=\"p\">);</span>\n</code></pre></div>\n\n<p>![Batted Ball Exit Velocity]\n(https://raw.githubusercontent.com/gjreda/cy-young-NL-2015/master/images/avg-batted-ball-velocity.png)</p>\n<p>While the above chart doesn't explicitly show their 95% confidence intervals, it's pretty\nclear that Greinke's mean exit velocity is significant when compared to Arrieta\nand Kershaw -- allowing us to say that, on average, Greinke was hit harder\nthroughout the season than both Arrieta and Kershaw. We cannot confidently say\nthere was a difference in exit velocity when comparing Arrieta and Kershaw to\neach other though.</p>\n<p>The chart above is especially interesting in the context of our small\nmultiples charts.\nIn particular, that Greinke had the lowest ERA, batting average on balls in play\n(BABIP), and extra base hit rate (XBH%) of the three, <em>despite</em> allowing harder contact.\nThis suggests that Greinke received a bit more help from his defense than\nArrieta and Kershaw.</p>\n<p>If you're interested in more analysis on the season each of these three had,\n<a href=\"https://twitter.com/DCameronFG\">Dave Cameron</a> at <a href=\"http://www.fangraphs.com\">FanGraphs</a> has an excellent write-up <a href=\"http://www.fangraphs.com/blogs/explaining-my-nl-cy-young-ballot/\">explaining the rationale\nbehind his vote</a>.</p>\n<hr>\n<p>Hope you've enjoyed the post, and <a href=\"https://www.twitter.com/gjreda\">let me know</a> if you have any questions.</p>",
  "category": [
    "",
    "",
    "",
    "",
    ""
  ]
}