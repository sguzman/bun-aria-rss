{
  "title": "Self-Service Adobe Analytics Data Feeds!",
  "description": "<p>I’ve written several posts about the Adobe Analytics Analytics (née Clickstream) Data Feed (links: <a href=\"http://randyzwitch.com/adobe-analytics-clickstream-raw-data-feed/\">1</a>,<a href=\"http://randyzwitch.com/adobe-analytics-clickstream-data-feed-relational-database/\">2</a>,<a href=\"http://randyzwitch.com/adobe-analytics-clickstream-data-feed-calculations/\">3</a>) over the past several years. The <a href=\"https://marketing.adobe.com/resources/help/en_US/reference/analytics-data-feed.html\">Analytics Data Feed</a> is an invaluable tool for moving beyond aggregate-level reporting information about your customers to really in-depth, customer-level analytics.</p>",
  "pubDate": "Fri, 03 Mar 2017 00:00:00 +0000",
  "link": "http://randyzwitch.com/adobe-clickstream-data-feed-self-service-admin-panel/",
  "guid": "http://randyzwitch.com/adobe-clickstream-data-feed-self-service-admin-panel/",
  "content": "<p>I’ve written several posts about the Adobe Analytics Analytics (née Clickstream) Data Feed (links: <a href=\"http://randyzwitch.com/adobe-analytics-clickstream-raw-data-feed/\">1</a>,<a href=\"http://randyzwitch.com/adobe-analytics-clickstream-data-feed-relational-database/\">2</a>,<a href=\"http://randyzwitch.com/adobe-analytics-clickstream-data-feed-calculations/\">3</a>) over the past several years. The <a href=\"https://marketing.adobe.com/resources/help/en_US/reference/analytics-data-feed.html\">Analytics Data Feed</a> is an invaluable tool for moving beyond aggregate-level reporting information about your customers to really in-depth, customer-level analytics.</p>\n\n<p>While the Analytics Data Feed is nowhere as easy to use as the Adobe UI, Report Builder, Analytics Workspace or even <a href=\"http://randyzwitch.com/rsitecatalyst\">RSiteCatalyst</a>, the hardest part for me when I was a digital analytics consultant was just obtaining the files in the first place (to say nothing of restarting a failed feed)! Luckily, Adobe has now built an interface accessible by any Adobe Analytics admin, removing the need for ClientCare to set up and maintain feeds.</p>\n\n<p>In this post, I will briefly highlight how to set up an Analytics Data Feed from inside Adobe Analytics and give my impressions of the tool (as it exists at the time of writing). Note this post is not meant to be a substitute to the official documentation; Adobe provides detailed information about the entire process <a href=\"https://marketing.adobe.com/resources/help/en_US/reference/analytics-data-feed.html\">in their Help section</a>.</p>\n\n<h2 id=\"landing-the-files-via-ftpsftps3\">Landing the Files via FTP/SFTP/S3</h2>\n\n<p>After clicking ‘Admin -&gt; Data Feeds’ in the Adobe Analytics Admin menu/panel, you should see an interface similar to the following:\n<img src=\"/assets/img/adobe-analytics-data-feed-landing-page.png\" alt=\"landing page\" /></p>\n\n<p>After clicking the “(+) Add” button, you will be brought to a page with three parts: Feed Information, Delivery Location and Data Column Definitions. The top half of the page looks as follows:\n<img src=\"/assets/img/adobe-analytics-data-feed-ftp.png\" alt=\"feed info\" /></p>\n\n<p>I find these two panels fairly self-explanatory. On the left, you give your data feed a name, choose the report suite(s) you want the data feed for, pick the delivery granularity, then choose the start/end date or choose ‘continuous’ for indefinite future delivery. On the right side, you provide your server information, FTP/SFTP or Amazon S3.</p>\n\n<p>There are several things I love about this setup:</p>\n\n<ul>\n  <li>\n    <p>Delivery via SFTP and S3: For the longest time, FTP was the only choice, which disappointed security-minded folks who wanted SFTP. With S3 delivery, you can house your data files and read them into Hadoop directly (assuming you use AWS); this means you don’t necessarily have to do anything with the data until you need it, then you can fire up an EMR job to get your data. Dump the cluster when you’re done. Nice.</p>\n  </li>\n  <li>\n    <p>Multiple Report Suites, same window: I’m so happy to see that this interface supports choosing multiple report suites within the same “feed”. This makes it so much easier than having to create a separate feed instance, when in many cases the settings will stay the same (other than report suite of course).</p>\n  </li>\n</ul>\n\n<p>What I don’t love:</p>\n\n<ul>\n  <li>Not saving FTP information: When you do choose to create separate feeds, there doesn’t appear to be a way to use the same credentials without typing them in yourself. Not a huge deal if your password is “Mom”, a little more annoying if you auto-generate a password that looks like “aHR0cDovL3JhbmR5endpdGNoLmNvbQ==”</li>\n</ul>\n\n<h2 id=\"data-column-definitions\">Data Column Definitions</h2>\n\n<p>After choosing the report suites and providing the delivery details, the remaining step is to decide which data fields you want as part of the data feed. Luckily, there are templates that can be chosen, so that the user doesn’t have to remember every single field and the order that they need.</p>\n\n<p><img src=\"/assets/img/adobe-analytics-data-feed-definition.png\" alt=\"column structure\" /></p>\n\n<p>My favored practice when working with the data feeds is to have every feed have the same structure, even if certain report suites don’t have nearly the same amount of eVars and props implemented. I’m of the mind that taking all the fields, then letting the ETL process handle what to do with the data is much less error-prone. You can always re-run an ETL process if you forgot something; if you forget a column in your data feed, you need to re-process all of the feeds.</p>\n\n<p>Empty columns are also much less wasteful in the age of distributed computing (such as Hadoop), as <a href=\"http://blog.cloudera.com/blog/2013/03/introducing-parquet-columnar-storage-for-apache-hadoop/\">columnar data formats</a>/databases remove much of the performance penalty of empty columns. Using dictionary encoding and columnar data structures, you can represent an entire column of missing values as {NA: <number of=\"\" rows=\"\">} and spend mere bytes for data storage and still have lossless compression.</number></p>\n\n<h2 id=\"save-and-repeat\">Save and Repeat</h2>\n\n<p>Once you have your data feed defined, you save your work and that’s it! I’m not sure what SLA might be in place, but it seems like there’s roughly a 48-hour delay between submitting a new feed and having the data start to process. Once the processing starts, your notification inbox will quickly look like this:</p>\n\n<p><img src=\"/assets/img/adobe-analytics-data-feed-email-notification.png\" alt=\"emails\" /></p>\n\n<h2 id=\"automated-monitoring-with-rsitecatalyst\">Automated Monitoring with RSiteCatalyst</h2>\n<p>If you want to have more control around monitoring than just staring at your inbox, you can use RSiteCatalyst to get the processing status of your feed:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-r\" data-lang=\"r\"><table class=\"rouge-table\"><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n</pre></td><td class=\"code\"><pre><span class=\"n\">library</span><span class=\"p\">(</span><span class=\"n\">RSiteCatalyst</span><span class=\"p\">)</span><span class=\"w\">\n\n</span><span class=\"c1\">#Authentication (assumes credentials saved in .Renviron)</span><span class=\"w\">\n</span><span class=\"n\">SCAuth</span><span class=\"p\">(</span><span class=\"n\">Sys.getenv</span><span class=\"p\">(</span><span class=\"s2\">\"USER\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"n\">Sys.getenv</span><span class=\"p\">(</span><span class=\"s2\">\"SECRET\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"\"</span><span class=\"p\">))</span><span class=\"w\">\n\n</span><span class=\"c1\">#Get full list of report suites</span><span class=\"w\">\n</span><span class=\"n\">rs</span><span class=\"w\"> </span><span class=\"o\">&lt;-</span><span class=\"w\"> </span><span class=\"n\">GetReportSuites</span><span class=\"p\">()</span><span class=\"w\">\n\n</span><span class=\"c1\">#Pass in all non-virtual report suites</span><span class=\"w\">\n</span><span class=\"n\">feedstatus</span><span class=\"w\"> </span><span class=\"o\">&lt;-</span><span class=\"w\"> </span><span class=\"n\">GetFeeds</span><span class=\"p\">(</span><span class=\"n\">rs</span><span class=\"p\">[</span><span class=\"nf\">is.na</span><span class=\"p\">(</span><span class=\"n\">rs</span><span class=\"o\">$</span><span class=\"n\">virtual</span><span class=\"p\">),</span><span class=\"w\"> </span><span class=\"p\">]</span><span class=\"o\">$</span><span class=\"n\">rsid</span><span class=\"p\">)</span>\n</pre></td></tr></tbody></table></code></pre></figure>\n\n<p><code class=\"language-plaintext highlighter-rouge\">GetFeeds</code> will return a dataframe that returns the feed information, as well as the processing status:\n<img src=\"/assets/img/adobe-analytics-data-feed-rsitecatalyst.png\" alt=\"processing status\" /></p>\n\n<p>It’s not hard to imagine what a cronjob would look like, polling the Adobe API every few minutes to see which feeds are complete, then kicking off an ETL process.</p>\n\n<h2 id=\"data-liberated\">Data, Liberated!</h2>\n\n<p>This blog post has been relatively light on code and analysis, but I hope I’ve highlighted that the barriers to obtaining the most granular data Adobe can provide have been completely removed. With the new Analytics Data Feed interface, the possibility of bespoke customer analytics is only a few button clicks and an FTP away.</p>"
}