{
  "title": "Remove Jupyter Notebook Output from Terminal and when using Git",
  "link": "",
  "published": "2021-11-06T00:00:00-05:00",
  "updated": "2021-11-06T00:00:00-05:00",
  "id": "http://janakiev.com/blog/jupyter-git-remove-output",
  "content": "<p>Often times you want to delete the output of a jupyter notebook before commiting it to a repository, but in most cases you want to still have the notebook output for yourself. In this short guide you will seeh how to delete the notebook output automatically when committing notebooks to a repository while keeping the outputs local.</p>\n\n<h1 id=\"removing-the-notebook-output-in-the-command-line\">Removing the Notebook Output in the Command-line</h1>\n\n<p>The first tool to do this job is the <a href=\"https://nbconvert.readthedocs.io/en/latest/\">nbconvert</a> command-line tool to work with jupyter notebooks. First, check your installed version of <code class=\"language-plaintext highlighter-rouge\">nbconvert</code> by typing:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>jupyter nbconvert <span class=\"nt\">--version</span>\n</code></pre></div></div>\n\n<p>In order to delete the output, you can type the following command:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>jupyter nbconvert <span class=\"se\">\\</span>\n  <span class=\"nt\">--clear-output</span> <span class=\"se\">\\</span>\n  <span class=\"nt\">--to</span> notebook <span class=\"se\">\\</span>\n  <span class=\"nt\">--output</span><span class=\"o\">=</span>new_notebook <span class=\"se\">\\</span>\n  notebook.ipynb\n</code></pre></div></div>\n\n<p>To remove the output inplace, you can type:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>jupyter nbconvert <span class=\"se\">\\</span>\n  <span class=\"nt\">--clear-output</span> <span class=\"se\">\\</span>\n  <span class=\"nt\">--inplace</span> <span class=\"se\">\\</span>\n  notebook.ipynb\n</code></pre></div></div>\n\n<p>If you have <code class=\"language-plaintext highlighter-rouge\">nbconvert</code> below version <code class=\"language-plaintext highlighter-rouge\">6.0</code>, change the command to:</p>\n\n<div class=\"language-bash highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>jupyter nbconvert <span class=\"se\">\\</span>\n  <span class=\"nt\">--ClearOutputPreprocessor</span>.enabled<span class=\"o\">=</span>True <span class=\"se\">\\</span>\n  <span class=\"nt\">--to</span> notebook <span class=\"se\">\\</span>\n  <span class=\"nt\">--output</span><span class=\"o\">=</span>new_notebook <span class=\"se\">\\</span>\n  notebook.ipynb\n</code></pre></div></div>\n\n<h1 id=\"removing-the-notebook-output-automatically-when-committing\">Removing the Notebook Output automatically when Committing</h1>\n\n<p>Register a new filter by appending the following lines to the <code class=\"language-plaintext highlighter-rouge\">.git/config</code> in your chosen repository:</p>\n\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>[filter \"remove-notebook-output\"]\n    clean = \"jupyter nbconvert --clear-output --to=notebook --stdin --stdout --log-level=ERROR\"\n</code></pre></div></div>\n\n<p>If you want the filter to be available globally, append it to <code class=\"language-plaintext highlighter-rouge\">~/.gitconfig</code> instead. Also, remember to check the <code class=\"language-plaintext highlighter-rouge\">nbconvert</code> version and change the command as shown previously.</p>\n\n<p>Now, append the following lines to the <a href=\"https://git-scm.com/docs/gitattributes\">.gitattributes</a> file:</p>\n\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>*.ipynb filter=remove-notebook-output\n</code></pre></div></div>\n\n<p>If you want to apply those filters only to a specific folder you can instead append:</p>\n\n<div class=\"language-plaintext highlighter-rouge\"><div class=\"highlight\"><pre class=\"highlight\"><code>folder/*.ipynb filter=remove-notebook-output\n</code></pre></div></div>\n\n<p>Thatâ€™s all! Now you should be able to commit jupyter notebooks to git repositories without output if you followed all the steps.</p>\n\n<h1 id=\"resources\">Resources</h1>\n\n<p>For more resources, have a look at:</p>\n\n<ul>\n  <li><a href=\"https://nbconvert.readthedocs.io/en/latest/\">nbconvert Documentation</a></li>\n  <li><a href=\"https://git-scm.com/docs/gitattributes\">gitattributes Documentation</a></li>\n  <li><a href=\"https://git-scm.com/docs/git-config\">git-config Documentation</a></li>\n  <li><a href=\"https://git-scm.com/book/en/v2/Customizing-Git-Git-Attributes\">Customizing Git - Git Attributes</a></li>\n</ul>",
  "author": {
    "name": "Nikolai Janakiev"
  },
  "category": [
    "",
    "",
    ""
  ],
  "summary": "Often times you want to delete the output of a jupyter notebook before commiting it to a repository, but in most cases you want to still have the notebook output for yourself. In this short guide you will seeh how to delete the notebook output automatically when committing notebooks to a repository while keeping the outputs local.",
  "media:thumbnail": "",
  "media:content": ""
}