{
  "title": "Real-time Reporting with the Adobe Analytics API",
  "description": "<p>Starting with <a href=\"http://randyzwitch.com/rsitecatalyst-version-1-3-release-notes/\">version 1.3.1 of RSiteCatalyst</a>, you can now access the <a href=\"https://developer.omniture.com/en_US/documentation/sitecatalyst-reporting/c-real-time#concept_AD1D9EC2BC9C4897B9DE3C99D0066B8E\">real-time reporting capabilities of the Adobe Analytics API</a> through a familiar R interface. Here’s how to get started…</p>",
  "pubDate": "Mon, 10 Mar 2014 11:28:21 +0000",
  "link": "http://randyzwitch.com/real-time-reporting-adobe-analytics-api/",
  "guid": "http://randyzwitch.com/real-time-reporting-adobe-analytics-api/",
  "content": "<p>Starting with <a href=\"http://randyzwitch.com/rsitecatalyst-version-1-3-release-notes/\">version 1.3.1 of RSiteCatalyst</a>, you can now access the <a href=\"https://developer.omniture.com/en_US/documentation/sitecatalyst-reporting/c-real-time#concept_AD1D9EC2BC9C4897B9DE3C99D0066B8E\">real-time reporting capabilities of the Adobe Analytics API</a> through a familiar R interface. Here’s how to get started…</p>\n\n<h2 id=\"getrealtimeconfiguration\">GetRealTimeConfiguration</h2>\n\n<p>Before using the real-time reporting capabilities of Adobe Analytics, you first need to indicate which metrics and elements you are interested in seeing in real-time. To see which reports are already set up for real-time access on a given report suite, you can use the <code class=\"language-plaintext highlighter-rouge\">GetRealTimeConfiguration()</code> function:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-r\" data-lang=\"r\"><table class=\"rouge-table\"><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n</pre></td><td class=\"code\"><pre><span class=\"c1\">#Get Real-Time reports that already set up</span><span class=\"w\">\n</span><span class=\"n\">realtime_reports</span><span class=\"w\"> </span><span class=\"o\">&lt;-</span><span class=\"w\"> </span><span class=\"n\">GetRealTimeConfiguration</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;reportsuite&gt;\"</span><span class=\"p\">)</span>\n</pre></td></tr></tbody></table></code></pre></figure>\n\n<p>It’s likely the case that the first time you set this up, you’ll already see a real-time report for ‘Instances-Page-Site Section-Referring Domain’. You can leave this report in place, or switch the parameters using <code class=\"language-plaintext highlighter-rouge\">SaveRealTimeConfiguration()</code>.</p>\n\n<h2 id=\"saverealtimeconfiguration\">SaveRealTimeConfiguration</h2>\n\n<p>If you want to add/modify which real-time reports are available in a report suite, you can use the <code class=\"language-plaintext highlighter-rouge\">SaveRealTimeConfiguration()</code> function:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-r\" data-lang=\"r\"><table class=\"rouge-table\"><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n6\n7\n8\n9\n10\n</pre></td><td class=\"code\"><pre><span class=\"n\">SaveRealTimeConfiguration</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;report suite&gt;\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"n\">metric1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"instances\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"n\">elements1</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nf\">c</span><span class=\"p\">(</span><span class=\"s2\">\"page\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"referringdomain\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"sitesection\"</span><span class=\"p\">),</span><span class=\"w\">\n\n  </span><span class=\"n\">metric2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"revenue\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"n\">elements2</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nf\">c</span><span class=\"p\">(</span><span class=\"s2\">\"referringdomain\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"sitesection\"</span><span class=\"p\">)</span><span class=\"w\">\n\n  </span><span class=\"n\">metric3</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"orders\"</span><span class=\"p\">,</span><span class=\"w\">\n  </span><span class=\"n\">elements3</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"nf\">c</span><span class=\"p\">(</span><span class=\"s2\">\"products\"</span><span class=\"p\">)</span><span class=\"w\">\n</span><span class=\"p\">)</span>\n</pre></td></tr></tbody></table></code></pre></figure>\n\n<p>Up to three real-time reports are available to be stored at any given time. Note that you can mix-and-match what reports you want to modify, you don’t have to submit all three reports at a given time. Finally, keep in mind that it can take up to 15 minutes for the API to incorporate your real-time report changes, so if you don’t get your data right away don’t keep re-submitting the function call!</p>\n\n<h2 id=\"getrealtimereport\">GetRealTimeReport</h2>\n\n<p>Once you have your real-time reports set up in the API, you can use the <code class=\"language-plaintext highlighter-rouge\">GetRealTimeReport()</code> function in order to access your reports. There are numerous parameters for customization; selected examples are below.</p>\n\n<h3 id=\"minimum-example---overtime-report\">Minimum Example - Overtime Report</h3>\n\n<p>The simplest function call for a real-time report is to create an <code class=\"language-plaintext highlighter-rouge\">Overtime</code> report (monitoring a metric over a specific time period):</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-r\" data-lang=\"r\"><table class=\"rouge-table\"><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n</pre></td><td class=\"code\"><pre><span class=\"n\">rt</span><span class=\"w\"> </span><span class=\"o\">&lt;-</span><span class=\"w\"> </span><span class=\"n\">GetRealTimeReport</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;report suite&gt;\"</span><span class=\"p\">,</span><span class=\"w\"> </span><span class=\"s2\">\"instances\"</span><span class=\"p\">)</span>\n</pre></td></tr></tbody></table></code></pre></figure>\n\n<p>The result of this call will be a DataFrame having 15 rows of one minute granularity for your metric. This is a great way to monitor real-time orders &amp; revenue during a flash sale, see how users are accessing a landing page for an email marketing campaign or any other metric where you want up-to-the-minute status updates.</p>\n\n<h3 id=\"granularity-offset-periods\">Granularity, Offset, Periods</h3>\n\n<p>If you want to have a time period other than the last 15 minutes, or one minute granularity is too volatile for the metric you are monitoring, you can add additional arguments to modify the returned DataFrame:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-r\" data-lang=\"r\"><table class=\"rouge-table\"><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n</pre></td><td class=\"code\"><pre><span class=\"n\">rt2</span><span class=\"w\"> </span><span class=\"o\">&lt;-</span><span class=\"w\"> </span><span class=\"n\">GetRealTimeReport</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;reportsuite&gt;\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"s2\">\"instances\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"n\">periodMinutes</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"5\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"n\">periodCount</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"12\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"n\">periodOffset</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"10\"</span>\n</pre></td></tr></tbody></table></code></pre></figure>\n\n<p>For this function call, we will receive instances for the last hour (12 periods) of five minute granularity, with a 10 minute offset (meaning, <code class=\"language-plaintext highlighter-rouge\">now - 10 minutes ago</code> is the first time period reported).</p>\n\n<h3 id=\"single-elements\">Single Elements</h3>\n\n<p>Beyond just monitoring a metric over time, you can specify an element such as <code class=\"language-plaintext highlighter-rouge\">page</code> to receive your metrics by:</p>\n\n<figure class=\"highlight\"><pre><code class=\"language-r\" data-lang=\"r\"><table class=\"rouge-table\"><tbody><tr><td class=\"gutter gl\"><pre class=\"lineno\">1\n2\n3\n4\n5\n</pre></td><td class=\"code\"><pre><span class=\"n\">GetRealTimeReport</span><span class=\"p\">(</span><span class=\"s2\">\"&lt;reportsuite&gt;\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"s2\">\"instances\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"s2\">\"page\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"n\">periodMinutes</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"9\"</span><span class=\"p\">,</span><span class=\"w\">\n                  </span><span class=\"n\">periodCount</span><span class=\"w\"> </span><span class=\"o\">=</span><span class=\"w\"> </span><span class=\"s2\">\"3\"</span><span class=\"p\">)</span>\n</pre></td></tr></tbody></table></code></pre></figure>\n\n<p>This function call will return Instances by Page, for the last 27 minutes (3 rows/periods per page, 9 minute granularity…just because!). Additionally, there are other arguments such as <code class=\"language-plaintext highlighter-rouge\">algorithm</code>, <code class=\"language-plaintext highlighter-rouge\">algorithmArgument</code>, <code class=\"language-plaintext highlighter-rouge\">firstRankPeriod</code> and <code class=\"language-plaintext highlighter-rouge\">floorSensitivity</code> that allow for creating reports similar to what is provided in the Real-Time tab in the Adobe Analytics interface.</p>\n\n<p>Currently, even through the Adobe Analytics API supports real-time reports with three breakdowns, only one element breakdown is supported by RSiteCatalyst; it is planned to extend these functions in RSiteCatalyst to full support the real-time capabilities in the near future.</p>\n\n<h2 id=\"from-dataframe-to-something-shiny\">From DataFrame to Something ‘Shiny’</h2>\n\n<p>If we’re talking real-time reports, we’re probably talking about dashboarding. If we’re talking about R and dashboarding, then naturally, <a title=\"R ggvis\" href=\"http://ggvis.rstudio.com/\" target=\"_blank\">ggvis</a>/<a title=\"Shiny Web Applications\" href=\"http://www.rstudio.com/shiny/\" target=\"_blank\">Shiny</a> comes to mind. While providing a full ggvis/Shiny example is beyond the scope of this blog post, it’s my hope to provide a working example in a future blog post. Stay tuned!</p>"
}