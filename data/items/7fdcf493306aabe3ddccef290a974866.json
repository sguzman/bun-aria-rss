{
  "title": "A quick look at the World Cup final through Instagram",
  "description": "<!--kg-card-begin: markdown--><p>The 2014 World Cup will go down as one of the best in recent history. It featured countless headlines, from Germany asserting themselves as the top team in the world by humiliating the entire nation of Brazil 7-1 on their own turf and eventually winning it all. To the end</p>",
  "link": "https://www.danielforsyth.me/instagram-and-the-world-cup/",
  "guid": "5d24af011e693a0017f5e5f5",
  "category": [
    "Python",
    "Instagram"
  ],
  "dc:creator": "Daniel Forsyth",
  "pubDate": "Mon, 14 Jul 2014 22:55:05 GMT",
  "content:encoded": "<!--kg-card-begin: markdown--><p>The 2014 World Cup will go down as one of the best in recent history. It featured countless headlines, from Germany asserting themselves as the top team in the world by humiliating the entire nation of Brazil 7-1 on their own turf and eventually winning it all. To the end of Spanish world soccer dominance and Luis Suarez continuing with his animalistic tendencies. And lets not forget James Rodriguez making sure he&#x2019;s a household name with this gem:<br>\n<img src=\"https://www.danielforsyth.me/content/images/2014/Jul/YearlyFabulousCaiman.gif\" alt loading=\"lazy\"></p>\n<p>I had wanted to do a project using the Instagram API for a while and thought the world cup final would be great place to start. I hacked together a quick python script to search the Instagram API for a specific term and save the images into a local directory.</p>\n<pre><code>import os\nimport json\nimport urllib\nimport urllib2\nfrom instagram.client import InstagramAPI\n\n\nINSTAGRAM_CLIENT_ID = ''\nINSTAGRAM_CLIENT_SECRET = ''\n\napi = InstagramAPI(client_id=INSTAGRAM_CLIENT_ID,client_secret=INSTAGRAM_CLIENT_SECRET)\n\ndef find_images(query, path):\n    recent = api.tag_recent_media(1,100,query)\n    link = recent[1]\n    response = urllib2.urlopen(link)\n    ig = json.load(response) \n    status=ig['meta']['code']\n    \n    while status == 200:\n        data = ig['data']\n        if not data:\n            link = ig['pagination']['next_url']\n            response = urllib2.urlopen(link)\n            ig = json.load(response)\n        else:\n            image = ig['data'][0]['images']['standard_resolution']['url']\n            unique = str(ig['data'][0]['created_time'])\n            str(image)\n            urllib.urlretrieve(image, os.path.join(path, '%s.jpg') % unique )\n            link = ig['pagination']['next_url']\n            response = urllib2.urlopen(link)\n            ig = json.load(response)\n</code></pre>\n<p>After you enter your credentials and run the function you will see your directory begin to fill with images. I ran the script for a few minutes (you will get rate limited pretty quickly) during the game and was able to gather around six hundred images. I created a quick collage with a few below. As you can see it consists of mostly TVs, Messi and German flags.</p>\n<p><img src=\"https://www.danielforsyth.me/content/images/2014/Jul/ig.jpg\" alt loading=\"lazy\"></p>\n<p>This was a quick and easy project which gave me quite a few ideas for the future. It would be interesting to go through each image individually and analyze them for say most prominent colors. It would also be neat to build a machine learning pipeline to autotag the pictures into categories such as people, landscapes, cars, etc. I would also like to take a look at the real time streaming API and build some sort of web front end on top of it.</p>\n<p>In the end I learned quite a bit with this and look forward to using Instagrams API again. If you have any questions, feedback, advice, or corrections please get in touch with me on <a href=\"https://twitter.com/Daniel_Forsyth1\">Twitter</a> or email me at <a href=\"mailto:danforsyth1@gmail.com\">danforsyth1@gmail.com</a>.</p>\n<!--kg-card-end: markdown-->"
}