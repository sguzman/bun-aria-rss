{
  "id": "tag:blogger.com,1999:blog-6755709643044947179.post-997885716605208470",
  "published": "2022-10-06T10:00:00.029-07:00",
  "updated": "2022-10-07T17:59:43.793-07:00",
  "category": [
    "",
    "",
    ""
  ],
  "title": "Prepare your Android Project for Android Gradle plugin 8.0 API changes",
  "content": "<meta\n  content=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjBmQ0F7G4U_m5Untm8wIVYeSiSN9Bs4azqlojRSxQ3qxzGP1Z_hTXOXzWL_-Qsk-U-I0la70nt17oASCEt0JFE73ZYGwkch4crVGIkxZY2uvNDDq-mXL2PLG9ZOAHH2-w9n0xRtlgTXmgvHO68jf1u0-Xzxjn5FCOKpx6H5bTnPhHYEksQPpJHwZwI/s1600/SocialPrepareyourAndroidProjectforAGP8.0Changes%20.png\"\n  name=\"twitter:image\"\n/>\n<img\n  src=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgy74acii7wq-Z2pW8TUSga1YGpRKjLZjroOlZlUillRJuTFIlGpUi93PPletKlkcAaz9u6NgF8_LejO9686VYEWNtO2ypawLgpY2QW7JMtrMSVTlPsRGgEDUiQJKUfzEXw2Q_Y7qX1CSUlH9lma8Jjdm3AqMogbEI6PScD3AK1XsWgHmVeqJlVqUiK/s1600/Header-PrepareyourAndroidProjectforAGP8.0Changes%20.png\"\n  style=\"display: none;\"\n/>\n\n<p>\n  <em\n    >Posted by <a href=\"https://twitter.com/wkalic\">Wojtek Kaliciński</a>,\n    <a href=\"https://twitter.com/BorisFarber\">Boris Farber</a>, Android\n    Developer Relations Engineers, and\n    <a href=\"https://twitter.com/droidxav\">Xavier Ducrohet</a>, Android Studio\n    Tech Lead</em\n  >\n</p>\n<p>\n  <a\n    href=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgy74acii7wq-Z2pW8TUSga1YGpRKjLZjroOlZlUillRJuTFIlGpUi93PPletKlkcAaz9u6NgF8_LejO9686VYEWNtO2ypawLgpY2QW7JMtrMSVTlPsRGgEDUiQJKUfzEXw2Q_Y7qX1CSUlH9lma8Jjdm3AqMogbEI6PScD3AK1XsWgHmVeqJlVqUiK/s1600/Header-PrepareyourAndroidProjectforAGP8.0Changes%20.png\"\n    ><img\n      border=\"0\"\n      data-original-height=\"800\"\n      data-original-width=\"1058\"\n      height=\"200\"\n      src=\"https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEgy74acii7wq-Z2pW8TUSga1YGpRKjLZjroOlZlUillRJuTFIlGpUi93PPletKlkcAaz9u6NgF8_LejO9686VYEWNtO2ypawLgpY2QW7JMtrMSVTlPsRGgEDUiQJKUfzEXw2Q_Y7qX1CSUlH9lma8Jjdm3AqMogbEI6PScD3AK1XsWgHmVeqJlVqUiK/w674-h200/Header-PrepareyourAndroidProjectforAGP8.0Changes%20.png\"\n      width=\"674\"\n  /></a>\n</p>\n<p>\n  <em\n    >To improve build speed and provide stable APIs, the Transform APIs will be\n    removed in Android Gradle plugin (AGP) version 8.0. Most use cases have\n    replacement APIs which are available starting from AGP version 7.2. Read on\n    for more details.</em\n  >\n</p>\n<p>\n  The Android developer community's top request has been to improve build speed\n  while making sure Android Gradle plugin (AGP) has a solid, stable, and well\n  supported API.\n</p>\n<p>\n  To improve build speed starting from AGP 7.2, we have stabilized the\n  <a\n    href=\"https://developer.android.com/reference/tools/gradle-api/7.3/com/android/build/api/artifact/Artifacts\"\n    target=\"_blank\"\n    >Artifacts API</a\n  >\n  and updated the\n  <a\n    href=\"https://developer.android.com/reference/tools/gradle-api/7.2/com/android/build/api/variant/Instrumentation\"\n    target=\"_blank\"\n    >Instrumentation API</a\n  >. For common use cases, these APIs replace the\n  <a\n    href=\"https://developer.android.com/reference/tools/gradle-api/7.0/com/android/build/api/transform/Transform\"\n    target=\"_blank\"\n    >Transform APIs</a\n  >, which cause longer build times and are gone in AGP 8.0.\n</p>\n<p>\n  This article walks you through transitioning off the Transform APIs, whether\n  you're working on a Gradle plugin or an application.\n</p>\n<h3 style=\"text-align: left;\">Guidance for Gradle plugins</h3>\n\n<p>\n  To improve build times, we split Transform's functionality into the following\n  APIs that are optimized for common use cases:\n</p>\n\n<ul>\n  <li>\n    The\n    <a\n      href=\"https://developer.android.com/reference/tools/gradle-api/7.2/com/android/build/api/variant/Instrumentation\"\n      target=\"_blank\"\n      >Instrumentation</a\n    >\n    API lets you transform and analyze compiled app classes using\n    <a href=\"https://asm.ow2.io/\" target=\"_blank\">ASM</a> callbacks. For example\n    use this API to add custom traces to methods or classes for additional or\n    custom logging.\n  </li>\n\n  <li>\n    The\n    <a\n      href=\"https://developer.android.com/reference/tools/gradle-api/7.2/com/android/build/api/artifact/Artifacts\"\n      target=\"_blank\"\n      >Artifacts</a\n    >\n    API gives access to files or directories, whether temporary or final, that\n    are produced by AGP during the build. Use this API to:\n  </li>\n  <ul>\n    <li>\n      Add additional generated classes to the app,<strong> </strong>such as glue\n      code for dependency injection.\n    </li>\n\n    <li>\n      Implement transformations based on whole program analysis, when all\n      classes can be transformed together in a single task. This is only\n      available starting from AGP 7.4.0-alpha06. The&nbsp;<span\n        id=\"docs-internal-guid-26ddd4b9-7fff-bc04-8078-5c250a50ce07\"\n        ><a\n          href=\"https://github.com/android/gradle-recipes/blob/agp-7.4/Kotlin/modifyProjectClasses/app/build.gradle.kts\"\n          style=\"text-decoration-line: none;\"\n          target=\"_blank\"\n          ><span\n            style=\"background-color: #f0f0f0; color: #1155cc; font-variant-east-asian: normal; font-variant-numeric: normal; text-decoration-line: underline; text-decoration-skip-ink: none; vertical-align: baseline; white-space: pre-wrap;\"\n            ><span style=\"font-family: courier;\">build.gradle.kts</span></span\n          ></a\n        ></span\n      ><a\n        href=\"https://github.com/android/gradle-recipes/blob/agp-7.4/Kotlin/modifyProjectClasses/app/build.gradle.kts\"\n        target=\"_blank\"\n        >&nbsp;file</a\n      >\n      in the “modifyProjectClasses'' Gradle recipe shows how to do it.\n    </li>\n  </ul>\n</ul>\n<p>\n  For examples of how to use the replacement APIs see the\n  <a\n    href=\"https://developer.android.com/studio/releases/gradle-plugin-api-updates#transform-removed\"\n    target=\"_blank\"\n    >Transform API update note</a\n  >, and our\n  <a href=\"https://github.com/android/gradle-recipes\" target=\"_blank\"\n    >Gradle recipes</a\n  >.\n</p>\n<h3 style=\"text-align: left;\">Guidance for apps</h3>\n\n<p>\n  Make sure that you update your plugins to be AGP 8.0 compliant before updating\n  your app to AGP 8.0. If the relevant plugins are not compliant, please create\n  a bug that includes a link to this post and send it to the plugin authors.\n</p>\n<p>\n  Several commonly used plugins have already migrated to use these new APIs,\n  including the\n  <a href=\"https://dagger.dev/hilt/gradle-setup.html\" target=\"_blank\"\n    >Hilt Gradle plugin</a\n  >.\n</p>\n<h3 style=\"text-align: left;\">Share your feedback</h3>\n<p>\n  If your use case is not covered by any of the new APIs, please\n  <a href=\"https://developer.android.com/studio/report-bugs\" target=\"_blank\"\n    >file a bug</a\n  >.\n</p>\n<p>\n  We encourage you to get started with making your plugins compatible with the\n  new AGP APIs. Getting started now means that you have enough time to\n  familiarize yourself with the APIs, share your feedback and then upgrade your\n  dependencies and plugins.\n</p>",
  "link": [
    "",
    "",
    ""
  ],
  "author": {
    "name": "Android Developers",
    "uri": "http://www.blogger.com/profile/08588467489110681140",
    "email": "noreply@blogger.com",
    "gd:image": ""
  },
  "media:thumbnail": ""
}