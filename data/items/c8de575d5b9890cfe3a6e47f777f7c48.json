{
  "title": "Kyria Build, Part 12: Flashing the firmware",
  "description": "<p>So <a href=\"https://qmk.fm/\">QMK</a> is like the gold standard for custom keyboard firmware. I&rsquo;ve used it on many keyboards before, and even used it to write <a href=\"https://ianthehenry.com/posts/peggi/\">a weird custom arpeggio keyboard</a>. It works great and I like it and I have no complaints.<sup id=\"fnref:1\"><a href=\"#fn:1\" class=\"footnote-ref\" role=\"doc-noteref\">1</a></sup></p>\n<p>But QMK doesn&rsquo;t support the nice!nano (or possibly <em>can&rsquo;t</em> support it, for some kind of weird licensing reason? I don&rsquo;t know). So if you want Bluetooth, you have to use <a href=\"https://zmk.dev/\">ZMK</a> instead.</p>\n<p>ZMK is no QMK.</p>\n<p>When you&rsquo;re writing QMK, you&rsquo;re writing a little C program that you compile like any other code. You can write functions to send keystrokes manually, but typically you use some built-in macros to declare a simple layout. A simple QMK keymap might look like this:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" class=\"chroma\"><code class=\"language-c\" data-lang=\"c\"><span class=\"k\">const</span> <span class=\"kt\">uint16_t</span> <span class=\"n\">PROGMEM</span> <span class=\"n\">keymaps</span><span class=\"p\">[][</span><span class=\"n\">MATRIX_ROWS</span><span class=\"p\">][</span><span class=\"n\">MATRIX_COLS</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n<span class=\"p\">[</span><span class=\"n\">_QWERTY</span><span class=\"p\">]</span> <span class=\"o\">=</span> <span class=\"n\">LAYOUT_ortho_4x12</span><span class=\"p\">(</span>\n<span class=\"n\">KC_TAB</span> <span class=\"p\">,</span> <span class=\"n\">KC_Q</span> <span class=\"p\">,</span> <span class=\"n\">KC_W</span> <span class=\"p\">,</span> <span class=\"n\">KC_E</span> <span class=\"p\">,</span> <span class=\"n\">KC_R</span> <span class=\"p\">,</span> <span class=\"n\">KC_T</span> <span class=\"p\">,</span> <span class=\"n\">KC_Y</span> <span class=\"p\">,</span> <span class=\"n\">KC_U</span> <span class=\"p\">,</span> <span class=\"n\">KC_I</span> <span class=\"p\">,</span> <span class=\"n\">KC_O</span> <span class=\"p\">,</span> <span class=\"n\">KC_P</span> <span class=\"p\">,</span> <span class=\"n\">KC_MINS</span><span class=\"p\">,</span> \\\n<span class=\"n\">KC_ESC</span> <span class=\"p\">,</span> <span class=\"n\">KC_A</span> <span class=\"p\">,</span> <span class=\"n\">KC_S</span> <span class=\"p\">,</span> <span class=\"n\">KC_D</span> <span class=\"p\">,</span> <span class=\"n\">KC_F</span> <span class=\"p\">,</span> <span class=\"n\">KC_G</span> <span class=\"p\">,</span> <span class=\"n\">KC_H</span> <span class=\"p\">,</span> <span class=\"n\">KC_J</span> <span class=\"p\">,</span> <span class=\"n\">KC_K</span> <span class=\"p\">,</span> <span class=\"n\">KC_L</span> <span class=\"p\">,</span> <span class=\"n\">KC_SCLN</span><span class=\"p\">,</span> <span class=\"n\">KC_QUOT</span><span class=\"p\">,</span> \\\n<span class=\"n\">LOWER</span> <span class=\"p\">,</span> <span class=\"n\">KC_Z</span> <span class=\"p\">,</span> <span class=\"n\">KC_X</span> <span class=\"p\">,</span> <span class=\"n\">KC_C</span> <span class=\"p\">,</span> <span class=\"n\">KC_V</span> <span class=\"p\">,</span> <span class=\"n\">KC_B</span> <span class=\"p\">,</span> <span class=\"n\">KC_N</span> <span class=\"p\">,</span> <span class=\"n\">KC_M</span> <span class=\"p\">,</span> <span class=\"n\">KC_COMM</span><span class=\"p\">,</span> <span class=\"n\">KC_DOT</span> <span class=\"p\">,</span> <span class=\"n\">KC_SLSH</span><span class=\"p\">,</span> <span class=\"n\">RAISE</span> <span class=\"p\">,</span> \\\n<span class=\"n\">KC_LCTL</span><span class=\"p\">,</span> <span class=\"n\">KC_LCTL</span><span class=\"p\">,</span> <span class=\"n\">_______</span><span class=\"p\">,</span> <span class=\"n\">KC_LALT</span><span class=\"p\">,</span> <span class=\"n\">KC_LGUI</span><span class=\"p\">,</span> <span class=\"n\">KC_LSFT</span><span class=\"p\">,</span> <span class=\"n\">KC_SPC</span> <span class=\"p\">,</span> <span class=\"n\">KC_BSPC</span><span class=\"p\">,</span> <span class=\"n\">KC_ENT</span> <span class=\"p\">,</span> <span class=\"n\">_______</span><span class=\"p\">,</span> <span class=\"n\">_______</span><span class=\"p\">,</span> <span class=\"n\">_______</span> \\\n<span class=\"p\">),</span>\n</code></pre></div><p>When you&rsquo;re writing ZMK, you&rsquo;re&hellip; declaring some kind of <em>something</em>. It&rsquo;s not really clear&hellip; what it is, or what format it&rsquo;s in, or why.</p>\n<pre tabindex=\"0\"><code>/ {\nkeymap {\ncompatible = &quot;zmk,keymap&quot;;\ndefault_layer {\nbindings = &lt;\n&amp;kp TAB &amp;kp Q &amp;kp W &amp;kp E &amp;kp R &amp;kp T &amp;kp Y &amp;kp U &amp;kp I &amp;kp O &amp;kp P &amp;kp MINUS\n&amp;kp ESC &amp;kp A &amp;kp S &amp;kp D &amp;kp F &amp;kp G &amp;kp H &amp;kp J &amp;kp K &amp;kp L &amp;kp SEMI &amp;kp SQT\n&amp;mo NNUM &amp;kp Z &amp;kp X &amp;kp C &amp;kp V &amp;kp B &amp;kp LALT &amp;kp LGUI &amp;kp RET &amp;kp SPACE &amp;kp N &amp;kp M &amp;kp COMMA &amp;kp DOT &amp;kp FSLH &amp;mo PUNC\n&amp;kp LCTRL &amp;kp LALT &amp;kp LGUI &amp;kp LSHFT &amp;kp LCTRL &amp;kp RET &amp;kp SPACE &amp;kp BSPC &amp;none &amp;none\n&gt;;\n};\n};\n};\n</code></pre><p>No idea. Truly no idea. I wrote this, but I don&rsquo;t really know what I wrote.</p>\n<p>I looked it up and apparently it&rsquo;s a normal familiar thing if you&rsquo;re used to writing drivers, maybe. &ldquo;Device tree source&rdquo; format. No idea.</p>\n<p>Anyway, the declarativeness is sort of nice, if you&rsquo;re just defining a keyboard, but annoying if you&rsquo;re trying to do something more complicated. I&rsquo;m not sure if it has to be declarative for like&hellip; energy efficiency? Or if this is an explicit design choice. Or something else.</p>\n<p>I know very little about ZMK.</p>\n<p>The only thing I <em>really</em> know about ZMK is that it has the worst error messages I have ever seen.</p>\n<p>Let&rsquo;s take a look at the error you get if you typo a key &ndash; possibly the easiest mistake to make, when you&rsquo;re writing your first keymap.</p>\n<p>This is a real thing that I did: I typed <code>C_VOL_DOWN</code> instead of <code>C_VOL_DN</code>. And this is the real error message that ZMK gave me:</p>\n<pre tabindex=\"0\"><code>$ west build -d build/right -b nice_nano -- -DSHIELD=kyria_right\n-- Application: /Users/ian/src/zmk/app\n-- Zephyr version: 2.5.0 (/Users/ian/src/zmk/zephyr)\n-- Found west (found suitable version &quot;0.12.0&quot;, minimum required is &quot;0.7.1&quot;)\n-- git describe failed: fatal: No tags can describe '68c11efba6e1eb2d689b3039553868b1b1c57f94'.\nTry --always, or create some tags.;\nBUILD_VERSION is left undefined\n-- Board: nice_nano, Shield(s): kyria_right\n-- Cache files will be written to: /Users/ian/Library/Caches/zephyr\n-- Found dtc: /nix/store/jh3yvyxhrspb9mwxwzwp0h799ds2jmn5-dtc-1.6.1/bin/dtc (found suitable version &quot;1.6.1&quot;, minimum required is &quot;1.4.6&quot;)\n-- Found toolchain: gnuarmemb (/nix/store/l4lsff9wm46j29b69ji2r9rr4wpxdby9-gcc-arm-embedded-10.3.1)\n-- Found BOARD.dts: /Users/ian/src/zmk/app/boards/arm/nice_nano/nice_nano.dts\n-- Found devicetree overlay: /Users/ian/src/zmk/app/boards/shields/kyria/kyria_right.overlay\n-- Found devicetree overlay: /Users/ian/src/zmk/app/boards/shields/kyria/boards/nice_nano.overlay\n-- Found devicetree overlay: /Users/ian/src/zmk/app/boards/shields/kyria/kyria.keymap\nError: nice_nano.dts.pre.tmp:834.205-206 syntax error\nFATAL ERROR: Unable to parse input tree\nCMake Error at /Users/ian/src/zmk/zephyr/cmake/dts.cmake:205 (message):\ncommand failed with return code: 1\nCall Stack (most recent call first):\n/Users/ian/src/zmk/zephyr/cmake/app/boilerplate.cmake:535 (include)\n/Users/ian/src/zmk/zephyr/share/zephyr-package/cmake/ZephyrConfig.cmake:24 (include)\n/Users/ian/src/zmk/zephyr/share/zephyr-package/cmake/ZephyrConfig.cmake:40 (include_boilerplate)\nCMakeLists.txt:17 (find_package)\n-- Configuring incomplete, errors occurred!\nSee also &quot;/Users/ian/src/zmk/app/build/right/CMakeFiles/CMakeOutput.log&quot;.\nSee also &quot;/Users/ian/src/zmk/app/build/right/CMakeFiles/CMakeError.log&quot;.\nFATAL ERROR: command exited with status 1: /nix/store/3lbch64fradcsks9vmxdxlhjhz2lf58s-cmake-3.21.2/bin/cmake -DWEST_PYTHON=/nix/store/5rpfiqanhg1gi1a8k4qq69mxbhz3nxnq-python3-3.8.12/bin/python3.8 -B/Users/ian/src/zmk/app/build/right -S/Users/ian/src/zmk/app -GNinja -DSHIELD=kyria_right\n</code></pre><p>Note that there is absolutely nothing there about <code>C_VOL_DOWN</code>. Or really anything at all about what went wrong. There is a line number, if you look carefully:</p>\n<pre><code>Error: nice_nano.dts.pre.tmp:834.205-206 syntax error\n</code></pre>\n<p>But that&rsquo;s not a file that I <em>wrote</em>. The line number doesn&rsquo;t correspond at all to any source, but by running <code>find . -name nice_nano.dts.pre.tmp</code> I was able to locate some random temporary build file, and look in at, and see what I guess is a macro expansion of the actual line. It looked like this:</p>\n<div class=\"highlight\"><pre tabindex=\"0\" class=\"chroma\"><code class=\"language-c\" data-lang=\"c\"><span class=\"o\">&amp;</span><span class=\"n\">none</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">((((</span><span class=\"mh\">0x07</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0x44</span><span class=\"p\">)))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">((((</span><span class=\"mh\">0x07</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0x45</span><span class=\"p\">)))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">((((</span><span class=\"mh\">0x07</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0x68</span><span class=\"p\">)))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">((((</span><span class=\"mh\">0x07</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0x69</span><span class=\"p\">)))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">((((</span><span class=\"mh\">0x07</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0x6A</span><span class=\"p\">)))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">((((</span><span class=\"mh\">0x0C</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0xE2</span><span class=\"p\">)))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"n\">C_VOL_DOWN</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">(((((</span><span class=\"mh\">0x0C</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0xE9</span><span class=\"p\">))))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">(((((</span><span class=\"mh\">0x0C</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0x70</span><span class=\"p\">))))</span> <span class=\"o\">&amp;</span><span class=\"n\">kp</span> <span class=\"p\">(((((</span><span class=\"mh\">0x0C</span><span class=\"p\">)</span> <span class=\"o\">&lt;&lt;</span> <span class=\"mi\">16</span><span class=\"p\">)</span> <span class=\"o\">|</span> <span class=\"p\">(</span><span class=\"mh\">0x6F</span><span class=\"p\">))))</span> <span class=\"o\">&amp;</span><span class=\"n\">none</span>\n</code></pre></div><p>If you scroll far enough to the right there you will eventually notice that <code>C_VOL_DOWN</code> has not been replaced by a hex code, which was the only indication I had of my mistake.</p>\n<p>So&hellip; not the <em>best</em> error messages.</p>\n<p>But by not making any mistakes, I was able to flash it, and everything worked fine.</p>\n<aside>\n<p>Actually I <em>wasn&rsquo;t</em> able to flash it right away, because even after doing the reset dance to put the nice!nano into &ldquo;copy firmware onto me&rdquo; mode, my computer wasn&rsquo;t recognizing it as a storage device. I spent half an hour furiously googling &ldquo;bootloader not recognized nice nano please help&rdquo; before I realized that I had plugged in a USB-C <em>charging</em> cable without any data lines. Getting a different cable fixed it immediately. What a fun standard.</p>\n</aside>\n<p>Something very cool about using ZMK is that you can manually switch between different Bluetooth profiles.</p>\n<p>My keyboard is simultaneously &ldquo;paired&rdquo; with my laptop, my phone, and my iPad. But I can press a button to decide which one receives keystrokes. And press another button to switch between USB output and Bluetooth output, in the case that I have it plugged in to charge.</p>\n<p>This works a lot better than the current state of the art, which appears to be some kind of distributed automata situation where all of my Bluetooth-connected devices independently conspire to be as frustrating to use as possible. At this point I have learned to expect my phone to steal my headphone output any time it has a notification sound to play while I&rsquo;m trying to listen to music, so it&rsquo;s very nice to feel like I have some kind of control over my life when I&rsquo;m using my keyboard.</p>\n<p>Some other things: you can still use the keyboard as a regular USB keyboard, by connecting the queen half to your computer &ndash; but the drone half still has to speak Bluetooth to the queen. You can&rsquo;t currently connect the halves with a TRRS cable, but in theory you could convince ZMK to allow this, if you really wanted to.</p>\n<p>One place where the declarative-only nature of the config bothered me is that I can&rsquo;t set ZMK to automatically switch key layouts when I select a different Bluetooth device. I would like to use a different default layer when I&rsquo;m using my computer than when I&rsquo;m using my iDevices, but right now I have to manually toggle outputs and then manually toggle keymaps. It&rsquo;s annoying, but definitely not as annoying as the error messages.</p>\n<h1 id=\"keymaps\">Keymaps</h1>\n<p>Okay, look. Keymaps are personal, and part of the fun of using a weird keyboard is coming up with your own keymap. My keymap won&rsquo;t work for you. No one else&rsquo;s keymap will work for you. But it&rsquo;s nice to have a starting point that you can branch off from.</p>\n<p>My own keymap is largely influenced by merging my first ever &ldquo;portable&rdquo; keyboard &ndash; the Planck EZ &ndash; with the first ever ergonomic keyboard I used &ndash; the Kinesis Advantage2. I got used to a particular thumb layout on the Advantage2, and I tried to keep as much of that as possible with Planck&rsquo;s compactness. I got used to having two different layer buttons, and I still keep the Planck&rsquo;s punctuation row mostly unchanged &ndash; but I&rsquo;ve made quite a few changes to the rest of it.</p>\n<p>Normal typing layer:</p>\n<a class=\"image-container\" href=\"https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_1536x1536_fit_box_3.png\"><picture><source type=\"image/webp\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_768x768_fit_q75_h3_box_3.webp 768w, https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_1536x1536_fit_q75_h3_box_3.webp 1536w, https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_375x375_fit_q75_h3_box_3.webp 375w, https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_750x750_fit_q75_h3_box_3.webp 750w\"\nsizes=\"(max-width: 400px) 375px, 768px\"><img\nclass=\"image-with-light-background\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_768x768_fit_box_3.png 768w, https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_1536x1536_fit_box_3.png 1536w, https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_375x375_fit_box_3.png 375w, https://ianthehenry.com/posts/kyria-build/flashing/qwerty-keymap_hua8464e25af301ff8578e2ec525c3f01c_410302_750x750_fit_box_3.png 750w\"\nalt=\"\"\ntitle=\"\"\nsizes=\"(max-width: 400px) 375px, 768px\"\nwidth=\"768\"\nheight=\"315\"\nstyle=\"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAASklEQVR4nBzAOwoAIQwEUDM4Vtbe/3qCWAgDfiBZ2JfXWpIAtNZSSr13d6&#43;15jGG/SSZ2d4bwJzTIuK9d8659wIgWUoh&#43;QUAAP//c40jQcUK&#43;BIAAAAASUVORK5CYII=);\"\n/></picture></a>\n<p>I have rebound caps lock to escape for as long as I can remember, so that&rsquo;s natural to me. I don&rsquo;t hit tab very much, except for <code>cmd + tab</code>, but that&rsquo;s such a common shortcut for me that I keep it on the base layer.</p>\n<p>Note that every modifier key is on the left thumb: this matches how I type on my Macbook keyboard, with the exception that I will sometimes press control with the knuckle of my curled pinky finger.</p>\n<p>The &ldquo;main&rdquo; modifiers on my Kyria appear in the same order that they do on my Macbook keyboard, to the left of my thumb&rsquo;s resting position (shift). But I also have some redundant modifier keys to the &ldquo;right&rdquo; of shift. This makes it easy to press weird modifier combos &ndash; <code>cmd + ctrl</code> requires multiple fingers on a regular keyboard, but on this keymap every modifier key is right next to each other.</p>\n<p>The redundant modifier situation is a new thing I&rsquo;m trying with the Kyria, and so far I really like it. I&rsquo;ve never had so many thumb keys that I could actually reach before, and I&rsquo;ve basically stopped using the leftmost <code>ctrl</code> and <code>alt</code> keys in lieu of the closer alternatives. I might just get rid of those, but what else would I put there? It&rsquo;s kind of wasted space.</p>\n<p>I still have a lot of empty space on the right thumb. Still not sure what to do about those keys.</p>\n<p>Holding what would normally be left shift gives me my &ldquo;numbers and navigation&rdquo; layer:</p>\n<a class=\"image-container\" href=\"https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_1536x1536_fit_box_3.png\"><picture><source type=\"image/webp\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_768x768_fit_q75_h3_box_3.webp 768w, https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_1536x1536_fit_q75_h3_box_3.webp 1536w, https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_375x375_fit_q75_h3_box_3.webp 375w, https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_750x750_fit_q75_h3_box_3.webp 750w\"\nsizes=\"(max-width: 400px) 375px, 768px\"><img\nclass=\"image-with-light-background\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_768x768_fit_box_3.png 768w, https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_1536x1536_fit_box_3.png 1536w, https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_375x375_fit_box_3.png 375w, https://ianthehenry.com/posts/kyria-build/flashing/n-and-n-keymap_hua8464e25af301ff8578e2ec525c3f01c_401238_750x750_fit_box_3.png 750w\"\nalt=\"\"\ntitle=\"\"\nsizes=\"(max-width: 400px) 375px, 768px\"\nwidth=\"768\"\nheight=\"315\"\nstyle=\"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAATElEQVR4nBzAMQpEIQwE0Im4YmHv/S9nYWEhIpIhzMJ/&#43;Zyz904p9d4BzDkjorWWxxi1Vkn3XgDvPTNba5kkku5OEkAp5ff5BwAA///wviY7HlVItgAAAABJRU5ErkJggg==);\"\n/></picture></a>\n<p>When I first switched to a number pad on my Planck, I put <code>0</code> in the &ldquo;correct&rdquo; spot &ndash; under the <code>1</code> key. But that meant overwriting my backspace key, and I just hated it. It really helps me to keep space and backspace and return in the same place across all keymaps, so the pinky position is the best spot I could find for <code>0</code>.</p>\n<p>I still don&rsquo;t like that the <code>.</code> key has to move over for this layout, but I think it&rsquo;s better than moving the entire numpad over by one. (Although I&rsquo;m thinking about it). But I still sometimes find myself leaving the number layer to put in a decimal point, and feeling silly about it.</p>\n<p>I keep some redundant punctuation to make it easier to type dates and times.</p>\n<p>Holding &ldquo;right shift&rdquo; gives me my &ldquo;punctuation&rdquo; layer:</p>\n<a class=\"image-container\" href=\"https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_1536x1536_fit_box_3.png\"><picture><source type=\"image/webp\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_768x768_fit_q75_h3_box_3.webp 768w, https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_1536x1536_fit_q75_h3_box_3.webp 1536w, https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_375x375_fit_q75_h3_box_3.webp 375w, https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_750x750_fit_q75_h3_box_3.webp 750w\"\nsizes=\"(max-width: 400px) 375px, 768px\"><img\nclass=\"image-with-light-background\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_768x768_fit_box_3.png 768w, https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_1536x1536_fit_box_3.png 1536w, https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_375x375_fit_box_3.png 375w, https://ianthehenry.com/posts/kyria-build/flashing/punctuation-keymap_hua8464e25af301ff8578e2ec525c3f01c_389180_750x750_fit_box_3.png 750w\"\nalt=\"\"\ntitle=\"\"\nsizes=\"(max-width: 400px) 375px, 768px\"\nwidth=\"768\"\nheight=\"315\"\nstyle=\"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAASUlEQVR4nBzAMQpEIRAD0CSMVtbe/3hiYaNYuANZ&#43;C/23uccSb13AGMM2621WGtJAnDvBZCZJOectP37vPdI1lojopTyDwAA//907CNETXnOtQAAAABJRU5ErkJggg==);\"\n/></picture></a>\n<p>Pretty similar to the Planck, except that I moved the brackets to the home keys. And I find putting backslash in the same place as forward slash works well with my brain.</p>\n<p>And lastly holding both of these gives my &ldquo;meta&rdquo; layer:</p>\n<a class=\"image-container\" href=\"https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_1536x1536_fit_box_3.png\"><picture><source type=\"image/webp\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_768x768_fit_q75_h3_box_3.webp 768w, https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_1536x1536_fit_q75_h3_box_3.webp 1536w, https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_375x375_fit_q75_h3_box_3.webp 375w, https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_750x750_fit_q75_h3_box_3.webp 750w\"\nsizes=\"(max-width: 400px) 375px, 768px\"><img\nclass=\"image-with-light-background\"\nsrcset=\"https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_768x768_fit_box_3.png 768w, https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_1536x1536_fit_box_3.png 1536w, https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_375x375_fit_box_3.png 375w, https://ianthehenry.com/posts/kyria-build/flashing/meta-keymap_hua8464e25af301ff8578e2ec525c3f01c_421767_750x750_fit_box_3.png 750w\"\nalt=\"\"\ntitle=\"\"\nsizes=\"(max-width: 400px) 375px, 768px\"\nwidth=\"768\"\nheight=\"315\"\nstyle=\"background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAASklEQVR4nBzAMQoEIRQD0HxNbOy9/&#43;20sFMhsIgL87j3XmullFprAMYY995aK3vvkgCccyLCNsk5Z7z3fh/bOedSCklJ/wAAAP//cL0jMoeB168AAAAASUVORK5CYII=);\"\n/></picture></a>\n<p>Which is the only place that I rebind a thumb key on a layer &ndash; but only the redundant modifiers. Hopefully I never have to press <code>cmd + ctrl + F7</code>&hellip;</p>\n<p>I don&rsquo;t use any one-shot layers, mod-taps, or anything fancy like that.</p>\n<p>I&rsquo;m afraid of one-shot layers, because I don&rsquo;t like my keyboard having state that I have to keep track of &ndash; I don&rsquo;t want to accidentally press a key and get into an unexpected state; I always want to <em>know</em> what is going to happen as the result of a keypress.</p>\n<p>And mod-taps seem inferior to my thumb-heavy modifier layout.</p>\n<p>Space-cadet shift, and other dual-function keys&hellip; I&rsquo;m a little bit afraid of them, I guess. I might experiment further into the firmware world one day. But I&rsquo;m pretty happy with where I am right now.</p>\n<section class=\"footnotes\" role=\"doc-endnotes\">\n<hr>\n<ol>\n<li id=\"fn:1\" role=\"doc-endnote\">\n<p>This is a lie. I have a complaint.</p>\n<p>I hate that the official QMK repository for some reason contains every single human being&rsquo;s key layout and weird keyboard that you&rsquo;ve never heard of. Why is this? Why do we have to merge every single keyboard into this one repository? Can&rsquo;t we just maintain forks, or write a library or something? Shouldn&rsquo;t there be some sort of relevancy standard here?&#160;<a href=\"#fnref:1\" class=\"footnote-backref\" role=\"doc-backlink\">&#x21a9;&#xfe0e;</a></p>\n</li>\n</ol>\n</section>",
  "pubDate": "Fri, 07 Jan 2022 00:00:00 +0000",
  "link": "https://ianthehenry.com/posts/kyria-build/flashing/",
  "guid": "https://ianthehenry.com/posts/kyria-build/flashing/"
}