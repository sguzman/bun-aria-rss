{
  "title": "Re-exploring the structure of Chinese character images",
  "link": "https://mathematicaforprediction.wordpress.com/2022/05/03/re-exploring-the-structure-of-chinese-character-images/",
  "comments": "https://mathematicaforprediction.wordpress.com/2022/05/03/re-exploring-the-structure-of-chinese-character-images/#respond",
  "dc:creator": "Anton Antonov Antonov",
  "pubDate": "Tue, 03 May 2022 14:51:02 +0000",
  "category": [
    "Data Science",
    "Data visualization",
    "Latent Semantic Analysis",
    "Mathematica",
    "Non-negative matrix factorization",
    "Recommender Systems",
    "SVD",
    "data visualization",
    "Natural language Processing"
  ],
  "guid": "http://mathematicaforprediction.wordpress.com/?p=1236",
  "description": "In this post we show information retrieval and clustering techniques over images of Unicode collection of Chinese characters. Here is the outline of notebook's exposition:\n\nGet Chinese character images.\n\nCluster \"image vectors\" and demonstrate that the obtained clusters have certain explainability elements.\n\nApply Latent Semantic Analysis (LSA) workflow to the character set.\n\nShow visual thesaurus through a recommender system. (That uses Cosine similarity.)\n\nDiscuss graph and hierarchical clustering using LSA matrix factors.\n\nDemonstrate approximation of \"unseen\" character images with an image basis obtained through LSA over a small set of (simple) images.\n\nRedo character approximation with more \"interpretable\" image basis.\n\nRemark: This notebook started as an (extended) comment for the Community discussion \"Exploring structure of Chinese characters through image processing\", [SH1]. (Hence the title.)",
  "content:encoded": "<h2 id=\"introduction\">Introduction</h2>\n<p>In this notebook we show information retrieval and clustering<br />\ntechniques over images of Unicode collection of Chinese characters. Here<br />\nis the outline of notebook’s exposition:</p>\n<ol type=\"1\">\n<li>Get Chinese character images.</li>\n<li>Cluster “image vectors” and demonstrate that the obtained<br />\nclusters have certain explainability elements.</li>\n<li>Apply Latent Semantic Analysis (LSA) workflow to the character<br />\nset.</li>\n<li>Show visual thesaurus through a recommender system. (That uses<br />\nCosine similarity.)</li>\n<li>Discuss graph and hierarchical clustering using LSA matrix<br />\nfactors.</li>\n<li>Demonstrate approximation of “unseen” character images with an<br />\nimage basis obtained through LSA over a small set of (simple)<br />\nimages.</li>\n<li>Redo character approximation with more “interpretable” image<br />\nbasis.</li>\n</ol>\n<p><strong>Remark:</strong> This notebook started as an (extended)<br />\ncomment for the Community discussion <a href=\"https://community.wolfram.com/groups/-/m/t/2509775\">“Exploring<br />\nstructure of Chinese characters through image processing”</a>, [SH1].<br />\n(Hence the title.)</p>\n<h2 id=\"get-chinese-character-images\">Get Chinese character images</h2>\n<p>This code is a copy of the code in the <a href=\"https://community.wolfram.com/groups/-/m/t/2509775\">original<br />\nCommunity post by Silvia Hao</a>, [SH1]:</p>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0zu4hv95x0jjf.png\" alt=\"0zu4hv95x0jjf\"><figcaption aria-hidden=\"true\">0zu4hv95x0jjf</figcaption></figure>\n<div class=\"sourceCode\" id=\"cb1\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb1-1\"><a href=\"#cb1-1\" aria-hidden=\"true\"></a><span class=\"fu\">Module</span><span class=\"op\">[{</span>fsize <span class=\"ex\">=</span> <span class=\"dv\">50</span><span class=\"op\">,</span> width <span class=\"ex\">=</span> <span class=\"dv\">64</span><span class=\"op\">,</span> height <span class=\"ex\">=</span> <span class=\"dv\">64</span><span class=\"op\">},</span> </span>\n<span id=\"cb1-2\"><a href=\"#cb1-2\" aria-hidden=\"true\"></a>  lsCharIDs <span class=\"ex\">=</span> <span class=\"fu\">Map</span><span class=\"op\">[</span><span class=\"fu\">FromCharacterCode</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"st\">\"Unicode\"</span><span class=\"op\">]</span> &<span class=\"op\">,</span> <span class=\"dv\">16</span><span class=\"sc\">^^</span><span class=\"fl\">4E00</span> <span class=\"sc\">-</span> <span class=\"dv\">1</span> <span class=\"sc\">+</span> <span class=\"fu\">Range</span><span class=\"op\">[</span>width height<span class=\"op\">]]</span>; </span>\n<span id=\"cb1-3\"><a href=\"#cb1-3\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span></code></pre>\n</div>\n<div class=\"sourceCode\" id=\"cb2\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb2-1\"><a href=\"#cb2-1\" aria-hidden=\"true\"></a>charPage <span class=\"ex\">=</span> <span class=\"fu\">Module</span><span class=\"op\">[{</span>fsize <span class=\"ex\">=</span> <span class=\"dv\">50</span><span class=\"op\">,</span> width <span class=\"ex\">=</span> <span class=\"dv\">64</span><span class=\"op\">,</span> height <span class=\"ex\">=</span> <span class=\"dv\">64</span><span class=\"op\">},</span> </span>\n<span id=\"cb2-2\"><a href=\"#cb2-2\" aria-hidden=\"true\"></a>    <span class=\"dv\">16</span><span class=\"sc\">^^</span><span class=\"fl\">4E00</span> <span class=\"sc\">-</span> <span class=\"dv\">1</span> <span class=\"sc\">+</span> <span class=\"fu\">Range</span><span class=\"op\">[</span>width height<span class=\"op\">]</span> <span class=\"sc\">//</span> pipe<span class=\"op\">[</span></span>\n<span id=\"cb2-3\"><a href=\"#cb2-3\" aria-hidden=\"true\"></a>      <span class=\"fu\">FromCharacterCode</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"st\">\"Unicode\"</span><span class=\"op\">]</span> & </span>\n<span id=\"cb2-4\"><a href=\"#cb2-4\" aria-hidden=\"true\"></a>      <span class=\"op\">,</span> <span class=\"fu\">Characters</span><span class=\"op\">,</span> <span class=\"fu\">Partition</span><span class=\"op\">[</span>#<span class=\"op\">,</span> width<span class=\"op\">]</span> & </span>\n<span id=\"cb2-5\"><a href=\"#cb2-5\" aria-hidden=\"true\"></a>      <span class=\"op\">,</span> <span class=\"fu\">Grid</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">Background</span> <span class=\"ot\">-></span> <span class=\"fu\">Black</span><span class=\"op\">,</span> <span class=\"fu\">Spacings</span> <span class=\"ot\">-></span> <span class=\"op\">{</span><span class=\"dv\">0</span><span class=\"op\">,</span> <span class=\"dv\">0</span><span class=\"op\">},</span> <span class=\"fu\">ItemSize</span> <span class=\"ot\">-></span> <span class=\"op\">{</span><span class=\"fl\">1.5</span><span class=\"op\">,</span> <span class=\"fl\">1.2</span><span class=\"op\">},</span> <span class=\"fu\">Alignment</span> <span class=\"ot\">-></span> <span class=\"op\">{</span><span class=\"fu\">Center</span><span class=\"op\">,</span> <span class=\"fu\">Center</span><span class=\"op\">},</span> <span class=\"fu\">Frame</span> <span class=\"ot\">-></span> <span class=\"cn\">All</span><span class=\"op\">,</span> <span class=\"fu\">FrameStyle</span> <span class=\"ot\">-></span> <span class=\"fu\">Directive</span><span class=\"op\">[</span><span class=\"fu\">Red</span><span class=\"op\">,</span> <span class=\"fu\">AbsoluteThickness</span><span class=\"op\">[</span><span class=\"dv\">3</span> <span class=\"sc\">\\</span><span class=\"op\">[</span>Lambda<span class=\"op\">]]]]</span> & </span>\n<span id=\"cb2-6\"><a href=\"#cb2-6\" aria-hidden=\"true\"></a>      <span class=\"op\">,</span> <span class=\"fu\">Style</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">White</span><span class=\"op\">,</span> fsize<span class=\"op\">,</span> <span class=\"fu\">FontFamily</span> <span class=\"ot\">-></span> <span class=\"st\">\"Source Han Sans CN\"</span><span class=\"op\">,</span> <span class=\"fu\">FontWeight</span> <span class=\"ot\">-></span> <span class=\"st\">\"ExtraLight\"</span><span class=\"op\">]</span> & </span>\n<span id=\"cb2-7\"><a href=\"#cb2-7\" aria-hidden=\"true\"></a>      <span class=\"op\">,</span> <span class=\"fu\">Rasterize</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">Background</span> <span class=\"ot\">-></span> <span class=\"fu\">Black</span><span class=\"op\">]</span> & </span>\n<span id=\"cb2-8\"><a href=\"#cb2-8\" aria-hidden=\"true\"></a>     <span class=\"op\">]</span> </span>\n<span id=\"cb2-9\"><a href=\"#cb2-9\" aria-hidden=\"true\"></a>   <span class=\"op\">]</span>;</span>\n<span id=\"cb2-10\"><a href=\"#cb2-10\" aria-hidden=\"true\"></a>chargrid <span class=\"ex\">=</span> charPage <span class=\"sc\">//</span> ColorDistance<span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">Red</span><span class=\"op\">]</span> & <span class=\"sc\">//</span> <span class=\"fu\">Image</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"st\">\"Byte\"</span><span class=\"op\">]</span> & <span class=\"sc\">//</span> <span class=\"fu\">Sign</span> <span class=\"sc\">//</span><span class=\"fu\">Erosion</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"dv\">5</span><span class=\"op\">]</span> &;</span>\n<span id=\"cb2-11\"><a href=\"#cb2-11\" aria-hidden=\"true\"></a>lmat <span class=\"ex\">=</span> chargrid <span class=\"sc\">//</span> <span class=\"fu\">MorphologicalComponents</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">Method</span> <span class=\"ot\">-></span> <span class=\"st\">\"BoundingBox\"</span><span class=\"op\">,</span> <span class=\"fu\">CornerNeighbors</span> <span class=\"ot\">-></span> <span class=\"cn\">False</span><span class=\"op\">]</span> &;</span>\n<span id=\"cb2-12\"><a href=\"#cb2-12\" aria-hidden=\"true\"></a>chars <span class=\"ex\">=</span> <span class=\"fu\">ComponentMeasurements</span><span class=\"op\">[{</span>charPage <span class=\"sc\">//</span> <span class=\"fu\">ColorConvert</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"st\">\"Grayscale\"</span><span class=\"op\">]</span> &<span class=\"op\">,</span> lmat<span class=\"op\">},</span> <span class=\"st\">\"MaskedImage\"</span><span class=\"op\">,</span> #Width > <span class=\"dv\">10</span> &<span class=\"op\">]</span> <span class=\"sc\">//</span> Values <span class=\"sc\">//</span> Map@RemoveAlphaChannel;</span>\n<span id=\"cb2-13\"><a href=\"#cb2-13\" aria-hidden=\"true\"></a>chars <span class=\"ex\">=</span> <span class=\"fu\">Module</span><span class=\"op\">[{</span>size <span class=\"ex\">=</span> chars <span class=\"sc\">//</span> Map@ImageDimensions <span class=\"sc\">//</span> <span class=\"fu\">Max</span><span class=\"op\">},</span> <span class=\"fu\">ImageCrop</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"op\">{</span>size<span class=\"op\">,</span> size<span class=\"op\">}]</span> & <span class=\"sc\">/</span>@ chars<span class=\"op\">]</span>;</span></code></pre>\n</div>\n<p>Here is a sample of the obtained images:</p>\n<div class=\"sourceCode\" id=\"cb3\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb3-1\"><a href=\"#cb3-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">33</span><span class=\"op\">]</span>;</span>\n<span id=\"cb3-2\"><a href=\"#cb3-2\" aria-hidden=\"true\"></a><span class=\"fu\">RandomSample</span><span class=\"op\">[</span>chars<span class=\"op\">,</span> <span class=\"dv\">5</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1jy9voh5c01lt.png\" alt=\"1jy9voh5c01lt\"><figcaption aria-hidden=\"true\">1jy9voh5c01lt</figcaption></figure>\n<h2 id=\"vector-representation-of-images\">Vector representation of<br />\nimages</h2>\n<p>Define a function that represents an image into a linear vector space<br />\n(of pixels):</p>\n<div class=\"sourceCode\" id=\"cb4\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb4-1\"><a href=\"#cb4-1\" aria-hidden=\"true\"></a><span class=\"fu\">Clear</span><span class=\"op\">[</span>ImageToVector<span class=\"op\">]</span>;</span>\n<span id=\"cb4-2\"><a href=\"#cb4-2\" aria-hidden=\"true\"></a>ImageToVector<span class=\"op\">[</span><span class=\"at\">img_</span>Image<span class=\"op\">]</span> <span class=\"ex\">:=</span> <span class=\"fu\">Flatten</span><span class=\"op\">[</span><span class=\"fu\">ImageData</span><span class=\"op\">[</span><span class=\"fu\">ColorConvert</span><span class=\"op\">[</span>img<span class=\"op\">,</span> <span class=\"st\">\"Grayscale\"</span><span class=\"op\">]]]</span>;</span>\n<span id=\"cb4-3\"><a href=\"#cb4-3\" aria-hidden=\"true\"></a>ImageToVector<span class=\"op\">[</span><span class=\"at\">img_</span>Image<span class=\"op\">,</span> <span class=\"at\">imgSize_</span><span class=\"op\">]</span> <span class=\"ex\">:=</span> <span class=\"fu\">Flatten</span><span class=\"op\">[</span><span class=\"fu\">ImageData</span><span class=\"op\">[</span><span class=\"fu\">ColorConvert</span><span class=\"op\">[</span><span class=\"fu\">ImageResize</span><span class=\"op\">[</span>img<span class=\"op\">,</span> imgSize<span class=\"op\">],</span> <span class=\"st\">\"Grayscale\"</span><span class=\"op\">]]]</span>;</span>\n<span id=\"cb4-4\"><a href=\"#cb4-4\" aria-hidden=\"true\"></a>ImageToVector<span class=\"op\">[</span><span class=\"at\">___</span><span class=\"op\">]</span> <span class=\"ex\">:=</span> <span class=\"va\">$Failed</span>;</span></code></pre>\n</div>\n<p>Show how vector represented images look like:</p>\n<div class=\"sourceCode\" id=\"cb5\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb5-1\"><a href=\"#cb5-1\" aria-hidden=\"true\"></a><span class=\"fu\">Table</span><span class=\"op\">[</span><span class=\"fu\">BlockRandom</span><span class=\"op\">[</span></span>\n<span id=\"cb5-2\"><a href=\"#cb5-2\" aria-hidden=\"true\"></a>   img <span class=\"ex\">=</span> <span class=\"fu\">RandomChoice</span><span class=\"op\">[</span>chars<span class=\"op\">]</span>; </span>\n<span id=\"cb5-3\"><a href=\"#cb5-3\" aria-hidden=\"true\"></a>   <span class=\"fu\">ListPlot</span><span class=\"op\">[</span>ImageToVector<span class=\"op\">[</span>img<span class=\"op\">],</span> <span class=\"fu\">Filling</span> <span class=\"ot\">-></span> <span class=\"fu\">Axis</span><span class=\"op\">,</span> <span class=\"fu\">PlotRange</span> <span class=\"ot\">-></span> <span class=\"cn\">All</span><span class=\"op\">,</span> <span class=\"fu\">PlotLabel</span> <span class=\"ot\">-></span> img<span class=\"op\">,</span> <span class=\"fu\">ImageSize</span> <span class=\"ot\">-></span> <span class=\"fu\">Medium</span><span class=\"op\">,</span> <span class=\"fu\">AspectRatio</span> <span class=\"ot\">-></span> <span class=\"dv\">1</span><span class=\"sc\">/</span><span class=\"dv\">6</span><span class=\"op\">],</span> </span>\n<span id=\"cb5-4\"><a href=\"#cb5-4\" aria-hidden=\"true\"></a>   RandomSeeding <span class=\"ot\">-></span> rs<span class=\"op\">],</span> <span class=\"op\">{</span>rs<span class=\"op\">,</span> <span class=\"op\">{</span><span class=\"dv\">33</span><span class=\"op\">,</span> <span class=\"dv\">998</span><span class=\"op\">}}]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0cobk7b0m9xcn.png\" alt=\"0cobk7b0m9xcn\"><figcaption aria-hidden=\"true\">0cobk7b0m9xcn</figcaption></figure>\n<div class=\"sourceCode\" id=\"cb6\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb6-1\"><a href=\"#cb6-1\" aria-hidden=\"true\"></a><span class=\"sc\">\\</span><span class=\"op\">[</span>AliasDelimiter<span class=\"op\">]</span></span></code></pre>\n</div>\n<h2 id=\"data-preparation\">Data preparation</h2>\n<p>In this section we represent the images into a linear vector space.<br />\n(In which each pixel is a basis vector.)</p>\n<p>Make an association with images:</p>\n<div class=\"sourceCode\" id=\"cb7\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb7-1\"><a href=\"#cb7-1\" aria-hidden=\"true\"></a>aCImages <span class=\"ex\">=</span> AssociationThread<span class=\"op\">[</span>lsCharIDs <span class=\"ot\">-></span> chars<span class=\"op\">]</span>;</span>\n<span id=\"cb7-2\"><a href=\"#cb7-2\" aria-hidden=\"true\"></a><span class=\"fu\">Length</span><span class=\"op\">[</span>aCImages<span class=\"op\">]</span></span>\n<span id=\"cb7-3\"><a href=\"#cb7-3\" aria-hidden=\"true\"></a></span>\n<span id=\"cb7-4\"><a href=\"#cb7-4\" aria-hidden=\"true\"></a><span class=\"co\">(*4096*)</span></span></code></pre>\n</div>\n<p>Make flat vectors with the images:</p>\n<div class=\"sourceCode\" id=\"cb8\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb8-1\"><a href=\"#cb8-1\" aria-hidden=\"true\"></a><span class=\"fu\">AbsoluteTiming</span><span class=\"op\">[</span></span>\n<span id=\"cb8-2\"><a href=\"#cb8-2\" aria-hidden=\"true\"></a>  aCImageVecs <span class=\"ex\">=</span> <span class=\"fu\">ParallelMap</span><span class=\"op\">[</span>ImageToVector<span class=\"op\">,</span> aCImages<span class=\"op\">]</span>; </span>\n<span id=\"cb8-3\"><a href=\"#cb8-3\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span>\n<span id=\"cb8-4\"><a href=\"#cb8-4\" aria-hidden=\"true\"></a></span>\n<span id=\"cb8-5\"><a href=\"#cb8-5\" aria-hidden=\"true\"></a><span class=\"co\">(*{0.998162, Null}*)</span></span></code></pre>\n</div>\n<p>Do matrix plots a random sample of the image vectors:</p>\n<div class=\"sourceCode\" id=\"cb9\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb9-1\"><a href=\"#cb9-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">32</span><span class=\"op\">]</span>;</span>\n<span id=\"cb9-2\"><a href=\"#cb9-2\" aria-hidden=\"true\"></a><span class=\"fu\">MatrixPlot</span><span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">2</span><span class=\"op\">]]]]</span> & <span class=\"sc\">/</span>@ <span class=\"fu\">RandomSample</span><span class=\"op\">[</span>aCImageVecs<span class=\"op\">,</span> <span class=\"dv\">6</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/07tn6wh5t97j4.png\" alt=\"07tn6wh5t97j4\"><figcaption aria-hidden=\"true\">07tn6wh5t97j4</figcaption></figure>\n<h2 id=\"clustering-over-the-image-vectors\">Clustering over the image<br />\nvectors</h2>\n<p>In this section we cluster “image vectors” and demonstrate that the<br />\nobtained clusters have certain explainability elements. Expected Chinese<br />\ncharacter radicals are observed using image multiplication.</p>\n<p>Cluster the image vectors and show summary of the clusters<br />\nlengths:</p>\n<div class=\"sourceCode\" id=\"cb10\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb10-1\"><a href=\"#cb10-1\" aria-hidden=\"true\"></a><span class=\"fu\">SparseArray</span><span class=\"op\">[</span>Values@aCImageVecs<span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1n5cwcrgj2d3m.png\" alt=\"1n5cwcrgj2d3m\"><figcaption aria-hidden=\"true\">1n5cwcrgj2d3m</figcaption></figure>\n<div class=\"sourceCode\" id=\"cb11\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb11-1\"><a href=\"#cb11-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">334</span><span class=\"op\">]</span>;</span>\n<span id=\"cb11-2\"><a href=\"#cb11-2\" aria-hidden=\"true\"></a><span class=\"fu\">AbsoluteTiming</span><span class=\"op\">[</span></span>\n<span id=\"cb11-3\"><a href=\"#cb11-3\" aria-hidden=\"true\"></a>  lsClusters <span class=\"ex\">=</span> <span class=\"fu\">FindClusters</span><span class=\"op\">[</span><span class=\"fu\">SparseArray</span><span class=\"op\">[</span>Values@aCImageVecs<span class=\"op\">]</span> <span class=\"ot\">-></span> Keys<span class=\"op\">[</span>aCImageVecs<span class=\"op\">],</span> <span class=\"dv\">35</span><span class=\"op\">,</span> <span class=\"fu\">Method</span> <span class=\"ot\">-></span> <span class=\"op\">{</span><span class=\"st\">\"KMeans\"</span><span class=\"op\">}]</span>; </span>\n<span id=\"cb11-4\"><a href=\"#cb11-4\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span>\n<span id=\"cb11-5\"><a href=\"#cb11-5\" aria-hidden=\"true\"></a>Length@lsClusters</span>\n<span id=\"cb11-6\"><a href=\"#cb11-6\" aria-hidden=\"true\"></a>ResourceFunction<span class=\"op\">[</span><span class=\"st\">\"RecordsSummary\"</span><span class=\"op\">][</span><span class=\"fu\">Length</span> <span class=\"sc\">/</span>@ lsClusters<span class=\"op\">]</span></span>\n<span id=\"cb11-7\"><a href=\"#cb11-7\" aria-hidden=\"true\"></a></span>\n<span id=\"cb11-8\"><a href=\"#cb11-8\" aria-hidden=\"true\"></a><span class=\"co\">(*{24.6383, Null}*)</span></span>\n<span id=\"cb11-9\"><a href=\"#cb11-9\" aria-hidden=\"true\"></a></span>\n<span id=\"cb11-10\"><a href=\"#cb11-10\" aria-hidden=\"true\"></a><span class=\"co\">(*35*)</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0lvt8mcfzpvhg.png\" alt=\"0lvt8mcfzpvhg\"><figcaption aria-hidden=\"true\">0lvt8mcfzpvhg</figcaption></figure>\n<p>For each cluster:</p>\n<ul>\n<li>Take 30 different small samples of 7 images</li>\n<li>Multiply the images in each small sample</li>\n<li>Show three “most black” the multiplication results</li>\n</ul>\n<div class=\"sourceCode\" id=\"cb12\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb12-1\"><a href=\"#cb12-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">33</span><span class=\"op\">]</span>;</span>\n<span id=\"cb12-2\"><a href=\"#cb12-2\" aria-hidden=\"true\"></a><span class=\"fu\">Table</span><span class=\"op\">[</span><span class=\"fu\">i</span> <span class=\"ot\">-></span> TakeLargestBy<span class=\"op\">[</span><span class=\"fu\">Table</span><span class=\"op\">[</span><span class=\"fu\">ImageMultiply</span> @@ <span class=\"fu\">RandomSample</span><span class=\"op\">[</span>KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> lsClusters<span class=\"op\">[[</span><span class=\"fu\">i</span><span class=\"op\">]]],</span> UpTo<span class=\"op\">[</span><span class=\"dv\">7</span><span class=\"op\">]],</span> <span class=\"dv\">30</span><span class=\"op\">],</span> Total@ImageToVector<span class=\"op\">[</span>#<span class=\"op\">]</span> &<span class=\"op\">,</span> <span class=\"dv\">3</span><span class=\"op\">],</span> <span class=\"op\">{</span><span class=\"fu\">i</span><span class=\"op\">,</span> <span class=\"fu\">Length</span><span class=\"op\">[</span>lsClusters<span class=\"op\">]}]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0erc719h7lnzi.png\" alt=\"0erc719h7lnzi\"><figcaption aria-hidden=\"true\">0erc719h7lnzi</figcaption></figure>\n<p><strong>Remark:</strong> We can see that the clustering above<br />\nproduced “semantic” clusters – most of the multiplied images show<br />\nmeaningful Chinese characters radicals and their “expected<br />\npositions.”</p>\n<p>Here is one of the clusters with the radical “mouth”:</p>\n<div class=\"sourceCode\" id=\"cb13\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb13-1\"><a href=\"#cb13-1\" aria-hidden=\"true\"></a>KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> lsClusters<span class=\"op\">[[</span><span class=\"dv\">26</span><span class=\"op\">]]]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/131vpq9dabrjo.png\" alt=\"131vpq9dabrjo\"><figcaption aria-hidden=\"true\">131vpq9dabrjo</figcaption></figure>\n<h2 id=\"lsamon-application\">LSAMon application</h2>\n<p>In this section we apply the “standard” LSA workflow, [AA1, AA4].</p>\n<p>Make a matrix with named rows and columns from the image vectors:</p>\n<div class=\"sourceCode\" id=\"cb14\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb14-1\"><a href=\"#cb14-1\" aria-hidden=\"true\"></a>mat <span class=\"ex\">=</span> ToSSparseMatrix<span class=\"op\">[</span><span class=\"fu\">SparseArray</span><span class=\"op\">[</span>Values@aCImageVecs<span class=\"op\">],</span> <span class=\"st\">\"RowNames\"</span> <span class=\"ot\">-></span> Keys<span class=\"op\">[</span>aCImageVecs<span class=\"op\">],</span> <span class=\"st\">\"ColumnNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0jdmyfb9rsobz.png\" alt=\"0jdmyfb9rsobz\"><figcaption aria-hidden=\"true\">0jdmyfb9rsobz</figcaption></figure>\n<p>The following Latent Semantic Analysis (LSA) monadic pipeline is used<br />\nin [AA2, AA2]:</p>\n<div class=\"sourceCode\" id=\"cb15\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb15-1\"><a href=\"#cb15-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">77</span><span class=\"op\">]</span>;</span>\n<span id=\"cb15-2\"><a href=\"#cb15-2\" aria-hidden=\"true\"></a><span class=\"fu\">AbsoluteTiming</span><span class=\"op\">[</span></span>\n<span id=\"cb15-3\"><a href=\"#cb15-3\" aria-hidden=\"true\"></a>  lsaAllObj <span class=\"ex\">=</span> </span>\n<span id=\"cb15-4\"><a href=\"#cb15-4\" aria-hidden=\"true\"></a>    LSAMonUnit<span class=\"op\">[]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb15-5\"><a href=\"#cb15-5\" aria-hidden=\"true\"></a>     LSAMonSetDocumentTermMatrix<span class=\"op\">[</span>mat<span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb15-6\"><a href=\"#cb15-6\" aria-hidden=\"true\"></a>     LSAMonApplyTermWeightFunctions<span class=\"op\">[</span><span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"Cosine\"</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb15-7\"><a href=\"#cb15-7\" aria-hidden=\"true\"></a>     LSAMonExtractTopics<span class=\"op\">[</span><span class=\"st\">\"NumberOfTopics\"</span> <span class=\"ot\">-></span> <span class=\"dv\">60</span><span class=\"op\">,</span> <span class=\"fu\">Method</span> <span class=\"ot\">-></span> <span class=\"st\">\"SVD\"</span><span class=\"op\">,</span> <span class=\"st\">\"MaxSteps\"</span> <span class=\"ot\">-></span> <span class=\"dv\">15</span><span class=\"op\">,</span> <span class=\"st\">\"MinNumberOfDocumentsPerTerm\"</span> <span class=\"ot\">-></span> <span class=\"dv\">0</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb15-8\"><a href=\"#cb15-8\" aria-hidden=\"true\"></a>     LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb15-9\"><a href=\"#cb15-9\" aria-hidden=\"true\"></a>     LSAMonEcho<span class=\"op\">[</span><span class=\"fu\">Style</span><span class=\"op\">[</span><span class=\"st\">\"Obtained basis:\"</span><span class=\"op\">,</span> <span class=\"fu\">Bold</span><span class=\"op\">,</span> <span class=\"fu\">Purple</span><span class=\"op\">]]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb15-10\"><a href=\"#cb15-10\" aria-hidden=\"true\"></a>     LSAMonEchoFunctionContext<span class=\"op\">[</span><span class=\"fu\">ImageAdjust</span><span class=\"op\">[</span><span class=\"fu\">Image</span><span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span> & <span class=\"sc\">/</span>@SparseArray<span class=\"op\">[</span>#H<span class=\"op\">]</span> &<span class=\"op\">]</span>; </span>\n<span id=\"cb15-11\"><a href=\"#cb15-11\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/088nutsaye7yl.png\" alt=\"088nutsaye7yl\"><figcaption aria-hidden=\"true\">088nutsaye7yl</figcaption></figure>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0j7joulwrnj30.png\" alt=\"0j7joulwrnj30\"><figcaption aria-hidden=\"true\">0j7joulwrnj30</figcaption></figure>\n<pre><code>(*{7.60828, Null}*)</code></pre>\n<p><strong>Remark:</strong> LSAMon’s corresponding theory and design are<br />\ndiscussed in [AA1, AA4]:</p>\n<p>Get the representation matrix:</p>\n<div class=\"sourceCode\" id=\"cb17\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb17-1\"><a href=\"#cb17-1\" aria-hidden=\"true\"></a>W2 <span class=\"ex\">=</span> lsaAllObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonTakeW</span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1nno5c4wmc83q.png\" alt=\"1nno5c4wmc83q\"><figcaption aria-hidden=\"true\">1nno5c4wmc83q</figcaption></figure>\n<p>Get the topics matrix:</p>\n<div class=\"sourceCode\" id=\"cb18\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb18-1\"><a href=\"#cb18-1\" aria-hidden=\"true\"></a><span class=\"fu\">H</span> <span class=\"ex\">=</span> lsaAllObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonTakeH</span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1gtqe0ihshi9s.png\" alt=\"1gtqe0ihshi9s\"><figcaption aria-hidden=\"true\">1gtqe0ihshi9s</figcaption></figure>\n<p>Cluster the <strong><em>reduced dimension<br />\nrepresentations</em></strong> and show summary of the clusters<br />\nlengths:</p>\n<div class=\"sourceCode\" id=\"cb19\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb19-1\"><a href=\"#cb19-1\" aria-hidden=\"true\"></a><span class=\"fu\">AbsoluteTiming</span><span class=\"op\">[</span></span>\n<span id=\"cb19-2\"><a href=\"#cb19-2\" aria-hidden=\"true\"></a>  lsClusters <span class=\"ex\">=</span> <span class=\"fu\">FindClusters</span><span class=\"op\">[</span><span class=\"fu\">Normal</span><span class=\"op\">[</span><span class=\"fu\">SparseArray</span><span class=\"op\">[</span>W2<span class=\"op\">]]</span> <span class=\"ot\">-></span> RowNames<span class=\"op\">[</span>W2<span class=\"op\">],</span> <span class=\"dv\">40</span><span class=\"op\">,</span> <span class=\"fu\">Method</span> <span class=\"ot\">-></span> <span class=\"op\">{</span><span class=\"st\">\"KMeans\"</span><span class=\"op\">}]</span>; </span>\n<span id=\"cb19-3\"><a href=\"#cb19-3\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span>\n<span id=\"cb19-4\"><a href=\"#cb19-4\" aria-hidden=\"true\"></a>Length@lsClusters</span>\n<span id=\"cb19-5\"><a href=\"#cb19-5\" aria-hidden=\"true\"></a>ResourceFunction<span class=\"op\">[</span><span class=\"st\">\"RecordsSummary\"</span><span class=\"op\">][</span><span class=\"fu\">Length</span> <span class=\"sc\">/</span>@ lsClusters<span class=\"op\">]</span></span>\n<span id=\"cb19-6\"><a href=\"#cb19-6\" aria-hidden=\"true\"></a></span>\n<span id=\"cb19-7\"><a href=\"#cb19-7\" aria-hidden=\"true\"></a><span class=\"co\">(*{2.33331, Null}*)</span></span>\n<span id=\"cb19-8\"><a href=\"#cb19-8\" aria-hidden=\"true\"></a></span>\n<span id=\"cb19-9\"><a href=\"#cb19-9\" aria-hidden=\"true\"></a><span class=\"co\">(*40*)</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1bu5h88uiet3e.png\" alt=\"1bu5h88uiet3e\"><figcaption aria-hidden=\"true\">1bu5h88uiet3e</figcaption></figure>\n<p>Show cluster interpretations:</p>\n<div class=\"sourceCode\" id=\"cb20\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb20-1\"><a href=\"#cb20-1\" aria-hidden=\"true\"></a><span class=\"fu\">AbsoluteTiming</span><span class=\"op\">[</span>aAutoRadicals <span class=\"ex\">=</span> Association@Table<span class=\"op\">[</span><span class=\"fu\">i</span> <span class=\"ot\">-></span> TakeLargestBy<span class=\"op\">[</span><span class=\"fu\">Table</span><span class=\"op\">[</span><span class=\"fu\">ImageMultiply</span> @@ <span class=\"fu\">RandomSample</span><span class=\"op\">[</span>KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> lsClusters<span class=\"op\">[[</span><span class=\"fu\">i</span><span class=\"op\">]]],</span> UpTo<span class=\"op\">[</span><span class=\"dv\">8</span><span class=\"op\">]],</span> <span class=\"dv\">30</span><span class=\"op\">],</span> Total@ImageToVector<span class=\"op\">[</span>#<span class=\"op\">]</span> &<span class=\"op\">,</span> <span class=\"dv\">3</span><span class=\"op\">],</span> <span class=\"op\">{</span><span class=\"fu\">i</span><span class=\"op\">,</span> <span class=\"fu\">Length</span><span class=\"op\">[</span>lsClusters<span class=\"op\">]}]</span>; </span>\n<span id=\"cb20-2\"><a href=\"#cb20-2\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span>\n<span id=\"cb20-3\"><a href=\"#cb20-3\" aria-hidden=\"true\"></a>aAutoRadicals</span>\n<span id=\"cb20-4\"><a href=\"#cb20-4\" aria-hidden=\"true\"></a></span>\n<span id=\"cb20-5\"><a href=\"#cb20-5\" aria-hidden=\"true\"></a><span class=\"co\">(*{0.878406, Null}*)</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/05re59k8t4u4u.png\" alt=\"05re59k8t4u4u\"><figcaption aria-hidden=\"true\">05re59k8t4u4u</figcaption></figure>\n<h3 id=\"using-featureextraction\">Using FeatureExtraction</h3>\n<p>I experimented with clustering and approximation using WL’s function<br />\n<a href=\"https://reference.wolfram.com/language/ref/FeatureExtraction.html.en\">FeatureExtraction</a>.<br />\nResult are fairly similar as the above; timings a different (a few times<br />\nslower.)</p>\n<h2 id=\"visual-thesaurus\">Visual thesaurus</h2>\n<p>In this section we use Cosine similarity to find visual nearest<br />\nneighbors of Chinese character images.</p>\n<div class=\"sourceCode\" id=\"cb21\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb21-1\"><a href=\"#cb21-1\" aria-hidden=\"true\"></a>matPixels <span class=\"ex\">=</span> WeightTermsOfSSparseMatrix<span class=\"op\">[</span>lsaAllObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonTakeWeightedDocumentTermMatrix<span class=\"op\">,</span> <span class=\"st\">\"IDF\"</span><span class=\"op\">,</span> <span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"Cosine\"</span><span class=\"op\">]</span>;</span>\n<span id=\"cb21-2\"><a href=\"#cb21-2\" aria-hidden=\"true\"></a>matTopics <span class=\"ex\">=</span> WeightTermsOfSSparseMatrix<span class=\"op\">[</span>lsaAllObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Left</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonTakeW<span class=\"op\">,</span> <span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"Cosine\"</span><span class=\"op\">]</span>;</span></code></pre>\n</div>\n<div class=\"sourceCode\" id=\"cb22\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb22-1\"><a href=\"#cb22-1\" aria-hidden=\"true\"></a>smrObj <span class=\"ex\">=</span> SMRMonUnit<span class=\"op\">[]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>SMRMonCreate<span class=\"op\">[</span><<span class=\"sc\">|</span><span class=\"st\">\"Topic\"</span> <span class=\"ot\">-></span> matTopics<span class=\"op\">,</span> <span class=\"st\">\"Pixel\"</span> <span class=\"ot\">-></span> matPixels<span class=\"sc\">|</span>><span class=\"op\">]</span>;</span></code></pre>\n</div>\n<p>Consider the character “團”:</p>\n<div class=\"sourceCode\" id=\"cb23\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb23-1\"><a href=\"#cb23-1\" aria-hidden=\"true\"></a>aCImages<span class=\"op\">[</span><span class=\"st\">\"團\"</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0pi2u9ejqv9wd.png\" alt=\"0pi2u9ejqv9wd\"><figcaption aria-hidden=\"true\">0pi2u9ejqv9wd</figcaption></figure>\n<p>Here are the nearest neighbors for that character found by using both<br />\nimage topics and image pixels:</p>\n<div class=\"sourceCode\" id=\"cb24\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb24-1\"><a href=\"#cb24-1\" aria-hidden=\"true\"></a><span class=\"co\">(*focusItem=RandomChoice[Keys@aCImages];*)</span></span>\n<span id=\"cb24-2\"><a href=\"#cb24-2\" aria-hidden=\"true\"></a>  focusItem <span class=\"ex\">=</span> <span class=\"op\">{</span><span class=\"st\">\"團\"</span><span class=\"op\">,</span> <span class=\"st\">\"仼\"</span><span class=\"op\">,</span> <span class=\"st\">\"呔\"</span><span class=\"op\">}[[</span><span class=\"dv\">1</span><span class=\"op\">]]</span>; </span>\n<span id=\"cb24-3\"><a href=\"#cb24-3\" aria-hidden=\"true\"></a>   smrObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-4\"><a href=\"#cb24-4\" aria-hidden=\"true\"></a>     SMRMonEcho<span class=\"op\">[</span><span class=\"fu\">Style</span><span class=\"op\">[</span><span class=\"st\">\"Nearest neighbors by pixel topics:\"</span><span class=\"op\">,</span> <span class=\"fu\">Bold</span><span class=\"op\">,</span> <span class=\"fu\">Purple</span><span class=\"op\">]]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-5\"><a href=\"#cb24-5\" aria-hidden=\"true\"></a>     SMRMonSetTagTypeWeights<span class=\"op\">[</span><<span class=\"sc\">|</span><span class=\"st\">\"Topic\"</span> <span class=\"ot\">-></span> <span class=\"dv\">1</span><span class=\"op\">,</span> <span class=\"st\">\"Pixel\"</span> <span class=\"ot\">-></span> <span class=\"dv\">0</span><span class=\"sc\">|</span>><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-6\"><a href=\"#cb24-6\" aria-hidden=\"true\"></a>     SMRMonRecommend<span class=\"op\">[</span>focusItem<span class=\"op\">,</span> <span class=\"dv\">8</span><span class=\"op\">,</span> <span class=\"st\">\"RemoveHistory\"</span> <span class=\"ot\">-></span> <span class=\"cn\">False</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-7\"><a href=\"#cb24-7\" aria-hidden=\"true\"></a>     SMRMonEchoValue<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-8\"><a href=\"#cb24-8\" aria-hidden=\"true\"></a>     SMRMonEchoFunctionValue<span class=\"op\">[</span>AssociationThread<span class=\"op\">[</span>Values@KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> Keys<span class=\"op\">[</span>#<span class=\"op\">]],</span> Values<span class=\"op\">[</span>#<span class=\"op\">]]</span> &<span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-9\"><a href=\"#cb24-9\" aria-hidden=\"true\"></a>     SMRMonEcho<span class=\"op\">[</span><span class=\"fu\">Style</span><span class=\"op\">[</span><span class=\"st\">\"Nearest neighbors by pixels:\"</span><span class=\"op\">,</span> <span class=\"fu\">Bold</span><span class=\"op\">,</span> <span class=\"fu\">Purple</span><span class=\"op\">]]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-10\"><a href=\"#cb24-10\" aria-hidden=\"true\"></a>     SMRMonSetTagTypeWeights<span class=\"op\">[</span><<span class=\"sc\">|</span><span class=\"st\">\"Topic\"</span> <span class=\"ot\">-></span> <span class=\"dv\">0</span><span class=\"op\">,</span> <span class=\"st\">\"Pixel\"</span> <span class=\"ot\">-></span> <span class=\"dv\">1</span><span class=\"sc\">|</span>><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-11\"><a href=\"#cb24-11\" aria-hidden=\"true\"></a>     SMRMonRecommend<span class=\"op\">[</span>focusItem<span class=\"op\">,</span> <span class=\"dv\">8</span><span class=\"op\">,</span> <span class=\"st\">\"RemoveHistory\"</span> <span class=\"ot\">-></span> <span class=\"cn\">False</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb24-12\"><a href=\"#cb24-12\" aria-hidden=\"true\"></a>     SMRMonEchoFunctionValue<span class=\"op\">[</span>AssociationThread<span class=\"op\">[</span>Values@KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> Keys<span class=\"op\">[</span>#<span class=\"op\">]],</span> Values<span class=\"op\">[</span>#<span class=\"op\">]]</span> &<span class=\"op\">]</span>;</span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1l9yz2e8pvlyl.png\" alt=\"1l9yz2e8pvlyl\"><figcaption aria-hidden=\"true\">1l9yz2e8pvlyl</figcaption></figure>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/03bc668vzyh4v.png\" alt=\"03bc668vzyh4v\"><figcaption aria-hidden=\"true\">03bc668vzyh4v</figcaption></figure>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/00ecjkyzm4e2s.png\" alt=\"00ecjkyzm4e2s\"><figcaption aria-hidden=\"true\">00ecjkyzm4e2s</figcaption></figure>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1wsyx76kjba1g.png\" alt=\"1wsyx76kjba1g\"><figcaption aria-hidden=\"true\">1wsyx76kjba1g</figcaption></figure>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/18wdi99m1k99j.png\" alt=\"18wdi99m1k99j\"><figcaption aria-hidden=\"true\">18wdi99m1k99j</figcaption></figure>\n<p><strong>Remark:</strong> Of course, in the recommender pipeline above<br />\nwe can use both pixels and pixels topics. (With their contributions<br />\nbeing weighted.)</p>\n<h2 id=\"graph-clustering\">Graph clustering</h2>\n<p>In this section we demonstrate the use of graph communities to find<br />\nsimilar groups of Chinese characters.</p>\n<p>Here we take a sub-matrix of the reduced dimension matrix computed<br />\nabove:</p>\n<div class=\"sourceCode\" id=\"cb25\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb25-1\"><a href=\"#cb25-1\" aria-hidden=\"true\"></a><span class=\"fu\">W</span> <span class=\"ex\">=</span> lsaAllObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonTakeW;</span></code></pre>\n</div>\n<p>Here we find the similarity matrix between the characters and remove<br />\nentries corresponding to “small” similarities:</p>\n<div class=\"sourceCode\" id=\"cb26\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb26-1\"><a href=\"#cb26-1\" aria-hidden=\"true\"></a>matSym <span class=\"ex\">=</span> <span class=\"fu\">Clip</span><span class=\"op\">[</span><span class=\"fu\">W</span> . <span class=\"fu\">Transpose</span><span class=\"op\">[</span><span class=\"fu\">W</span><span class=\"op\">],</span> <span class=\"op\">{</span><span class=\"fl\">0.78</span><span class=\"op\">,</span> <span class=\"dv\">1</span><span class=\"op\">},</span> <span class=\"op\">{</span><span class=\"dv\">0</span><span class=\"op\">,</span> <span class=\"dv\">1</span><span class=\"op\">}]</span>;</span></code></pre>\n</div>\n<p>Here we plot the obtained (clipped) similarity matrix:</p>\n<div class=\"sourceCode\" id=\"cb27\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb27-1\"><a href=\"#cb27-1\" aria-hidden=\"true\"></a><span class=\"fu\">MatrixPlot</span><span class=\"op\">[</span>matSym<span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1nvdb26265li6.png\" alt=\"1nvdb26265li6\"><figcaption aria-hidden=\"true\">1nvdb26265li6</figcaption></figure>\n<p>Here we:</p>\n<ul>\n<li>Take array rules of the sparse similarity matrix</li>\n<li>Drop the rules corresponding to the diagonal elements</li>\n<li>Convert the keys of rules into uni-directed graph edges</li>\n<li>Make the corresponding graph</li>\n<li>Find graph’s connected components</li>\n<li>Show the number of connected components</li>\n<li>Show a tally of the number of nodes in the components</li>\n</ul>\n<div class=\"sourceCode\" id=\"cb28\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb28-1\"><a href=\"#cb28-1\" aria-hidden=\"true\"></a>gr <span class=\"ex\">=</span> <span class=\"fu\">Graph</span><span class=\"op\">[</span><span class=\"fu\">UndirectedEdge</span> @@@ <span class=\"fu\">DeleteCases</span><span class=\"op\">[</span><span class=\"fu\">Union</span><span class=\"op\">[</span><span class=\"fu\">Sort</span> <span class=\"sc\">/</span>@ Keys<span class=\"op\">[</span>SSparseMatrixAssociation<span class=\"op\">[</span>matSym<span class=\"op\">]]],</span> <span class=\"op\">{</span><span class=\"at\">x_</span><span class=\"op\">,</span> <span class=\"at\">x_</span><span class=\"op\">}]]</span>;</span>\n<span id=\"cb28-2\"><a href=\"#cb28-2\" aria-hidden=\"true\"></a>lsComps <span class=\"ex\">=</span> <span class=\"fu\">ConnectedComponents</span><span class=\"op\">[</span>gr<span class=\"op\">]</span>;</span>\n<span id=\"cb28-3\"><a href=\"#cb28-3\" aria-hidden=\"true\"></a><span class=\"fu\">Length</span><span class=\"op\">[</span>lsComps<span class=\"op\">]</span></span>\n<span id=\"cb28-4\"><a href=\"#cb28-4\" aria-hidden=\"true\"></a>ReverseSortBy<span class=\"op\">[</span><span class=\"fu\">Tally</span><span class=\"op\">[</span><span class=\"fu\">Length</span> <span class=\"sc\">/</span>@ lsComps<span class=\"op\">],</span> <span class=\"fu\">First</span><span class=\"op\">]</span></span>\n<span id=\"cb28-5\"><a href=\"#cb28-5\" aria-hidden=\"true\"></a></span>\n<span id=\"cb28-6\"><a href=\"#cb28-6\" aria-hidden=\"true\"></a><span class=\"co\">(*138*)</span></span>\n<span id=\"cb28-7\"><a href=\"#cb28-7\" aria-hidden=\"true\"></a></span>\n<span id=\"cb28-8\"><a href=\"#cb28-8\" aria-hidden=\"true\"></a><span class=\"co\">(*{{1839, 1}, {31, 1}, {27, 1}, {16, 1}, {11, 2}, {9, 2}, {8, 1}, {7, 1}, {6, 5}, {5, 3}, {4, 8}, {3, 14}, {2, 98}}*)</span></span></code></pre>\n</div>\n<p>Here we demonstrate the clusters of Chinese characters make<br />\nsense:</p>\n<div class=\"sourceCode\" id=\"cb29\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb29-1\"><a href=\"#cb29-1\" aria-hidden=\"true\"></a>aPrettyRules <span class=\"ex\">=</span> <span class=\"fu\">Dispatch</span><span class=\"op\">[</span><span class=\"fu\">Map</span><span class=\"op\">[</span># <span class=\"ot\">-></span> <span class=\"fu\">Style</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">FontSize</span> <span class=\"ot\">-></span> <span class=\"dv\">36</span><span class=\"op\">]</span> &<span class=\"op\">,</span> Keys<span class=\"op\">[</span>aCImages<span class=\"op\">]]]</span>; CommunityGraphPlot<span class=\"op\">[</span><span class=\"fu\">Subgraph</span><span class=\"op\">[</span>gr<span class=\"op\">,</span> TakeLargestBy<span class=\"op\">[</span>lsComps<span class=\"op\">,</span> <span class=\"fu\">Length</span><span class=\"op\">,</span> <span class=\"dv\">10</span><span class=\"op\">][[</span><span class=\"dv\">2</span><span class=\"op\">]]],</span> <span class=\"fu\">Method</span> <span class=\"ot\">-></span> <span class=\"st\">\"SpringElectrical\"</span><span class=\"op\">,</span> <span class=\"fu\">VertexLabels</span> <span class=\"ot\">-></span> <span class=\"fu\">Placed</span><span class=\"op\">[</span><span class=\"st\">\"Name\"</span><span class=\"op\">,</span> Above<span class=\"op\">],</span><span class=\"fu\">AspectRatio</span> <span class=\"ot\">-></span> <span class=\"dv\">1</span><span class=\"op\">,</span> <span class=\"fu\">ImageSize</span> <span class=\"ot\">-></span> <span class=\"dv\">1000</span><span class=\"op\">]</span> <span class=\"ot\">/.</span> aPrettyRules</span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1c0w4uhnyn2jx.png\" alt=\"1c0w4uhnyn2jx\"><figcaption aria-hidden=\"true\">1c0w4uhnyn2jx</figcaption></figure>\n<p><strong>Remark:</strong> By careful observation of the clusters and<br />\ngraph connections we can convince ourselves that the similarities are<br />\nbased on pictorial sub-elements (i.e.&nbsp;radicals) of the characters.</p>\n<h2 id=\"hierarchical-clustering\">Hierarchical clustering</h2>\n<p>In this section we apply hierarchical clustering to the reduced<br />\ndimension representation of the Chinese character images.</p>\n<p>Here we pick a cluster:</p>\n<div class=\"sourceCode\" id=\"cb30\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb30-1\"><a href=\"#cb30-1\" aria-hidden=\"true\"></a>lsFocusIDs <span class=\"ex\">=</span> lsClusters<span class=\"op\">[[</span><span class=\"dv\">12</span><span class=\"op\">]]</span>;</span>\n<span id=\"cb30-2\"><a href=\"#cb30-2\" aria-hidden=\"true\"></a><span class=\"fu\">Magnify</span><span class=\"op\">[</span>ImageCollage<span class=\"op\">[</span>Values<span class=\"op\">[</span>KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> lsFocusIDs<span class=\"op\">]]],</span> <span class=\"fl\">0.4</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/14cnicsw2rvrt.png\" alt=\"14cnicsw2rvrt\"><figcaption aria-hidden=\"true\">14cnicsw2rvrt</figcaption></figure>\n<p>Here is how we can make a dendrogram plot (not that useful here):</p>\n<div class=\"sourceCode\" id=\"cb31\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb31-1\"><a href=\"#cb31-1\" aria-hidden=\"true\"></a><span class=\"co\">(*smat=W2\\[LeftDoubleBracket]lsClusters\\[LeftDoubleBracket]13\\[RightDoubleBracket],All\\[RightDoubleBracket];</span></span>\n<span id=\"cb31-2\"><a href=\"#cb31-2\" aria-hidden=\"true\"></a><span class=\"co\">Dendrogram[Thread[Normal[SparseArray[smat]]->Map[Style[#,FontSize->16]&,RowNames[smat]]],Top,DistanceFunction->EuclideanDistance]*)</span></span></code></pre>\n</div>\n<p>Here is a heat-map plot with hierarchical clustering dendrogram (with<br />\ntool-tips):</p>\n<div class=\"sourceCode\" id=\"cb32\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb32-1\"><a href=\"#cb32-1\" aria-hidden=\"true\"></a>gr <span class=\"ex\">=</span> HeatmapPlot<span class=\"op\">[</span>W2<span class=\"op\">[[</span>lsFocusIDs<span class=\"op\">,</span> <span class=\"cn\">All</span><span class=\"op\">]],</span> <span class=\"fu\">DistanceFunction</span> <span class=\"ot\">-></span> <span class=\"op\">{</span><span class=\"fu\">CosineDistance</span><span class=\"op\">,</span> <span class=\"cn\">None</span><span class=\"op\">},</span> Dendrogram <span class=\"ot\">-></span> <span class=\"op\">{</span><span class=\"cn\">True</span><span class=\"op\">,</span> <span class=\"cn\">False</span><span class=\"op\">}]</span>;</span>\n<span id=\"cb32-2\"><a href=\"#cb32-2\" aria-hidden=\"true\"></a>gr <span class=\"ot\">/.</span> <span class=\"fu\">Map</span><span class=\"op\">[</span># <span class=\"ot\">-></span> <span class=\"fu\">Tooltip</span><span class=\"op\">[</span><span class=\"fu\">Style</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">FontSize</span> <span class=\"ot\">-></span> <span class=\"dv\">16</span><span class=\"op\">],</span> <span class=\"fu\">Style</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">Bold</span><span class=\"op\">,</span> <span class=\"fu\">FontSize</span> <span class=\"ot\">-></span> <span class=\"dv\">36</span><span class=\"op\">]]</span> &<span class=\"op\">,</span> lsFocusIDs<span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0vz82un57054q.png\" alt=\"0vz82un57054q\"><figcaption aria-hidden=\"true\">0vz82un57054q</figcaption></figure>\n<p><strong>Remark:</strong> The plot above has tooltips with larger<br />\ncharacter images.</p>\n<h2 id=\"representing-all-characters-with-smaller-set-of-basic-ones\">Representing<br />\nall characters with smaller set of basic ones</h2>\n<p>In this section we demonstrate that a relatively small set of simpler<br />\nChinese character images can be used to represent (or approxumate) the<br />\nrest of the images.</p>\n<p><strong>Remark:</strong> We use the following heuristic: the simpler<br />\nChinese characters have the smallest amount of white pixels.</p>\n<p>Obtain a training set of images – that are the darkest – and show a<br />\nsample of that set :</p>\n<div class=\"sourceCode\" id=\"cb33\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb33-1\"><a href=\"#cb33-1\" aria-hidden=\"true\"></a><span class=\"op\">{</span>trainingInds<span class=\"op\">,</span> testingInds<span class=\"op\">}</span> <span class=\"ex\">=</span> TakeDrop<span class=\"op\">[</span>Keys<span class=\"op\">[</span><span class=\"fu\">SortBy</span><span class=\"op\">[</span>aCImages<span class=\"op\">,</span> <span class=\"fu\">Total</span><span class=\"op\">[</span>ImageToVector<span class=\"op\">[</span>#<span class=\"op\">]]</span> &<span class=\"op\">]],</span> <span class=\"dv\">800</span><span class=\"op\">]</span>;</span>\n<span id=\"cb33-2\"><a href=\"#cb33-2\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">3</span><span class=\"op\">]</span>;</span>\n<span id=\"cb33-3\"><a href=\"#cb33-3\" aria-hidden=\"true\"></a><span class=\"fu\">RandomSample</span><span class=\"op\">[</span>KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> trainingInds<span class=\"op\">],</span> <span class=\"dv\">12</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/10275rv8gn1qt.png\" alt=\"10275rv8gn1qt\"><figcaption aria-hidden=\"true\">10275rv8gn1qt</figcaption></figure>\n<p>Show all training characters with an image collage:</p>\n<div class=\"sourceCode\" id=\"cb34\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb34-1\"><a href=\"#cb34-1\" aria-hidden=\"true\"></a><span class=\"fu\">Magnify</span><span class=\"op\">[</span>ImageCollage<span class=\"op\">[</span>Values<span class=\"op\">[</span>KeyTake<span class=\"op\">[</span>aCImages<span class=\"op\">,</span> trainingInds<span class=\"op\">]],</span> <span class=\"fu\">Background</span> <span class=\"ot\">-></span> <span class=\"fu\">Gray</span><span class=\"op\">,</span> <span class=\"fu\">ImagePadding</span> <span class=\"ot\">-></span> <span class=\"dv\">1</span><span class=\"op\">],</span> <span class=\"fl\">0.4</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/049bs0w0x26jw.png\" alt=\"049bs0w0x26jw\"><figcaption aria-hidden=\"true\">049bs0w0x26jw</figcaption></figure>\n<p>Apply LSA monadic pipeline with the training characters only:</p>\n<div class=\"sourceCode\" id=\"cb35\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb35-1\"><a href=\"#cb35-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">77</span><span class=\"op\">]</span>;</span>\n<span id=\"cb35-2\"><a href=\"#cb35-2\" aria-hidden=\"true\"></a><span class=\"fu\">AbsoluteTiming</span><span class=\"op\">[</span></span>\n<span id=\"cb35-3\"><a href=\"#cb35-3\" aria-hidden=\"true\"></a>  lsaPartialObj <span class=\"ex\">=</span> </span>\n<span id=\"cb35-4\"><a href=\"#cb35-4\" aria-hidden=\"true\"></a>    LSAMonUnit<span class=\"op\">[]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb35-5\"><a href=\"#cb35-5\" aria-hidden=\"true\"></a>     LSAMonSetDocumentTermMatrix<span class=\"op\">[</span><span class=\"fu\">SparseArray</span><span class=\"op\">[</span>Values@KeyTake<span class=\"op\">[</span>aCImageVecs<span class=\"op\">,</span> trainingInds<span class=\"op\">]]]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb35-6\"><a href=\"#cb35-6\" aria-hidden=\"true\"></a>     LSAMonApplyTermWeightFunctions<span class=\"op\">[</span><span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"Cosine\"</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb35-7\"><a href=\"#cb35-7\" aria-hidden=\"true\"></a>     LSAMonExtractTopics<span class=\"op\">[</span><span class=\"st\">\"NumberOfTopics\"</span> <span class=\"ot\">-></span> <span class=\"dv\">80</span><span class=\"op\">,</span> <span class=\"fu\">Method</span> <span class=\"ot\">-></span> <span class=\"st\">\"SVD\"</span><span class=\"op\">,</span> <span class=\"st\">\"MaxSteps\"</span> <span class=\"ot\">-></span> <span class=\"dv\">120</span><span class=\"op\">,</span> <span class=\"st\">\"MinNumberOfDocumentsPerTerm\"</span> <span class=\"ot\">-></span> <span class=\"dv\">0</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb35-8\"><a href=\"#cb35-8\" aria-hidden=\"true\"></a>     LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb35-9\"><a href=\"#cb35-9\" aria-hidden=\"true\"></a>     LSAMonEcho<span class=\"op\">[</span><span class=\"fu\">Style</span><span class=\"op\">[</span><span class=\"st\">\"Obtained basis:\"</span><span class=\"op\">,</span> <span class=\"fu\">Bold</span><span class=\"op\">,</span> <span class=\"fu\">Purple</span><span class=\"op\">]]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb35-10\"><a href=\"#cb35-10\" aria-hidden=\"true\"></a>     LSAMonEchoFunctionContext<span class=\"op\">[</span><span class=\"fu\">ImageAdjust</span><span class=\"op\">[</span><span class=\"fu\">Image</span><span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span> & <span class=\"sc\">/</span>@SparseArray<span class=\"op\">[</span>#H<span class=\"op\">]</span> &<span class=\"op\">]</span>; </span>\n<span id=\"cb35-11\"><a href=\"#cb35-11\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0i509m9n2d2p8.png\" alt=\"0i509m9n2d2p8\"><figcaption aria-hidden=\"true\">0i509m9n2d2p8</figcaption></figure>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1raokwq750nyi.png\" alt=\"1raokwq750nyi\"><figcaption aria-hidden=\"true\">1raokwq750nyi</figcaption></figure>\n<pre><code>(*{0.826489, Null}*)</code></pre>\n<p>Get the matrix and basis interpretation of the extracted image<br />\ntopics:</p>\n<div class=\"sourceCode\" id=\"cb37\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb37-1\"><a href=\"#cb37-1\" aria-hidden=\"true\"></a><span class=\"fu\">H</span> <span class=\"ex\">=</span> </span>\n<span id=\"cb37-2\"><a href=\"#cb37-2\" aria-hidden=\"true\"></a>   lsaPartialObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb37-3\"><a href=\"#cb37-3\" aria-hidden=\"true\"></a>    LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb37-4\"><a href=\"#cb37-4\" aria-hidden=\"true\"></a>    LSAMonTakeH;</span>\n<span id=\"cb37-5\"><a href=\"#cb37-5\" aria-hidden=\"true\"></a>lsBasis <span class=\"ex\">=</span> <span class=\"fu\">ImageAdjust</span><span class=\"op\">[</span><span class=\"fu\">Image</span><span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span> & <span class=\"sc\">/</span>@ <span class=\"fu\">SparseArray</span><span class=\"op\">[</span><span class=\"fu\">H</span><span class=\"op\">]</span>;</span></code></pre>\n</div>\n<h3 id=\"approximation-of-unseen-characters\">Approximation of “unseen”<br />\ncharacters</h3>\n<p>Pick a Chinese character image as a target image and pre-process<br />\nit:</p>\n<div class=\"sourceCode\" id=\"cb38\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb38-1\"><a href=\"#cb38-1\" aria-hidden=\"true\"></a>ind <span class=\"ex\">=</span> <span class=\"fu\">RandomChoice</span><span class=\"op\">[</span>testingInds<span class=\"op\">]</span>;</span>\n<span id=\"cb38-2\"><a href=\"#cb38-2\" aria-hidden=\"true\"></a>imgTest <span class=\"ex\">=</span> aCImages<span class=\"op\">[</span>ind<span class=\"op\">]</span>;</span>\n<span id=\"cb38-3\"><a href=\"#cb38-3\" aria-hidden=\"true\"></a>matImageTest <span class=\"ex\">=</span> ToSSparseMatrix<span class=\"op\">[</span>SparseArray@List@ImageToVector<span class=\"op\">[</span>imgTest<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]]],</span> <span class=\"st\">\"RowNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">,</span> <span class=\"st\">\"ColumnNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">]</span>;</span>\n<span id=\"cb38-4\"><a href=\"#cb38-4\" aria-hidden=\"true\"></a>imgTest</span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/15qkrj0nw08mv.png\" alt=\"15qkrj0nw08mv\"><figcaption aria-hidden=\"true\">15qkrj0nw08mv</figcaption></figure>\n<p>Find its representation with the chosen feature extractor (LSAMon<br />\nobject here):</p>\n<div class=\"sourceCode\" id=\"cb39\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb39-1\"><a href=\"#cb39-1\" aria-hidden=\"true\"></a>matReprsentation <span class=\"ex\">=</span> lsaPartialObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonRepresentByTopics<span class=\"op\">[</span>matImageTest<span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonTakeValue;</span>\n<span id=\"cb39-2\"><a href=\"#cb39-2\" aria-hidden=\"true\"></a>lsCoeff <span class=\"ex\">=</span> Normal@SparseArray<span class=\"op\">[</span>matReprsentation<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">,</span> <span class=\"cn\">All</span><span class=\"op\">]]]</span>;</span>\n<span id=\"cb39-3\"><a href=\"#cb39-3\" aria-hidden=\"true\"></a><span class=\"fu\">ListPlot</span><span class=\"op\">[</span><span class=\"fu\">MapIndexed</span><span class=\"op\">[</span><span class=\"fu\">Tooltip</span><span class=\"op\">[</span>#<span class=\"dv\">1</span><span class=\"op\">,</span> lsBasis<span class=\"op\">[[</span>#<span class=\"dv\">2</span><span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span> &<span class=\"op\">,</span> lsCoeff<span class=\"op\">],</span> <span class=\"fu\">Filling</span> <span class=\"ot\">-></span> <span class=\"fu\">Axis</span><span class=\"op\">,</span> <span class=\"fu\">PlotRange</span> <span class=\"ot\">-></span> <span class=\"cn\">All</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0cn7ty6zf3mgo.png\" alt=\"0cn7ty6zf3mgo\"><figcaption aria-hidden=\"true\">0cn7ty6zf3mgo</figcaption></figure>\n<p>Show representation coefficients outliers:</p>\n<div class=\"sourceCode\" id=\"cb40\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb40-1\"><a href=\"#cb40-1\" aria-hidden=\"true\"></a>lsBasis<span class=\"op\">[[</span>OutlierPosition<span class=\"op\">[</span><span class=\"fu\">Abs</span><span class=\"op\">[</span>lsCoeff<span class=\"op\">],</span> TopOutliers@<span class=\"sc\">*</span>HampelIdentifierParameters<span class=\"op\">]]]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1w6jkhdpxlxw8.png\" alt=\"1w6jkhdpxlxw8\"><figcaption aria-hidden=\"true\">1w6jkhdpxlxw8</figcaption></figure>\n<p>Show the interpretation of the found representation:</p>\n<div class=\"sourceCode\" id=\"cb41\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb41-1\"><a href=\"#cb41-1\" aria-hidden=\"true\"></a>vecReprsentation <span class=\"ex\">=</span> lsCoeff . <span class=\"fu\">SparseArray</span><span class=\"op\">[</span><span class=\"fu\">H</span><span class=\"op\">]</span>;</span>\n<span id=\"cb41-2\"><a href=\"#cb41-2\" aria-hidden=\"true\"></a>reprImg <span class=\"ex\">=</span> <span class=\"fu\">Image</span><span class=\"op\">[</span>Unitize@Clip<span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"op\">{</span><span class=\"fl\">0.45</span><span class=\"op\">,</span> <span class=\"dv\">1</span><span class=\"op\">},</span> <span class=\"op\">{</span><span class=\"dv\">0</span><span class=\"op\">,</span> <span class=\"dv\">1</span><span class=\"op\">}]</span> &@Rescale<span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>vecReprsentation<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span>;</span>\n<span id=\"cb41-3\"><a href=\"#cb41-3\" aria-hidden=\"true\"></a><span class=\"op\">{</span>reprImg<span class=\"op\">,</span> imgTest<span class=\"op\">}</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0c84q1hscjubu.png\" alt=\"0c84q1hscjubu\"><figcaption aria-hidden=\"true\">0c84q1hscjubu</figcaption></figure>\n<p>See the closest characters using image distances:</p>\n<div class=\"sourceCode\" id=\"cb42\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb42-1\"><a href=\"#cb42-1\" aria-hidden=\"true\"></a>KeyMap<span class=\"op\">[</span># <span class=\"ot\">/.</span> aCImages &<span class=\"op\">,</span> TakeSmallest<span class=\"op\">[</span>ImageDistance<span class=\"op\">[</span>reprImg<span class=\"op\">,</span> #<span class=\"op\">]</span> & <span class=\"sc\">/</span>@ aCImages<span class=\"op\">,</span> <span class=\"dv\">4</span><span class=\"op\">]]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1vtcw1dhzlet5.png\" alt=\"1vtcw1dhzlet5\"><figcaption aria-hidden=\"true\">1vtcw1dhzlet5</figcaption></figure>\n<p><strong>Remark:</strong> By applying the approximation procedure to<br />\nall characters in testing set we can convince ourselves that small,<br />\ntraining set provides good retrieval. (Not done here.)</p>\n<h2 id=\"finding-more-interpretable-bases\">Finding more interpretable<br />\nbases</h2>\n<p>In this section we show how to use LSA workflow with <a href=\"https://resources.wolframcloud.com/FunctionRepository/resources/NonNegativeMatrixFactorization\">Non-Negative<br />\nMatrix Factorization (NNMF)</a> over an image set extended with already<br />\nextracted “topic” images.</p>\n<h3 id=\"cleaner-automatic-radicals\">Cleaner automatic radicals</h3>\n<div class=\"sourceCode\" id=\"cb43\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb43-1\"><a href=\"#cb43-1\" aria-hidden=\"true\"></a>aAutoRadicals2 <span class=\"ex\">=</span> <span class=\"fu\">Map</span><span class=\"op\">[</span><span class=\"fu\">Dilation</span><span class=\"op\">[</span><span class=\"fu\">Binarize</span><span class=\"op\">[</span><span class=\"fu\">DeleteSmallComponents</span><span class=\"op\">[</span>#<span class=\"op\">]],</span> <span class=\"fl\">0.5</span><span class=\"op\">]</span> &<span class=\"op\">,</span> <span class=\"fu\">First</span> <span class=\"sc\">/</span>@ aAutoRadicals<span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/10eg2eaajgiit.png\" alt=\"10eg2eaajgiit\"><figcaption aria-hidden=\"true\">10eg2eaajgiit</figcaption></figure>\n<p>Here we take an image union in order to remove the “duplicated”<br />\nradicals:</p>\n<div class=\"sourceCode\" id=\"cb44\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb44-1\"><a href=\"#cb44-1\" aria-hidden=\"true\"></a>aAutoRadicals3 <span class=\"ex\">=</span> AssociationThread<span class=\"op\">[</span><span class=\"fu\">Range</span><span class=\"op\">[</span><span class=\"fu\">Length</span><span class=\"op\">[</span>#<span class=\"op\">]],</span> #<span class=\"op\">]</span> &@Union<span class=\"op\">[</span>Values<span class=\"op\">[</span>aAutoRadicals2<span class=\"op\">],</span> <span class=\"fu\">SameTest</span> <span class=\"ot\">-></span> (ImageDistance<span class=\"op\">[</span>#<span class=\"dv\">1</span><span class=\"op\">,</span> #<span class=\"dv\">2</span><span class=\"op\">]</span> < <span class=\"fl\">14.5</span> &)<span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1t09xi5nlycaw.png\" alt=\"1t09xi5nlycaw\"><figcaption aria-hidden=\"true\">1t09xi5nlycaw</figcaption></figure>\n<h3 id=\"lsamon-pipeline-with-nnmf\">LSAMon pipeline with NNMF</h3>\n<p>Make a matrix with named rows and columns from the image vectors:</p>\n<div class=\"sourceCode\" id=\"cb45\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb45-1\"><a href=\"#cb45-1\" aria-hidden=\"true\"></a>mat1 <span class=\"ex\">=</span> ToSSparseMatrix<span class=\"op\">[</span><span class=\"fu\">SparseArray</span><span class=\"op\">[</span>Values@aCImageVecs<span class=\"op\">],</span> <span class=\"st\">\"RowNames\"</span> <span class=\"ot\">-></span> Keys<span class=\"op\">[</span>aCImageVecs<span class=\"op\">],</span> <span class=\"st\">\"ColumnNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/0np1umfcks9hm.png\" alt=\"0np1umfcks9hm\"><figcaption aria-hidden=\"true\">0np1umfcks9hm</figcaption></figure>\n<p>Enhance the matrix with radicals instances:</p>\n<div class=\"sourceCode\" id=\"cb46\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb46-1\"><a href=\"#cb46-1\" aria-hidden=\"true\"></a>mat2 <span class=\"ex\">=</span> ToSSparseMatrix<span class=\"op\">[</span><span class=\"fu\">SparseArray</span><span class=\"op\">[</span><span class=\"fu\">Join</span> @@ <span class=\"fu\">Map</span><span class=\"op\">[</span><span class=\"fu\">Table</span><span class=\"op\">[</span>ImageToVector<span class=\"op\">[</span>#<span class=\"op\">],</span> <span class=\"dv\">100</span><span class=\"op\">]</span> &<span class=\"op\">,</span> Values<span class=\"op\">[</span>aAutoRadicals3<span class=\"op\">]]],</span> <span class=\"st\">\"RowNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">,</span> <span class=\"st\">\"ColumnNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">]</span>;</span>\n<span id=\"cb46-2\"><a href=\"#cb46-2\" aria-hidden=\"true\"></a>mat3 <span class=\"ex\">=</span> RowBind<span class=\"op\">[</span>mat1<span class=\"op\">,</span> mat2<span class=\"op\">]</span>;</span></code></pre>\n</div>\n<p>Apply the LSAMon workflow pipeline with NNMF for topic<br />\nextraction:</p>\n<div class=\"sourceCode\" id=\"cb47\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb47-1\"><a href=\"#cb47-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">77</span><span class=\"op\">]</span>;</span>\n<span id=\"cb47-2\"><a href=\"#cb47-2\" aria-hidden=\"true\"></a><span class=\"fu\">AbsoluteTiming</span><span class=\"op\">[</span></span>\n<span id=\"cb47-3\"><a href=\"#cb47-3\" aria-hidden=\"true\"></a>  lsaAllExtendedObj <span class=\"ex\">=</span> </span>\n<span id=\"cb47-4\"><a href=\"#cb47-4\" aria-hidden=\"true\"></a>    LSAMonUnit<span class=\"op\">[]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb47-5\"><a href=\"#cb47-5\" aria-hidden=\"true\"></a>     LSAMonSetDocumentTermMatrix<span class=\"op\">[</span>mat3<span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb47-6\"><a href=\"#cb47-6\" aria-hidden=\"true\"></a>     LSAMonApplyTermWeightFunctions<span class=\"op\">[</span><span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"None\"</span><span class=\"op\">,</span> <span class=\"st\">\"Cosine\"</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb47-7\"><a href=\"#cb47-7\" aria-hidden=\"true\"></a>     LSAMonExtractTopics<span class=\"op\">[</span><span class=\"st\">\"NumberOfTopics\"</span> <span class=\"ot\">-></span> <span class=\"dv\">60</span><span class=\"op\">,</span> <span class=\"fu\">Method</span> <span class=\"ot\">-></span> <span class=\"st\">\"NNMF\"</span><span class=\"op\">,</span> <span class=\"st\">\"MaxSteps\"</span> <span class=\"ot\">-></span> <span class=\"dv\">15</span><span class=\"op\">,</span> <span class=\"st\">\"MinNumberOfDocumentsPerTerm\"</span> <span class=\"ot\">-></span> <span class=\"dv\">0</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb47-8\"><a href=\"#cb47-8\" aria-hidden=\"true\"></a>     LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb47-9\"><a href=\"#cb47-9\" aria-hidden=\"true\"></a>     LSAMonEcho<span class=\"op\">[</span><span class=\"fu\">Style</span><span class=\"op\">[</span><span class=\"st\">\"Obtained basis:\"</span><span class=\"op\">,</span> <span class=\"fu\">Bold</span><span class=\"op\">,</span> <span class=\"fu\">Purple</span><span class=\"op\">]]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb47-10\"><a href=\"#cb47-10\" aria-hidden=\"true\"></a>     LSAMonEchoFunctionContext<span class=\"op\">[</span><span class=\"fu\">ImageAdjust</span><span class=\"op\">[</span><span class=\"fu\">Image</span><span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span> & <span class=\"sc\">/</span>@SparseArray<span class=\"op\">[</span>#H<span class=\"op\">]</span> &<span class=\"op\">]</span>; </span>\n<span id=\"cb47-11\"><a href=\"#cb47-11\" aria-hidden=\"true\"></a> <span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1mc1fa16ylzcu.png\" alt=\"1mc1fa16ylzcu\"><figcaption aria-hidden=\"true\">1mc1fa16ylzcu</figcaption></figure>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1c6p7pzemk6qx.png\" alt=\"1c6p7pzemk6qx\"><figcaption aria-hidden=\"true\">1c6p7pzemk6qx</figcaption></figure>\n<pre><code>(*{155.289, Null}*)</code></pre>\n<p><strong>Remark:</strong> Note that NNMF “found” the interpretable<br />\nradical images we enhanced the original image set with.</p>\n<p>Get the matrix and basis interpretation of the extracted image<br />\ntopics:</p>\n<div class=\"sourceCode\" id=\"cb49\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb49-1\"><a href=\"#cb49-1\" aria-hidden=\"true\"></a><span class=\"fu\">H</span> <span class=\"ex\">=</span> </span>\n<span id=\"cb49-2\"><a href=\"#cb49-2\" aria-hidden=\"true\"></a>   lsaAllExtendedObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb49-3\"><a href=\"#cb49-3\" aria-hidden=\"true\"></a>    LSAMonNormalizeMatrixProduct<span class=\"op\">[</span>Normalized <span class=\"ot\">-></span> <span class=\"fu\">Right</span><span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span></span>\n<span id=\"cb49-4\"><a href=\"#cb49-4\" aria-hidden=\"true\"></a>    LSAMonTakeH;</span>\n<span id=\"cb49-5\"><a href=\"#cb49-5\" aria-hidden=\"true\"></a>lsBasis <span class=\"ex\">=</span> <span class=\"fu\">ImageAdjust</span><span class=\"op\">[</span><span class=\"fu\">Image</span><span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span> & <span class=\"sc\">/</span>@ <span class=\"fu\">SparseArray</span><span class=\"op\">[</span><span class=\"fu\">H</span><span class=\"op\">]</span>;</span></code></pre>\n</div>\n<h3 id=\"approximation\">Approximation</h3>\n<p>Pick a Chinese character image as a target image and pre-process<br />\nit:</p>\n<div class=\"sourceCode\" id=\"cb50\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb50-1\"><a href=\"#cb50-1\" aria-hidden=\"true\"></a><span class=\"fu\">SeedRandom</span><span class=\"op\">[</span><span class=\"dv\">43</span><span class=\"op\">]</span>;</span>\n<span id=\"cb50-2\"><a href=\"#cb50-2\" aria-hidden=\"true\"></a>ind <span class=\"ex\">=</span> <span class=\"fu\">RandomChoice</span><span class=\"op\">[</span>testingInds<span class=\"op\">]</span>;</span>\n<span id=\"cb50-3\"><a href=\"#cb50-3\" aria-hidden=\"true\"></a>imgTest <span class=\"ex\">=</span> aCImages<span class=\"op\">[</span>ind<span class=\"op\">]</span>;</span>\n<span id=\"cb50-4\"><a href=\"#cb50-4\" aria-hidden=\"true\"></a>matImageTest <span class=\"ex\">=</span> ToSSparseMatrix<span class=\"op\">[</span>SparseArray@List@ImageToVector<span class=\"op\">[</span>imgTest<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]]],</span> <span class=\"st\">\"RowNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">,</span> <span class=\"st\">\"ColumnNames\"</span> <span class=\"ot\">-></span> <span class=\"cn\">Automatic</span><span class=\"op\">]</span>;</span>\n<span id=\"cb50-5\"><a href=\"#cb50-5\" aria-hidden=\"true\"></a>imgTest</span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1h2aitm71mnl5.png\" alt=\"1h2aitm71mnl5\"><figcaption aria-hidden=\"true\">1h2aitm71mnl5</figcaption></figure>\n<p>Find its representation with the chosen feature extractor (LSAMon<br />\nobject here):</p>\n<div class=\"sourceCode\" id=\"cb51\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb51-1\"><a href=\"#cb51-1\" aria-hidden=\"true\"></a>matReprsentation <span class=\"ex\">=</span> lsaAllExtendedObj<span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonRepresentByTopics<span class=\"op\">[</span>matImageTest<span class=\"op\">]</span><span class=\"sc\">\\</span><span class=\"op\">[</span><span class=\"fu\">DoubleLongRightArrow</span><span class=\"op\">]</span>LSAMonTakeValue;</span>\n<span id=\"cb51-2\"><a href=\"#cb51-2\" aria-hidden=\"true\"></a>lsCoeff <span class=\"ex\">=</span> Normal@SparseArray<span class=\"op\">[</span>matReprsentation<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">,</span> <span class=\"cn\">All</span><span class=\"op\">]]]</span>;</span>\n<span id=\"cb51-3\"><a href=\"#cb51-3\" aria-hidden=\"true\"></a><span class=\"fu\">ListPlot</span><span class=\"op\">[</span><span class=\"fu\">MapIndexed</span><span class=\"op\">[</span><span class=\"fu\">Tooltip</span><span class=\"op\">[</span>#<span class=\"dv\">1</span><span class=\"op\">,</span> lsBasis<span class=\"op\">[[</span>#<span class=\"dv\">2</span><span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span> &<span class=\"op\">,</span> lsCoeff<span class=\"op\">],</span> <span class=\"fu\">Filling</span> <span class=\"ot\">-></span> <span class=\"fu\">Axis</span><span class=\"op\">,</span> <span class=\"fu\">PlotRange</span> <span class=\"ot\">-></span> <span class=\"cn\">All</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/084vbifk2zvi3.png\" alt=\"084vbifk2zvi3\"><figcaption aria-hidden=\"true\">084vbifk2zvi3</figcaption></figure>\n<p>Show representation coefficients outliers:</p>\n<div class=\"sourceCode\" id=\"cb52\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb52-1\"><a href=\"#cb52-1\" aria-hidden=\"true\"></a>lsBasis<span class=\"op\">[[</span>OutlierPosition<span class=\"op\">[</span><span class=\"fu\">Abs</span><span class=\"op\">[</span>lsCoeff<span class=\"op\">],</span> TopOutliers@<span class=\"sc\">*</span>QuartileIdentifierParameters<span class=\"op\">]]]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/06xq4p3k31fzt.png\" alt=\"06xq4p3k31fzt\"><figcaption aria-hidden=\"true\">06xq4p3k31fzt</figcaption></figure>\n<p><strong>Remark:</strong> Note that <strong><em>expected</em></strong><br />\nradical images are in the outliers.</p>\n<p>Show the interpretation of the found representation:</p>\n<div class=\"sourceCode\" id=\"cb53\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb53-1\"><a href=\"#cb53-1\" aria-hidden=\"true\"></a>vecReprsentation <span class=\"ex\">=</span> lsCoeff . <span class=\"fu\">SparseArray</span><span class=\"op\">[</span><span class=\"fu\">H</span><span class=\"op\">]</span>;</span>\n<span id=\"cb53-2\"><a href=\"#cb53-2\" aria-hidden=\"true\"></a>reprImg <span class=\"ex\">=</span> <span class=\"fu\">Image</span><span class=\"op\">[</span>Unitize@Clip<span class=\"op\">[</span>#<span class=\"op\">,</span> <span class=\"op\">{</span><span class=\"fl\">0.45</span><span class=\"op\">,</span> <span class=\"dv\">1</span><span class=\"op\">},</span> <span class=\"op\">{</span><span class=\"dv\">0</span><span class=\"op\">,</span> <span class=\"dv\">1</span><span class=\"op\">}]</span> &@Rescale<span class=\"op\">[</span><span class=\"fu\">Partition</span><span class=\"op\">[</span>vecReprsentation<span class=\"op\">,</span> <span class=\"fu\">ImageDimensions</span><span class=\"op\">[</span>aCImages<span class=\"op\">[[</span><span class=\"dv\">1</span><span class=\"op\">]]][[</span><span class=\"dv\">1</span><span class=\"op\">]]]]]</span>;</span>\n<span id=\"cb53-3\"><a href=\"#cb53-3\" aria-hidden=\"true\"></a><span class=\"op\">{</span>reprImg<span class=\"op\">,</span> imgTest<span class=\"op\">}</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/01xeidbc9qme6.png\" alt=\"01xeidbc9qme6\"><figcaption aria-hidden=\"true\">01xeidbc9qme6</figcaption></figure>\n<p>See the closest characters using image distances:</p>\n<div class=\"sourceCode\" id=\"cb54\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb54-1\"><a href=\"#cb54-1\" aria-hidden=\"true\"></a>KeyMap<span class=\"op\">[</span># <span class=\"ot\">/.</span> aCImages &<span class=\"op\">,</span> TakeSmallest<span class=\"op\">[</span>ImageDistance<span class=\"op\">[</span>reprImg<span class=\"op\">,</span> #<span class=\"op\">]</span> & <span class=\"sc\">/</span>@ aCImages<span class=\"op\">,</span> <span class=\"dv\">4</span><span class=\"op\">]]</span></span></code></pre>\n</div>\n<figure>\n<img src=\"https://github.com/antononcube/SimplifiedMachineLearningWorkflows-book/raw/master/Part-3-Example-Applications/Diagrams/Re-exploring-the-structure-of-Chinese-character-images/1mrut9izhycrn.png\" alt=\"1mrut9izhycrn\"><figcaption aria-hidden=\"true\">1mrut9izhycrn</figcaption></figure>\n<h2 id=\"setup\">Setup</h2>\n<div class=\"sourceCode\" id=\"cb55\">\n<pre class=\"sourceCode mathematica\"><code class=\"sourceCode mathematica\"><span id=\"cb55-1\"><a href=\"#cb55-1\" aria-hidden=\"true\"></a><span class=\"fu\">Import</span><span class=\"op\">[</span><span class=\"st\">\"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MonadicProgramming/MonadicLatentSemanticAnalysis.m\"</span><span class=\"op\">]</span>;</span>\n<span id=\"cb55-2\"><a href=\"#cb55-2\" aria-hidden=\"true\"></a><span class=\"fu\">Import</span><span class=\"op\">[</span><span class=\"st\">\"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/MonadicProgramming/MonadicSparseMatrixRecommender.m\"</span><span class=\"op\">]</span>;</span>\n<span id=\"cb55-3\"><a href=\"#cb55-3\" aria-hidden=\"true\"></a><span class=\"fu\">Import</span><span class=\"op\">[</span><span class=\"st\">\"https://raw.githubusercontent.com/antononcube/MathematicaForPrediction/master/Misc/HeatmapPlot.m\"</span><span class=\"op\">]</span></span></code></pre>\n</div>\n<h2 id=\"references\">References</h2>\n<p>[SH1] Silvia Hao, <a href=\"https://community.wolfram.com/groups/-/m/t/2509775\">“Exploring<br />\nstructure of Chinese characters through image processing”</a>, (2022),<br />\n<a href=\"https://community.wolfram.com\">Wolfram Community</a>.</p>\n<p>[AA1] Anton Antonov, <a href=\"https://community.wolfram.com/groups/-/m/t/1789024\">“A monad for<br />\nLatent Semantic Analysis workflows”</a>, (2019), <a href=\"https://community.wolfram.com\">Wolfram Community</a>.</p>\n<p>[AA2] Anton Antonov, <a href=\"https://community.wolfram.com/groups/-/m/t/2508248\">“LSA methods<br />\ncomparison over random mandalas deconstruction – WL”</a>, (2022), <a href=\"https://community.wolfram.com\">Wolfram Community</a>.</p>\n<p>[AA3] Anton Antonov, <a href=\"https://community.wolfram.com/groups/-/m/t/2143094\">“Bethlehem<br />\nstars: classifying randomly generated mandalas”</a>, (2020), <a href=\"https://community.wolfram.com\">Wolfram Community</a>.</p>\n<p>[AA4] Anton Antonov, <a href=\"https://mathematicaforprediction.wordpress.com/2022/03/01/random-mandala-deconstruction-in-r-python-and-mathematica/8\">“Random mandalas deconstruction in R, Python, and Mathematica”</a>, (2022), <a href=\"https://mathematicaforprediction.wordpress.com\">MathematicaForPrediction at WordPress</a>.</p>\n<p>[AAp1] Anton Antonov, <a href=\"https://github.com/antononcube/MathematicaForPrediction/blob/master/Misc/LSAMonForImageCollections.m\">LSAMon<br />\nfor Image Collections Mathematica package</a>, (2022), <a href=\"https://github.com/antononcube/MathematicaForPrediction\">MathematicaForPrediction<br />\nat GitHub</a>.</p>\n",
  "wfw:commentRss": "https://mathematicaforprediction.wordpress.com/2022/05/03/re-exploring-the-structure-of-chinese-character-images/feed/",
  "slash:comments": 0,
  "media:thumbnail": "",
  "media:content": [
    {
      "media:title": "1c0w4uhnyn2jx"
    },
    {
      "media:title": "antononcube"
    },
    {
      "media:title": "0zu4hv95x0jjf"
    },
    {
      "media:title": "1jy9voh5c01lt"
    },
    {
      "media:title": "0cobk7b0m9xcn"
    },
    {
      "media:title": "07tn6wh5t97j4"
    },
    {
      "media:title": "1n5cwcrgj2d3m"
    },
    {
      "media:title": "0lvt8mcfzpvhg"
    },
    {
      "media:title": "0erc719h7lnzi"
    },
    {
      "media:title": "131vpq9dabrjo"
    },
    {
      "media:title": "0jdmyfb9rsobz"
    },
    {
      "media:title": "088nutsaye7yl"
    },
    {
      "media:title": "0j7joulwrnj30"
    },
    {
      "media:title": "1nno5c4wmc83q"
    },
    {
      "media:title": "1gtqe0ihshi9s"
    },
    {
      "media:title": "1bu5h88uiet3e"
    },
    {
      "media:title": "05re59k8t4u4u"
    },
    {
      "media:title": "0pi2u9ejqv9wd"
    },
    {
      "media:title": "1l9yz2e8pvlyl"
    },
    {
      "media:title": "03bc668vzyh4v"
    },
    {
      "media:title": "00ecjkyzm4e2s"
    },
    {
      "media:title": "1wsyx76kjba1g"
    },
    {
      "media:title": "18wdi99m1k99j"
    },
    {
      "media:title": "1nvdb26265li6"
    },
    {
      "media:title": "1c0w4uhnyn2jx"
    },
    {
      "media:title": "14cnicsw2rvrt"
    },
    {
      "media:title": "0vz82un57054q"
    },
    {
      "media:title": "10275rv8gn1qt"
    },
    {
      "media:title": "049bs0w0x26jw"
    },
    {
      "media:title": "0i509m9n2d2p8"
    },
    {
      "media:title": "1raokwq750nyi"
    },
    {
      "media:title": "15qkrj0nw08mv"
    },
    {
      "media:title": "0cn7ty6zf3mgo"
    },
    {
      "media:title": "1w6jkhdpxlxw8"
    },
    {
      "media:title": "0c84q1hscjubu"
    },
    {
      "media:title": "1vtcw1dhzlet5"
    },
    {
      "media:title": "10eg2eaajgiit"
    },
    {
      "media:title": "1t09xi5nlycaw"
    },
    {
      "media:title": "0np1umfcks9hm"
    },
    {
      "media:title": "1mc1fa16ylzcu"
    },
    {
      "media:title": "1c6p7pzemk6qx"
    },
    {
      "media:title": "1h2aitm71mnl5"
    },
    {
      "media:title": "084vbifk2zvi3"
    },
    {
      "media:title": "06xq4p3k31fzt"
    },
    {
      "media:title": "01xeidbc9qme6"
    },
    {
      "media:title": "1mrut9izhycrn"
    }
  ]
}