{
  "title": "Find the perfect city for you using Meetups data",
  "link": "https://datanice.wordpress.com/2015/09/07/find-the-perfect-city-for-you-using-meetups-data/",
  "comments": "https://datanice.wordpress.com/2015/09/07/find-the-perfect-city-for-you-using-meetups-data/#respond",
  "dc:creator": "aptissimum",
  "pubDate": "Mon, 07 Sep 2015 14:14:50 +0000",
  "category": [
    "Non classé",
    "events",
    "meetup API",
    "pandas",
    "python"
  ],
  "guid": "http://datanice.wordpress.com/?p=15",
  "description": "Some time ago I discovered a very nice tool to find nearby events and things to do around. It&#8217;s called citypulse.io and I found it very useful. Every night, they pull new data from: Ticketmaster (UK & US) Eventbrite.com Meetup.com (Meetup API) Viagogo. After playing a little bit with the browser developper tools, I found [&#8230;]",
  "content:encoded": "<p>Some time ago I discovered a very nice tool to find nearby events and things to do around. It&#8217;s called <a href=\"http://www.citypulse.io\">citypulse.io</a> and I found it very useful.</p>\n<p><a href=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729.png\"><img data-attachment-id=\"16\" data-permalink=\"https://datanice.wordpress.com/2015/09/07/find-the-perfect-city-for-you-using-meetups-data/screenshot-from-2015-09-05-170729/#main\" data-orig-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png\" data-orig-size=\"641,208\" data-comments-opened=\"1\" data-image-meta=\"{\"aperture\":\"0\",\"credit\":\"\",\"camera\":\"\",\"caption\":\"\",\"created_timestamp\":\"0\",\"copyright\":\"\",\"focal_length\":\"0\",\"iso\":\"0\",\"shutter_speed\":\"0\",\"title\":\"\",\"orientation\":\"0\"}\" data-image-title=\"Screenshot from 2015-09-05 17:07:29\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png?w=300\" data-large-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png?w=525\" class=\"alignnone size-full wp-image-16\" src=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png?w=525\" alt=\"Screenshot from 2015-09-05 17:07:29\" srcset=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png?w=525 525w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png?w=150 150w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png?w=300 300w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-170729-e1441466003403.png 641w\" sizes=\"(max-width: 525px) 100vw, 525px\"   /></a><br />\nEvery night, they pull new data from:<span id=\"more-15\"></span></p>\n<ul>\n<li>Ticketmaster (UK & US)</li>\n<li>Eventbrite.com</li>\n<li>Meetup.com (Meetup API)</li>\n<li>Viagogo.</li>\n</ul>\n<p>After playing a little bit with the browser developper tools, I found out the url to get the datapulse data for a given latitude and longitude.<br />\nExample:<a href=\"http://www.citypulse.io/api/event/GetEvents?startTime=2015-09-05T09:09:07.638Z&startEndTime=2015-09-12T09:09:07.638Z&nwLat=40.81538085107934&nwLong=-74.14212817710876&seLat=40.66086032810895&seLong=-73.69512195152282&categoryString=19,77,90,7,80,89,112,113,145,146,&skip=100&take=100&mapZoom=11&guid=47f1f28c-b855-4566-8da2-0151052209ad\">http://www.citypulse.io/api/event/GetEvents?startTime=2015-09-05T09:09:07.638Z&startEndTime=2015-09-12T09:09:07.638Z&nwLat=40.81538085107934&nwLong=-74.14212817710876&seLat=40.66086032810895&seLong=-73.69512195152282&categoryString=19,77,90,7,80,89,112,113,145,146,&skip=100&take=100&mapZoom=11&guid=47f1f28c-b855-4566-8da2-0151052209ad<br />\n</a></p>\n<p>Thanks to this API I created a JSON file containing the  2015 events and meetups for Los Angeles and New York. Let&#8217;s explore the data !<br />\n<img class=\"shrinkToFit\" src=\"https://images.unsplash.com/29/night-square.jpg?q=80&fm=jpg&s=3aab7af150b0717491f65e18dc481982\" alt=\"https://images.unsplash.com/29/night-square.jpg?q=80&fm=jpg&s=3aab7af150b0717491f65e18dc481982\" width=\"972\" height=\"641\" />Here is a little python script that I put up to clean the data and plot some bar charts to get insights. I use the pandas package which is very practical to have a first glance of your data.</p>\n<pre> \nimport pandas as pd\nimport numpy as np\nimport locale\nlocale.setlocale(locale.LC_NUMERIC, '')\n\nall = pd.read_json(\"allData.json\")\nall.TicketPrice = all.TicketPrice.apply(lambda x: \"$0.00\" if isinstance(x, basestring) and x == \"\" else x)\nall['price'] = all.TicketPrice.map(lambda x : float(locale.atof(x[1:])))\nall['isFree'] = all.price.apply(lambda x: 1 if x == 0 else 0)\nall['city'] = all.RegionId.map({3639:'Los Angeles',3633:'New York'})\n\n#all.price.argmax()\n#all = all.drop(all.index[52])\n\ngro = all.groupby(['CategoryName','city'])\ntemp0 = gro.CategoryName.count()\nmy_plot1 = temp0.unstack().plot(kind='bar',title=\"Number of events per event category [Week 1 September 2015]\",figsize=(10, 6))\nmy_plot1.set_xlabel(\"Event category\")\nmy_plot1.set_ylabel(\"Number of events\")\n\n\ntemp2 = gro.isFree.sum()/gro.isFree.count()\nmy_plot2 = temp2.unstack().plot(kind='bar',title='Percentage of Free events [Week 1 September 2015]',figsize=(10, 6))\nmy_plot2.set_xlabel(\"Event category\")\nmy_plot2.set_ylabel(\"Percentage of Free events\")\n\ntemp1 = gro.price.sum()/(gro.price.count()-gro.isFree.sum())\nmy_plot3 = temp1.unstack().plot(kind='bar',title='Mean price per event category [Week 1 September 2015]',figsize=(10, 6))\nmy_plot3.set_xlabel(\"Event category\")\nmy_plot3.set_ylabel(\"Mean price of events\")</pre>\n<p>First I fill the empty strings in the ticket price column and replace &#8220;&#8221; with &#8220;$0.00&#8221;.<br />\nThen I create a column &#8220;isFree&#8221; which will be useful to see which kind of events are free in each city, but also to get the number of non free events used to compute the mean price of the tickets.</p>\n<p>Here are the results :<br />\n<a href=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png\"><img data-attachment-id=\"27\" data-permalink=\"https://datanice.wordpress.com/2015/09/07/find-the-perfect-city-for-you-using-meetups-data/screenshot-from-2015-09-05-183907/#main\" data-orig-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png\" data-orig-size=\"702,492\" data-comments-opened=\"1\" data-image-meta=\"{\"aperture\":\"0\",\"credit\":\"\",\"camera\":\"\",\"caption\":\"\",\"created_timestamp\":\"0\",\"copyright\":\"\",\"focal_length\":\"0\",\"iso\":\"0\",\"shutter_speed\":\"0\",\"title\":\"\",\"orientation\":\"0\"}\" data-image-title=\"Screenshot from 2015-09-05 18:39:07\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png?w=300\" data-large-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png?w=525\" class=\"alignnone size-large wp-image-27\" src=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png?w=525&#038;h=368\" alt=\"Screenshot from 2015-09-05 18:39:07\" srcset=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png?w=525&h=368 525w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png?w=150&h=105 150w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png?w=300&h=210 300w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183907.png 702w\" sizes=\"(max-width: 525px) 100vw, 525px\"   /></a></p>\n<p>In the chart above, we can see that Los Angeles has more online events organised with a noticeable difference in the number of Learning meetups that could be explained by the important number of tech meetups in the area.</p>\n<p><a href=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png\"><img data-attachment-id=\"28\" data-permalink=\"https://datanice.wordpress.com/2015/09/07/find-the-perfect-city-for-you-using-meetups-data/screenshot-from-2015-09-05-183920/#main\" data-orig-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png\" data-orig-size=\"678,465\" data-comments-opened=\"1\" data-image-meta=\"{\"aperture\":\"0\",\"credit\":\"\",\"camera\":\"\",\"caption\":\"\",\"created_timestamp\":\"0\",\"copyright\":\"\",\"focal_length\":\"0\",\"iso\":\"0\",\"shutter_speed\":\"0\",\"title\":\"\",\"orientation\":\"0\"}\" data-image-title=\"Screenshot from 2015-09-05 18:39:20\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png?w=300\" data-large-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png?w=525\" class=\"alignnone size-large wp-image-28\" src=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png?w=525&#038;h=360\" alt=\"Screenshot from 2015-09-05 18:39:20\" srcset=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png?w=525&h=360 525w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png?w=150&h=103 150w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png?w=300&h=206 300w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183920.png 678w\" sizes=\"(max-width: 525px) 100vw, 525px\"   /></a></p>\n<p>The chart above shows that there is no big difference in the percentage of free events in every category. The data for the Comedy category cannot be trusted because of the small number of events of this type in the dataset.<a href=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png\"><img data-attachment-id=\"29\" data-permalink=\"https://datanice.wordpress.com/2015/09/07/find-the-perfect-city-for-you-using-meetups-data/screenshot-from-2015-09-05-183933/#main\" data-orig-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png\" data-orig-size=\"665,485\" data-comments-opened=\"1\" data-image-meta=\"{\"aperture\":\"0\",\"credit\":\"\",\"camera\":\"\",\"caption\":\"\",\"created_timestamp\":\"0\",\"copyright\":\"\",\"focal_length\":\"0\",\"iso\":\"0\",\"shutter_speed\":\"0\",\"title\":\"\",\"orientation\":\"0\"}\" data-image-title=\"Screenshot from 2015-09-05 18:39:33\" data-image-description=\"\" data-image-caption=\"\" data-medium-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png?w=300\" data-large-file=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png?w=525\" class=\"alignnone size-large wp-image-29\" src=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png?w=525&#038;h=382\" alt=\"Screenshot from 2015-09-05 18:39:33\" srcset=\"https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png?w=525&h=382 525w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png?w=150&h=109 150w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png?w=300&h=219 300w, https://datanice.files.wordpress.com/2015/09/screenshot-from-2015-09-05-183933.png 665w\" sizes=\"(max-width: 525px) 100vw, 525px\"   /></a></p>\n<p>The chart above shows the mean price for the events of each category.</p>\n<p>Note :<br />\nBefore getting the data for the whole year, I started by looking at the data for one month. The chart for the percentage of free events looked different for that range, Looking at a large dataset is a way to get rid of these biases.</p>\n<p>Next Steps and Improvements:<br />\n-Looking at the evolution of trends over the years<br />\n-Compare with more cities</p>\n",
  "wfw:commentRss": "https://datanice.wordpress.com/2015/09/07/find-the-perfect-city-for-you-using-meetups-data/feed/",
  "slash:comments": 0,
  "media:content": [
    {
      "media:title": "aptissimum"
    },
    {
      "media:title": "Screenshot from 2015-09-05 17:07:29"
    },
    {
      "media:title": "https://images.unsplash.com/29/night-square.jpg?q=80&#038;fm=jpg&#038;s=3aab7af150b0717491f65e18dc481982"
    },
    {
      "media:title": "Screenshot from 2015-09-05 18:39:07"
    },
    {
      "media:title": "Screenshot from 2015-09-05 18:39:20"
    },
    {
      "media:title": "Screenshot from 2015-09-05 18:39:33"
    }
  ]
}