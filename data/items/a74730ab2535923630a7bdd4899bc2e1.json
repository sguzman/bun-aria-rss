{
  "id": "tag:blogger.com,1999:blog-17171206.post-5614690536780607726",
  "published": "2013-06-09T11:19:00.002-07:00",
  "updated": "2013-06-10T08:55:58.473-07:00",
  "title": "Tools for Data Processing @ Webscale",
  "content": "<br /><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\">A couple of days ago, I attended the <a href=\"http://analyticswebscale.splashthat.com/\">Analytics @Webscale workshop</a> at Facebook. I found this workshop to be very interesting from a technical perspective. This conference was mostly organized by Facebook Engineering, but they invited LinkedIn, and Twitter to present, and the result was pretty balanced. I think the presentations, though biased to what the 3 \"Social Giants\" do, were a good summary of many of the problems webscale companies face when dealing with Big Data. It is interesting to see how similar problems can be solved in different ways. I recently described how we address at Netflix many of these issues in our <a href=\"http://techblog.netflix.com/2013/03/system-architectures-for.html\">Netflix Techblog</a>. It is also interesting to see how much sharing and interaction there is nowadays in the infrastructure space, with companies releasing most of what they do as open source, and using - and even building upon - what their main business competitors have created.<br /><br />These are my barely edited notes:</div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\"><br /></div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\">Twitter presented several components in their infrastructure. They use Thrift on HDFS to store their logs. They have now build&nbsp;<a href=\"http://parquet.io/\">Twitter Parquet</a>, a columnar storage database that improves storage efficiency by allowing to read columns at a time.<br /><br /><table align=\"center\" cellpadding=\"0\" cellspacing=\"0\" class=\"tr-caption-container\" style=\"margin-left: auto; margin-right: auto; text-align: center;\"><tbody><tr><td style=\"text-align: center;\"><a href=\"http://2.bp.blogspot.com/-ucPQ4tSu-eM/UbTDW_JjYvI/AAAAAAAAAbQ/pwUuuSvykuY/s1600/ParquetTwitter-Poster.JPG\" imageanchor=\"1\" style=\"margin-left: auto; margin-right: auto;\"><img border=\"0\" height=\"320\" src=\"http://2.bp.blogspot.com/-ucPQ4tSu-eM/UbTDW_JjYvI/AAAAAAAAAbQ/pwUuuSvykuY/s320/ParquetTwitter-Poster.JPG\" width=\"240\" /></a></td></tr><tr><td class=\"tr-caption\" style=\"text-align: center;\">@squarecog talking about Parquet</td></tr></tbody></table><br />They also presented their DAL (Data Access Layer), built on top of <a href=\"http://incubator.apache.org/hcatalog/\">HCatalog</a>.<br /><br /><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://1.bp.blogspot.com/-Mn-XrPPnxSY/UbTDk896CpI/AAAAAAAAAbg/Z1ud9wLrSPs/s1600/TwitterDAL-HCatalog-Slide.JPG\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"240\" src=\"http://1.bp.blogspot.com/-Mn-XrPPnxSY/UbTDk896CpI/AAAAAAAAAbg/Z1ud9wLrSPs/s320/TwitterDAL-HCatalog-Slide.JPG\" width=\"320\" /></a></div><br /><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://4.bp.blogspot.com/-5bxXJJuE90c/UbTDnnSx1OI/AAAAAAAAAbo/e5DNKAi7pMc/s1600/DALTwitter-Poster.JPG\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"320\" src=\"http://4.bp.blogspot.com/-5bxXJJuE90c/UbTDnnSx1OI/AAAAAAAAAbo/e5DNKAi7pMc/s320/DALTwitter-Poster.JPG\" width=\"240\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: center;\"></div><br /><br />Of course, they also talked about <a href=\"http://storm-project.net/\">Twitter Storm</a>, which is their approach to distributed/nearline computation. Every time I hear about Storm it sounds better. Storm now supports different parts of their production algorithms. For example, the ranking and scoring of tweets for real-time search is based on a Storm topology.<br /><br /><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://1.bp.blogspot.com/-p0Et-gVieXM/UbTDzNteQcI/AAAAAAAAAbw/cYDM-iX1BrM/s1600/TwitterRankingStorm-Slide.JPG\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"240\" src=\"http://1.bp.blogspot.com/-p0Et-gVieXM/UbTDzNteQcI/AAAAAAAAAbw/cYDM-iX1BrM/s320/TwitterRankingStorm-Slide.JPG\" width=\"320\" /></a></div><br /><br />Finally, they also presented a new tool called <a href=\"http://lanyrd.com/2013/lambda-jam/scghxb/\">Summingbird</a>. This is still not open sourced, but they are planning on doing so soon. Summingbird is a DSL on top of <a href=\"https://github.com/twitter/scalding\">Scalding</a> that allows to define workflows that integrate offline batch processing from Hadoop and near-line from Storm.<br /><br /></div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\"><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://1.bp.blogspot.com/-Iy9pYWDBbLY/UbTD5aMlyTI/AAAAAAAAAb4/R1qWDYmJ_bM/s1600/TwitterSummingbird-Slide.JPG\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"240\" src=\"http://1.bp.blogspot.com/-Iy9pYWDBbLY/UbTD5aMlyTI/AAAAAAAAAb4/R1qWDYmJ_bM/s320/TwitterSummingbird-Slide.JPG\" width=\"320\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://4.bp.blogspot.com/-jgUAtUMy2iw/UbTD_JHEpgI/AAAAAAAAAcA/AQetvolMr0c/s1600/Summingbird-Poster.JPG\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"320\" src=\"http://4.bp.blogspot.com/-jgUAtUMy2iw/UbTD_JHEpgI/AAAAAAAAAcA/AQetvolMr0c/s320/Summingbird-Poster.JPG\" width=\"240\" /></a></div><div class=\"separator\" style=\"clear: both; text-align: center;\"><br /></div><br /></div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\">LinkedIn also talked about their approach to combining offline/near-line/real-time computation although I always get the sense that they are much more leaning towards the former. They talked about three main tools: <a href=\"http://kafka.apache.org/\">Kafka</a>, their publish subscribe system; <a href=\"http://data.linkedin.com/opensource/azkaban\">Azkaban</a>, a batch job scheduler we have talked about using in the past; and <a href=\"http://data.linkedin.com/projects/espresso\">Espresso</a> a timeline-consistent NOSQL database.<br /><br /></div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\"><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://4.bp.blogspot.com/-4yikS_Ovfjs/UbTEVSDlLyI/AAAAAAAAAcI/h9POg5uK1Ss/s1600/Exa-scaleSystemsFacebook-Slide.JPG\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"240\" src=\"http://4.bp.blogspot.com/-4yikS_Ovfjs/UbTEVSDlLyI/AAAAAAAAAcI/h9POg5uK1Ss/s320/Exa-scaleSystemsFacebook-Slide.JPG\" width=\"320\" /></a></div><br /></div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\">Facebook also presented their whole stack. Some known tools, some not so much. <a href=\"https://www.facebook.com/notes/facebook-engineering/under-the-hood-data-diving-with-scuba/10150599692628920\">Facebook Scuba</a>&nbsp;is a distributed in-memory stats store that allows them to read distributed logs and query them fast. <a href=\"http://gigaom.com/2013/06/06/facebook-unveils-presto-engine-for-querying-250-pb-data-warehouse/\">Facebook Presto</a> was a new tool presented as the solution to get fast queries out of Exabyte-scale data stores. The sentence \"A good day for me is when I can run 6 Hive queries\" supposedly attributed to a FB data scientist stuck in my mind ;-).&nbsp;<span style=\"line-height: 1.428571em;\">Morse is a different distributed approach to fast in-memory data loading. And,</span><span style=\"line-height: 1.428571em;\">&nbsp;</span><a href=\"http://www.quora.com/Why-did-Facebook-develop-Puma-pTail-instead-of-using-existing-ones-like-Flume\" style=\"line-height: 1.428571em;\">Puma/ptail</a><span style=\"line-height: 1.428571em;\">&nbsp;</span><span style=\"line-height: 1.428571em;\">is a different approach to \"tailing\" logs, in this case into HBase.&nbsp;</span><br /><br /><div class=\"separator\" style=\"clear: both; text-align: center;\"><a href=\"http://3.bp.blogspot.com/-ZSOhuWJz0cs/UbTEaAS9k6I/AAAAAAAAAcQ/9NVlbGsPURc/s1600/FacebookScubaPoster.JPG\" imageanchor=\"1\" style=\"margin-left: 1em; margin-right: 1em;\"><img border=\"0\" height=\"320\" src=\"http://3.bp.blogspot.com/-ZSOhuWJz0cs/UbTEaAS9k6I/AAAAAAAAAcQ/9NVlbGsPURc/s320/FacebookScubaPoster.JPG\" width=\"240\" /></a></div><br /><br /></div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\">Another Facebook tool that was mentioned by all three companies is <a href=\"https://github.com/apache/giraph\">Giraph</a>. (To be fair, Giraph was started at Yahoo, but Facebook hired the creator Avery Ching). Giraph is a graph-based distributed computation framework that works on top of Hadoop. Facebook claims they ran a Page Rank on a graph with a trillion edges on 200 machines in less than 6 minutes/iteration. Giraph is another alternative to <a href=\"http://graphlab.org/\">Graphlab</a>. Both LinkedIn and Twitter are using it. In the case of Twitter, it is interesting to hear that they now prefer it to their own in-house (although single-node)&nbsp;<a href=\"https://github.com/twitter/cassovary\">Cassovary</a>. It will be interesting to see all these graph processing tolls side by side in this year's <a href=\"http://graphlab.org/graphlab-workshop-2013/\">Graphlab workshop</a>.</div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\"><br /></div><div style=\"border: 0px; font-family: Helvetica, Arial, 'Droid Sans', sans-serif; font-size: 14px; line-height: 1.428571em; margin: 0px; padding: 0px;\">Another interesting thread I heard from different speakers as well as coffee-break discussions was the use of <a href=\"http://www.quora.com/How-does-YARN-compare-to-Mesos\">Mesos vs. Yarn</a> or even <a href=\"http://spark-project.org/\">Spark</a>. It is clear that many of us are looking forward to the NextGen Mapreduce tools to reach some level of maturity.<br /><br /><br /></div>",
  "link": [
    "",
    "",
    "",
    "",
    ""
  ],
  "author": {
    "name": "Xavier Amatriain",
    "uri": "http://www.blogger.com/profile/14166119485952054870",
    "email": "noreply@blogger.com",
    "gd:image": ""
  },
  "media:thumbnail": "",
  "thr:total": 0
}